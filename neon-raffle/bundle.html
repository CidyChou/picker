<!DOCTYPE html><html lang=en><style>*,:before,:after{box-sizing:border-box;border:0 solid #e5e7eb}:before,:after{--tw-content:""}html,:host{-webkit-text-size-adjust:100%;tab-size:4;font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}body{line-height:inherit;margin:0}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-feature-settings:normal;font-variation-settings:normal;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-feature-settings:inherit;font-variation-settings:inherit;font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:#0000;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{margin:0;padding:0;list-style:none}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder{opacity:1;color:#9ca3af}textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}[hidden]{display:none}:root{--background:0 0% 100%;--foreground:0 0% 3.9%;--card:0 0% 100%;--card-foreground:0 0% 3.9%;--popover:0 0% 100%;--popover-foreground:0 0% 3.9%;--primary:0 0% 9%;--primary-foreground:0 0% 98%;--secondary:0 0% 96.1%;--secondary-foreground:0 0% 9%;--muted:0 0% 96.1%;--muted-foreground:0 0% 45.1%;--accent:0 0% 96.1%;--accent-foreground:0 0% 9%;--destructive:0 84.2% 60.2%;--destructive-foreground:0 0% 98%;--border:0 0% 89.8%;--input:0 0% 89.8%;--ring:0 0% 3.9%;--radius:.5rem}.dark{--background:0 0% 3.9%;--foreground:0 0% 98%;--card:0 0% 3.9%;--card-foreground:0 0% 98%;--popover:0 0% 3.9%;--popover-foreground:0 0% 98%;--primary:0 0% 98%;--primary-foreground:0 0% 9%;--secondary:0 0% 14.9%;--secondary-foreground:0 0% 98%;--muted:0 0% 14.9%;--muted-foreground:0 0% 63.9%;--accent:0 0% 14.9%;--accent-foreground:0 0% 98%;--destructive:0 62.8% 30.6%;--destructive-foreground:0 0% 98%;--border:0 0% 14.9%;--input:0 0% 14.9%;--ring:0 0% 83.1%}*{border-color:hsl(var(--border))}body{background-color:hsl(var(--background));color:hsl(var(--foreground))}*,:before,:after,::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (width>=640px){.container{max-width:640px}}@media (width>=768px){.container{max-width:768px}}@media (width>=1024px){.container{max-width:1024px}}@media (width>=1280px){.container{max-width:1280px}}@media (width>=1536px){.container{max-width:1536px}}.sr-only{clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;width:1px;height:1px;margin:-1px;padding:0;position:absolute;overflow:hidden}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.-inset-10{inset:-2.5rem}.inset-0{inset:0}.inset-x-0{left:0;right:0}.inset-y-0{top:0;bottom:0}.-bottom-12{bottom:-3rem}.-left-12{left:-3rem}.-right-12{right:-3rem}.-top-12{top:-3rem}.bottom-0{bottom:0}.left-0{left:0}.left-1\/2{left:50%}.left-2{left:.5rem}.left-\[50\%\]{left:50%}.right-0{right:0}.right-1{right:.25rem}.right-2{right:.5rem}.right-4{right:1rem}.right-6{right:1.5rem}.top-0{top:0}.top-1{top:.25rem}.top-1\/2{top:50%}.top-4{top:1rem}.top-6{top:1.5rem}.top-\[1px\]{top:1px}.top-\[50\%\]{top:50%}.top-\[60\%\]{top:60%}.top-full{top:100%}.-z-10{z-index:-10}.z-0{z-index:0}.z-10{z-index:10}.z-20{z-index:20}.z-40{z-index:40}.z-50{z-index:50}.z-\[100\]{z-index:100}.z-\[1\]{z-index:1}.-mx-1{margin-left:-.25rem;margin-right:-.25rem}.mx-auto{margin-left:auto;margin-right:auto}.my-1{margin-top:.25rem;margin-bottom:.25rem}.-ml-4{margin-left:-1rem}.-mt-4{margin-top:-1rem}.mb-1{margin-bottom:.25rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.ml-1{margin-left:.25rem}.ml-auto{margin-left:auto}.mr-2{margin-right:.5rem}.mt-1{margin-top:.25rem}.mt-1\.5{margin-top:.375rem}.mt-2{margin-top:.5rem}.mt-20{margin-top:5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-auto{margin-top:auto}.block{display:block}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.hidden{display:none}.aspect-square{aspect-ratio:1}.size-4{width:1rem;height:1rem}.size-\[--cell-size\]{width:var(--cell-size);height:var(--cell-size)}.h-0{height:0}.h-0\.5{height:.125rem}.h-1{height:.25rem}.h-1\.5{height:.375rem}.h-10{height:2.5rem}.h-2{height:.5rem}.h-2\.5{height:.625rem}.h-24{height:6rem}.h-3{height:.75rem}.h-3\.5{height:.875rem}.h-4{height:1rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-8{height:2rem}.h-9{height:2.25rem}.h-\[--cell-size\]{height:var(--cell-size)}.h-\[1px\]{height:1px}.h-\[200px\]{height:200px}.h-\[90\%\]{height:90%}.h-\[var\(--radix-navigation-menu-viewport-height\)\]{height:var(--radix-navigation-menu-viewport-height)}.h-\[var\(--radix-select-trigger-height\)\]{height:var(--radix-select-trigger-height)}.h-auto{height:auto}.h-fit{height:fit-content}.h-full{height:100%}.h-px{height:1px}.max-h-\[--radix-context-menu-content-available-height\]{max-height:var(--radix-context-menu-content-available-height)}.max-h-\[--radix-select-content-available-height\]{max-height:var(--radix-select-content-available-height)}.max-h-\[300px\]{max-height:300px}.max-h-\[var\(--radix-dropdown-menu-content-available-height\)\]{max-height:var(--radix-dropdown-menu-content-available-height)}.max-h-screen{max-height:100vh}.min-h-\[160px\]{min-height:160px}.min-h-\[200px\]{min-height:200px}.min-h-\[60px\]{min-height:60px}.min-h-screen{min-height:100vh}.w-10{width:2.5rem}.w-2{width:.5rem}.w-2\.5{width:.625rem}.w-24{width:6rem}.w-3{width:.75rem}.w-3\.5{width:.875rem}.w-3\/4{width:75%}.w-4{width:1rem}.w-6{width:1.5rem}.w-64{width:16rem}.w-72{width:18rem}.w-8{width:2rem}.w-9{width:2.25rem}.w-\[--cell-size\]{width:var(--cell-size)}.w-\[100px\]{width:100px}.w-\[1px\]{width:1px}.w-\[90\%\]{width:90%}.w-fit{width:fit-content}.w-full{width:100%}.w-max{width:max-content}.w-px{width:1px}.min-w-0{min-width:0}.min-w-10{min-width:2.5rem}.min-w-8{min-width:2rem}.min-w-9{min-width:2.25rem}.min-w-\[--cell-size\]{min-width:var(--cell-size)}.min-w-\[12rem\]{min-width:12rem}.min-w-\[8rem\]{min-width:8rem}.min-w-\[var\(--radix-select-trigger-width\)\]{min-width:var(--radix-select-trigger-width)}.max-w-\[700px\]{max-width:700px}.max-w-lg{max-width:32rem}.max-w-max{max-width:max-content}.max-w-md{max-width:28rem}.max-w-sm{max-width:24rem}.flex-1{flex:1}.shrink-0{flex-shrink:0}.grow{flex-grow:1}.grow-0{flex-grow:0}.basis-full{flex-basis:100%}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.origin-\[--radix-context-menu-content-transform-origin\]{transform-origin:var(--radix-context-menu-content-transform-origin)}.origin-\[--radix-dropdown-menu-content-transform-origin\]{transform-origin:var(--radix-dropdown-menu-content-transform-origin)}.origin-\[--radix-hover-card-content-transform-origin\]{transform-origin:var(--radix-hover-card-content-transform-origin)}.origin-\[--radix-menubar-content-transform-origin\]{transform-origin:var(--radix-menubar-content-transform-origin)}.origin-\[--radix-popover-content-transform-origin\]{transform-origin:var(--radix-popover-content-transform-origin)}.origin-\[--radix-select-content-transform-origin\]{transform-origin:var(--radix-select-content-transform-origin)}.origin-\[--radix-tooltip-content-transform-origin\]{transform-origin:var(--radix-tooltip-content-transform-origin)}.-translate-x-1\/2{--tw-translate-x:-50%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1\/2{--tw-translate-y:-50%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-\[-50\%\]{--tw-translate-x:-50%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-0{--tw-translate-y:0px;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-20{--tw-translate-y:5rem;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-\[-50\%\]{--tw-translate-y:-50%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-45{--tw-rotate:45deg;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.rotate-90{--tw-rotate:90deg;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-100{--tw-scale-x:1;--tw-scale-y:1;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-110{--tw-scale-x:1.1;--tw-scale-y:1.1;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-125{--tw-scale-x:1.25;--tw-scale-y:1.25;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes pulse{50%{opacity:.5}}.animate-\[pulse_2s_infinite\]{animation:2s infinite pulse}.animate-pulse{animation:2s cubic-bezier(.4,0,.6,1) infinite pulse}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:1s linear infinite spin}.cursor-default{cursor:default}.cursor-pointer{cursor:pointer}.touch-none{touch-action:none}.select-none{-webkit-user-select:none;user-select:none}.list-none{list-style-type:none}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:.25rem}.gap-1\.5{gap:.375rem}.gap-2{gap:.5rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.space-x-1>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-right:calc(.25rem * var(--tw-space-x-reverse));margin-left:calc(.25rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-1\.5>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-top:calc(.375rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.375rem * var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.whitespace-nowrap{white-space:nowrap}.break-words{overflow-wrap:break-word}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:1rem}.rounded-\[inherit\]{border-radius:inherit}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:var(--radius)}.rounded-md{border-radius:calc(var(--radius) - 2px)}.rounded-none{border-radius:0}.rounded-sm{border-radius:calc(var(--radius) - 4px)}.rounded-xl{border-radius:.75rem}.rounded-l-md{border-top-left-radius:calc(var(--radius) - 2px);border-bottom-left-radius:calc(var(--radius) - 2px)}.rounded-r-md{border-top-right-radius:calc(var(--radius) - 2px);border-bottom-right-radius:calc(var(--radius) - 2px)}.rounded-t-\[10px\]{border-top-left-radius:10px;border-top-right-radius:10px}.rounded-tl-sm{border-top-left-radius:calc(var(--radius) - 4px)}.border{border-width:1px}.border-0{border-width:0}.border-2{border-width:2px}.border-4{border-width:4px}.border-b{border-bottom-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-t{border-top-width:1px}.border-blue-400\/30{border-color:#60a5fa4d}.border-blue-500\/50{border-color:#3b82f680}.border-destructive{border-color:hsl(var(--destructive))}.border-destructive\/50{border-color:hsl(var(--destructive) / .5)}.border-input{border-color:hsl(var(--input))}.border-primary{border-color:hsl(var(--primary))}.border-primary\/50{border-color:hsl(var(--primary) / .5)}.border-red-900\/30{border-color:#7f1d1d4d}.border-slate-700{--tw-border-opacity:1;border-color:rgb(51 65 85/var(--tw-border-opacity))}.border-slate-800{--tw-border-opacity:1;border-color:rgb(30 41 59/var(--tw-border-opacity))}.border-transparent{border-color:#0000}.border-white{--tw-border-opacity:1;border-color:rgb(255 255 255/var(--tw-border-opacity))}.border-l-transparent{border-left-color:#0000}.border-t-transparent{border-top-color:#0000}.bg-accent{background-color:hsl(var(--accent))}.bg-background{background-color:hsl(var(--background))}.bg-black\/60{background-color:#0009}.bg-black\/80{background-color:#000c}.bg-blue-500\/10{background-color:#3b82f61a}.bg-blue-500\/30{background-color:#3b82f64d}.bg-blue-500\/5{background-color:#3b82f60d}.bg-border{background-color:hsl(var(--border))}.bg-card{background-color:hsl(var(--card))}.bg-destructive{background-color:hsl(var(--destructive))}.bg-green-600{--tw-bg-opacity:1;background-color:rgb(22 163 74/var(--tw-bg-opacity))}.bg-muted{background-color:hsl(var(--muted))}.bg-muted\/50{background-color:hsl(var(--muted) / .5)}.bg-popover{background-color:hsl(var(--popover))}.bg-primary{background-color:hsl(var(--primary))}.bg-primary\/10{background-color:hsl(var(--primary) / .1)}.bg-primary\/20{background-color:hsl(var(--primary) / .2)}.bg-red-950\/20{background-color:#450a0a33}.bg-secondary{background-color:hsl(var(--secondary))}.bg-slate-800{--tw-bg-opacity:1;background-color:rgb(30 41 59/var(--tw-bg-opacity))}.bg-slate-900{--tw-bg-opacity:1;background-color:rgb(15 23 42/var(--tw-bg-opacity))}.bg-slate-900\/40{background-color:#0f172a66}.bg-slate-900\/50{background-color:#0f172a80}.bg-slate-900\/90{background-color:#0f172ae6}.bg-slate-950\/20{background-color:#02061733}.bg-slate-950\/30{background-color:#0206174d}.bg-slate-950\/50{background-color:#02061780}.bg-transparent{background-color:#0000}.bg-gradient-to-br{background-image:linear-gradient(to bottom right, var(--tw-gradient-stops))}.bg-gradient-to-r{background-image:linear-gradient(to right, var(--tw-gradient-stops))}.from-blue-400{--tw-gradient-from:#60a5fa var(--tw-gradient-from-position);--tw-gradient-to:#60a5fa00 var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-blue-500\/10{--tw-gradient-from:#3b82f61a var(--tw-gradient-from-position);--tw-gradient-to:#3b82f600 var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-blue-500\/20{--tw-gradient-from:#3b82f633 var(--tw-gradient-from-position);--tw-gradient-to:#3b82f600 var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-blue-600{--tw-gradient-from:#2563eb var(--tw-gradient-from-position);--tw-gradient-to:#2563eb00 var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-red-500{--tw-gradient-from:#ef4444 var(--tw-gradient-from-position);--tw-gradient-to:#ef444400 var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-slate-950\/80{--tw-gradient-from:#020617cc var(--tw-gradient-from-position);--tw-gradient-to:#02061700 var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-yellow-300{--tw-gradient-from:#fde047 var(--tw-gradient-from-position);--tw-gradient-to:#fde04700 var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-yellow-400{--tw-gradient-from:#facc15 var(--tw-gradient-from-position);--tw-gradient-to:#facc1500 var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.via-orange-300{--tw-gradient-to:#fdba7400 var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), #fdba74 var(--tw-gradient-via-position), var(--tw-gradient-to)}.to-indigo-600{--tw-gradient-to:#4f46e5 var(--tw-gradient-to-position)}.to-orange-400{--tw-gradient-to:#fb923c var(--tw-gradient-to-position)}.to-orange-500{--tw-gradient-to:#f97316 var(--tw-gradient-to-position)}.to-pink-600{--tw-gradient-to:#db2777 var(--tw-gradient-to-position)}.to-purple-400{--tw-gradient-to:#c084fc var(--tw-gradient-to-position)}.to-purple-500\/10{--tw-gradient-to:#a855f71a var(--tw-gradient-to-position)}.to-purple-500\/20{--tw-gradient-to:#a855f733 var(--tw-gradient-to-position)}.to-purple-600{--tw-gradient-to:#9333ea var(--tw-gradient-to-position)}.to-slate-900\/80{--tw-gradient-to:#0f172acc var(--tw-gradient-to-position)}.to-yellow-300{--tw-gradient-to:#fde047 var(--tw-gradient-to-position)}.bg-clip-text{background-clip:text}.fill-current{fill:currentColor}.fill-primary{fill:hsl(var(--primary))}.object-contain{-o-object-fit:contain;object-fit:contain}.p-0{padding:0}.p-1{padding:.25rem}.p-12{padding:3rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-\[1px\]{padding:1px}.px-1{padding-left:.25rem;padding-right:.25rem}.px-1\.5{padding-left:.375rem;padding-right:.375rem}.px-12{padding-left:3rem;padding-right:3rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-2\.5{padding-left:.625rem;padding-right:.625rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-8{padding-left:2rem;padding-right:2rem}.px-\[--cell-size\]{padding-left:var(--cell-size);padding-right:var(--cell-size)}.py-0{padding-top:0;padding-bottom:0}.py-0\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\.5{padding-top:.375rem;padding-bottom:.375rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-2{padding-bottom:.5rem}.pb-4{padding-bottom:1rem}.pl-2{padding-left:.5rem}.pl-4{padding-left:1rem}.pl-8{padding-left:2rem}.pr-1{padding-right:.25rem}.pr-2{padding-right:.5rem}.pr-6{padding-right:1.5rem}.pr-8{padding-right:2rem}.pt-0{padding-top:0}.pt-2{padding-top:.5rem}.pt-20{padding-top:5rem}.pt-4{padding-top:1rem}.text-left{text-align:left}.text-center{text-align:center}.align-middle{vertical-align:middle}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-6xl{font-size:3.75rem;line-height:1}.text-7xl{font-size:4.5rem;line-height:1}.text-8xl{font-size:6rem;line-height:1}.text-\[0\.8rem\]{font-size:.8rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-black{font-weight:900}.font-bold{font-weight:700}.font-light{font-weight:300}.font-medium{font-weight:500}.font-normal{font-weight:400}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.leading-none{line-height:1}.leading-relaxed{line-height:1.625}.tracking-tight{letter-spacing:-.025em}.tracking-tighter{letter-spacing:-.05em}.tracking-wider{letter-spacing:.05em}.tracking-widest{letter-spacing:.1em}.text-accent-foreground{color:hsl(var(--accent-foreground))}.text-blue-400{--tw-text-opacity:1;color:rgb(96 165 250/var(--tw-text-opacity))}.text-blue-400\/80{color:#60a5facc}.text-card-foreground{color:hsl(var(--card-foreground))}.text-current{color:currentColor}.text-destructive{color:hsl(var(--destructive))}.text-destructive-foreground{color:hsl(var(--destructive-foreground))}.text-foreground{color:hsl(var(--foreground))}.text-foreground\/50{color:hsl(var(--foreground) / .5)}.text-muted-foreground{color:hsl(var(--muted-foreground))}.text-popover-foreground{color:hsl(var(--popover-foreground))}.text-primary{color:hsl(var(--primary))}.text-primary-foreground{color:hsl(var(--primary-foreground))}.text-red-400{--tw-text-opacity:1;color:rgb(248 113 113/var(--tw-text-opacity))}.text-secondary-foreground{color:hsl(var(--secondary-foreground))}.text-slate-200{--tw-text-opacity:1;color:rgb(226 232 240/var(--tw-text-opacity))}.text-slate-300{--tw-text-opacity:1;color:rgb(203 213 225/var(--tw-text-opacity))}.text-slate-400{--tw-text-opacity:1;color:rgb(148 163 184/var(--tw-text-opacity))}.text-slate-500{--tw-text-opacity:1;color:rgb(100 116 139/var(--tw-text-opacity))}.text-slate-600{--tw-text-opacity:1;color:rgb(71 85 105/var(--tw-text-opacity))}.text-slate-700\/50{color:#33415580}.text-transparent{color:#0000}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.text-yellow-500\/80{color:#eab308cc}.underline-offset-4{text-underline-offset:4px}.opacity-0{opacity:0}.opacity-100{opacity:1}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.opacity-70{opacity:.7}.opacity-90{opacity:.9}.shadow{--tw-shadow:0 1px 3px 0 #0000001a, 0 1px 2px -1px #0000001a;--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000), var(--tw-ring-shadow,0 0 #0000), var(--tw-shadow)}.shadow-2xl{--tw-shadow:0 25px 50px -12px #00000040;--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000), var(--tw-ring-shadow,0 0 #0000), var(--tw-shadow)}.shadow-\[0_0_20px_rgba\(37\,99\,235\,0\.3\)\]{--tw-shadow:0 0 20px #2563eb4d;--tw-shadow-colored:0 0 20px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000), var(--tw-ring-shadow,0 0 #0000), var(--tw-shadow)}.shadow-\[0_0_30px_rgba\(239\,68\,68\,0\.6\)\]{--tw-shadow:0 0 30px #ef444499;--tw-shadow-colored:0 0 30px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000), var(--tw-ring-shadow,0 0 #0000), var(--tw-shadow)}.shadow-\[0_0_50px_rgba\(59\,130\,246\,0\.5\)\]{--tw-shadow:0 0 50px #3b82f680;--tw-shadow-colored:0 0 50px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000), var(--tw-ring-shadow,0 0 #0000), var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px #0000001a, 0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000), var(--tw-ring-shadow,0 0 #0000), var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px #0000001a, 0 2px 4px -2px #0000001a;--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000), var(--tw-ring-shadow,0 0 #0000), var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 2px 0 #0000000d;--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000), var(--tw-ring-shadow,0 0 #0000), var(--tw-shadow)}.outline-none{outline-offset:2px;outline:2px solid #0000}.outline{outline-style:solid}.ring-0{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow,0 0 #0000)}.ring-offset-background{--tw-ring-offset-color:hsl(var(--background))}.blur-3xl{--tw-blur:blur(64px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.blur-\[0\.5px\]{--tw-blur:blur(.5px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.blur-\[100px\]{--tw-blur:blur(100px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.blur-sm{--tw-blur:blur(4px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow-2xl{--tw-drop-shadow:drop-shadow(0 25px 25px #00000026);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow-lg{--tw-drop-shadow:drop-shadow(0 10px 8px #0000000a) drop-shadow(0 4px 3px #0000001a);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-sm{--tw-backdrop-blur:blur(4px);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-blur-xl{--tw-backdrop-blur:blur(24px);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-all{transition-property:all;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-opacity{transition-property:opacity;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-transform{transition-property:transform;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}.duration-500{transition-duration:.5s}.duration-700{transition-duration:.7s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}@keyframes enter{0%{opacity:var(--tw-enter-opacity,1);transform:translate3d(var(--tw-enter-translate-x,0), var(--tw-enter-translate-y,0), 0) scale3d(var(--tw-enter-scale,1), var(--tw-enter-scale,1), var(--tw-enter-scale,1)) rotate(var(--tw-enter-rotate,0))}}@keyframes exit{to{opacity:var(--tw-exit-opacity,1);transform:translate3d(var(--tw-exit-translate-x,0), var(--tw-exit-translate-y,0), 0) scale3d(var(--tw-exit-scale,1), var(--tw-exit-scale,1), var(--tw-exit-scale,1)) rotate(var(--tw-exit-rotate,0))}}.animate-in{--tw-enter-opacity:initial;--tw-enter-scale:initial;--tw-enter-rotate:initial;--tw-enter-translate-x:initial;--tw-enter-translate-y:initial;animation-name:enter;animation-duration:.15s}.fade-in,.fade-in-0{--tw-enter-opacity:0}.zoom-in{--tw-enter-scale:0}.zoom-in-50{--tw-enter-scale:.5}.zoom-in-95{--tw-enter-scale:.95}.spin-in-1{--tw-enter-rotate:1deg}.spin-in-2{--tw-enter-rotate:2deg}.spin-in-6{--tw-enter-rotate:6deg}.slide-in-from-left-2{--tw-enter-translate-x:-.5rem}.slide-in-from-top-2{--tw-enter-translate-y:-.5rem}.duration-200{animation-duration:.2s}.duration-300{animation-duration:.3s}.duration-500{animation-duration:.5s}.duration-700{animation-duration:.7s}.ease-in-out{animation-timing-function:cubic-bezier(.4,0,.2,1)}.\[--cell-size\:2rem\]{--cell-size:2rem}.file\:border-0::file-selector-button{border-width:0}.file\:bg-transparent::file-selector-button{background-color:#0000}.file\:text-sm::file-selector-button{font-size:.875rem;line-height:1.25rem}.file\:font-medium::file-selector-button{font-weight:500}.file\:text-foreground::file-selector-button{color:hsl(var(--foreground))}.placeholder\:text-muted-foreground::placeholder{color:hsl(var(--muted-foreground))}.after\:absolute:after{content:var(--tw-content);position:absolute}.after\:inset-y-0:after{content:var(--tw-content);top:0;bottom:0}.after\:left-1\/2:after{content:var(--tw-content);left:50%}.after\:w-1:after{content:var(--tw-content);width:.25rem}.after\:-translate-x-1\/2:after{content:var(--tw-content);--tw-translate-x:-50%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:scale-110:hover{--tw-scale-x:1.1;--tw-scale-y:1.1;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:scale-\[1\.02\]:hover{--tw-scale-x:1.02;--tw-scale-y:1.02;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:bg-accent:hover{background-color:hsl(var(--accent))}.hover\:bg-destructive\/80:hover{background-color:hsl(var(--destructive) / .8)}.hover\:bg-destructive\/90:hover{background-color:hsl(var(--destructive) / .9)}.hover\:bg-green-700:hover{--tw-bg-opacity:1;background-color:rgb(21 128 61/var(--tw-bg-opacity))}.hover\:bg-muted:hover{background-color:hsl(var(--muted))}.hover\:bg-muted\/50:hover{background-color:hsl(var(--muted) / .5)}.hover\:bg-primary\/80:hover{background-color:hsl(var(--primary) / .8)}.hover\:bg-primary\/90:hover{background-color:hsl(var(--primary) / .9)}.hover\:bg-secondary:hover{background-color:hsl(var(--secondary))}.hover\:bg-secondary\/80:hover{background-color:hsl(var(--secondary) / .8)}.hover\:bg-slate-700:hover{--tw-bg-opacity:1;background-color:rgb(51 65 85/var(--tw-bg-opacity))}.hover\:bg-white\/10:hover{background-color:#ffffff1a}.hover\:from-blue-500:hover{--tw-gradient-from:#3b82f6 var(--tw-gradient-from-position);--tw-gradient-to:#3b82f600 var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.hover\:to-purple-500:hover{--tw-gradient-to:#a855f7 var(--tw-gradient-to-position)}.hover\:text-accent-foreground:hover{color:hsl(var(--accent-foreground))}.hover\:text-foreground:hover{color:hsl(var(--foreground))}.hover\:text-muted-foreground:hover{color:hsl(var(--muted-foreground))}.hover\:text-slate-400:hover{--tw-text-opacity:1;color:rgb(148 163 184/var(--tw-text-opacity))}.hover\:text-white:hover{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.hover\:underline:hover{text-decoration-line:underline}.hover\:opacity-100:hover{opacity:1}.hover\:shadow-\[0_0_30px_rgba\(37\,99\,235\,0\.5\)\]:hover{--tw-shadow:0 0 30px #2563eb80;--tw-shadow-colored:0 0 30px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000), var(--tw-ring-shadow,0 0 #0000), var(--tw-shadow)}.hover\:shadow-\[0_0_80px_rgba\(59\,130\,246\,0\.8\)\]:hover{--tw-shadow:0 0 80px #3b82f6cc;--tw-shadow-colored:0 0 80px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000), var(--tw-ring-shadow,0 0 #0000), var(--tw-shadow)}.focus\:border-blue-500:focus{--tw-border-opacity:1;border-color:rgb(59 130 246/var(--tw-border-opacity))}.focus\:bg-accent:focus{background-color:hsl(var(--accent))}.focus\:text-accent-foreground:focus{color:hsl(var(--accent-foreground))}.focus\:opacity-100:focus{opacity:1}.focus\:outline-none:focus{outline-offset:2px;outline:2px solid #0000}.focus\:ring-1:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow,0 0 #0000)}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow,0 0 #0000)}.focus\:ring-blue-500\/20:focus{--tw-ring-color:#3b82f633}.focus\:ring-ring:focus{--tw-ring-color:hsl(var(--ring))}.focus\:ring-offset-2:focus{--tw-ring-offset-width:2px}.focus-visible\:outline-none:focus-visible{outline-offset:2px;outline:2px solid #0000}.focus-visible\:ring-1:focus-visible{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow,0 0 #0000)}.focus-visible\:ring-2:focus-visible{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow,0 0 #0000)}.focus-visible\:ring-ring:focus-visible{--tw-ring-color:hsl(var(--ring))}.focus-visible\:ring-offset-1:focus-visible{--tw-ring-offset-width:1px}.focus-visible\:ring-offset-2:focus-visible{--tw-ring-offset-width:2px}.focus-visible\:ring-offset-background:focus-visible{--tw-ring-offset-color:hsl(var(--background))}.active\:scale-\[0\.98\]:active{--tw-scale-x:.98;--tw-scale-y:.98;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.disabled\:pointer-events-none:disabled{pointer-events:none}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:opacity-50:disabled{opacity:.5}.group:hover .group-hover\:opacity-100{opacity:1}.group:hover .group-hover\:opacity-70{opacity:.7}.group.destructive .group-\[\.destructive\]\:border-muted\/40{border-color:hsl(var(--muted) / .4)}.group.toaster .group-\[\.toaster\]\:border-border{border-color:hsl(var(--border))}.group.toast .group-\[\.toast\]\:bg-muted{background-color:hsl(var(--muted))}.group.toast .group-\[\.toast\]\:bg-primary{background-color:hsl(var(--primary))}.group.toaster .group-\[\.toaster\]\:bg-background{background-color:hsl(var(--background))}.group.destructive .group-\[\.destructive\]\:text-red-300{--tw-text-opacity:1;color:rgb(252 165 165/var(--tw-text-opacity))}.group.toast .group-\[\.toast\]\:text-muted-foreground{color:hsl(var(--muted-foreground))}.group.toast .group-\[\.toast\]\:text-primary-foreground{color:hsl(var(--primary-foreground))}.group.toaster .group-\[\.toaster\]\:text-foreground{color:hsl(var(--foreground))}.group.toaster .group-\[\.toaster\]\:shadow-lg{--tw-shadow:0 10px 15px -3px #0000001a, 0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000), var(--tw-ring-shadow,0 0 #0000), var(--tw-shadow)}.group.destructive .group-\[\.destructive\]\:hover\:border-destructive\/30:hover{border-color:hsl(var(--destructive) / .3)}.group.destructive .group-\[\.destructive\]\:hover\:bg-destructive:hover{background-color:hsl(var(--destructive))}.group.destructive .group-\[\.destructive\]\:hover\:text-destructive-foreground:hover{color:hsl(var(--destructive-foreground))}.group.destructive .group-\[\.destructive\]\:hover\:text-red-50:hover{--tw-text-opacity:1;color:rgb(254 242 242/var(--tw-text-opacity))}.group.destructive .group-\[\.destructive\]\:focus\:ring-destructive:focus{--tw-ring-color:hsl(var(--destructive))}.group.destructive .group-\[\.destructive\]\:focus\:ring-red-400:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(248 113 113/var(--tw-ring-opacity))}.group.destructive .group-\[\.destructive\]\:focus\:ring-offset-red-600:focus{--tw-ring-offset-color:#dc2626}.peer:disabled~.peer-disabled\:cursor-not-allowed{cursor:not-allowed}.peer:disabled~.peer-disabled\:opacity-70{opacity:.7}.aria-disabled\:opacity-50[aria-disabled=true]{opacity:.5}.aria-selected\:text-muted-foreground[aria-selected=true]{color:hsl(var(--muted-foreground))}.data-\[disabled\=true\]\:pointer-events-none[data-disabled=true],.data-\[disabled\]\:pointer-events-none[data-disabled]{pointer-events:none}.data-\[panel-group-direction\=vertical\]\:h-px[data-panel-group-direction=vertical]{height:1px}.data-\[panel-group-direction\=vertical\]\:w-full[data-panel-group-direction=vertical]{width:100%}.data-\[side\=bottom\]\:translate-y-1[data-side=bottom]{--tw-translate-y:.25rem;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\[side\=left\]\:-translate-x-1[data-side=left]{--tw-translate-x:-.25rem;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\[side\=right\]\:translate-x-1[data-side=right]{--tw-translate-x:.25rem;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\[side\=top\]\:-translate-y-1[data-side=top]{--tw-translate-y:-.25rem;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\[state\=checked\]\:translate-x-4[data-state=checked]{--tw-translate-x:1rem;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\[state\=unchecked\]\:translate-x-0[data-state=unchecked],.data-\[swipe\=cancel\]\:translate-x-0[data-swipe=cancel]{--tw-translate-x:0px;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\[swipe\=end\]\:translate-x-\[var\(--radix-toast-swipe-end-x\)\][data-swipe=end]{--tw-translate-x:var(--radix-toast-swipe-end-x);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\[swipe\=move\]\:translate-x-\[var\(--radix-toast-swipe-move-x\)\][data-swipe=move]{--tw-translate-x:var(--radix-toast-swipe-move-x);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes accordion-up{0%{height:var(--radix-accordion-content-height)}to{height:0}}.data-\[state\=closed\]\:animate-accordion-up[data-state=closed]{animation:.2s ease-out accordion-up}@keyframes accordion-down{0%{height:0}to{height:var(--radix-accordion-content-height)}}.data-\[state\=open\]\:animate-accordion-down[data-state=open]{animation:.2s ease-out accordion-down}.data-\[panel-group-direction\=vertical\]\:flex-col[data-panel-group-direction=vertical]{flex-direction:column}.data-\[range-end\=true\]\:rounded-md[data-range-end=true]{border-radius:calc(var(--radius) - 2px)}.data-\[range-middle\=true\]\:rounded-none[data-range-middle=true]{border-radius:0}.data-\[range-start\=true\]\:rounded-md[data-range-start=true]{border-radius:calc(var(--radius) - 2px)}.data-\[selected\=true\]\:rounded-none[data-selected=true]{border-radius:0}.data-\[range-end\=true\]\:bg-primary[data-range-end=true]{background-color:hsl(var(--primary))}.data-\[range-middle\=true\]\:bg-accent[data-range-middle=true]{background-color:hsl(var(--accent))}.data-\[range-start\=true\]\:bg-primary[data-range-start=true],.data-\[selected-single\=true\]\:bg-primary[data-selected-single=true]{background-color:hsl(var(--primary))}.data-\[selected\=true\]\:bg-accent[data-selected=true]{background-color:hsl(var(--accent))}.data-\[state\=active\]\:bg-background[data-state=active]{background-color:hsl(var(--background))}.data-\[state\=checked\]\:bg-primary[data-state=checked]{background-color:hsl(var(--primary))}.data-\[state\=on\]\:bg-accent[data-state=on],.data-\[state\=open\]\:bg-accent[data-state=open]{background-color:hsl(var(--accent))}.data-\[state\=open\]\:bg-accent\/50[data-state=open]{background-color:hsl(var(--accent) / .5)}.data-\[state\=open\]\:bg-secondary[data-state=open]{background-color:hsl(var(--secondary))}.data-\[state\=selected\]\:bg-muted[data-state=selected]{background-color:hsl(var(--muted))}.data-\[state\=unchecked\]\:bg-input[data-state=unchecked]{background-color:hsl(var(--input))}.data-\[placeholder\]\:text-muted-foreground[data-placeholder]{color:hsl(var(--muted-foreground))}.data-\[range-end\=true\]\:text-primary-foreground[data-range-end=true]{color:hsl(var(--primary-foreground))}.data-\[range-middle\=true\]\:text-accent-foreground[data-range-middle=true]{color:hsl(var(--accent-foreground))}.data-\[range-start\=true\]\:text-primary-foreground[data-range-start=true],.data-\[selected-single\=true\]\:text-primary-foreground[data-selected-single=true]{color:hsl(var(--primary-foreground))}.data-\[selected\=true\]\:text-accent-foreground[data-selected=true]{color:hsl(var(--accent-foreground))}.data-\[state\=active\]\:text-foreground[data-state=active]{color:hsl(var(--foreground))}.data-\[state\=checked\]\:text-primary-foreground[data-state=checked]{color:hsl(var(--primary-foreground))}.data-\[state\=on\]\:text-accent-foreground[data-state=on],.data-\[state\=open\]\:text-accent-foreground[data-state=open]{color:hsl(var(--accent-foreground))}.data-\[state\=open\]\:text-muted-foreground[data-state=open]{color:hsl(var(--muted-foreground))}.data-\[disabled\=true\]\:opacity-50[data-disabled=true],.data-\[disabled\]\:opacity-50[data-disabled]{opacity:.5}.data-\[state\=active\]\:shadow[data-state=active]{--tw-shadow:0 1px 3px 0 #0000001a, 0 1px 2px -1px #0000001a;--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000), var(--tw-ring-shadow,0 0 #0000), var(--tw-shadow)}.data-\[swipe\=move\]\:transition-none[data-swipe=move]{transition-property:none}.data-\[state\=closed\]\:duration-300[data-state=closed]{transition-duration:.3s}.data-\[state\=open\]\:duration-500[data-state=open]{transition-duration:.5s}.data-\[motion\^\=from-\]\:animate-in[data-motion^=from-],.data-\[state\=open\]\:animate-in[data-state=open],.data-\[state\=visible\]\:animate-in[data-state=visible]{--tw-enter-opacity:initial;--tw-enter-scale:initial;--tw-enter-rotate:initial;--tw-enter-translate-x:initial;--tw-enter-translate-y:initial;animation-name:enter;animation-duration:.15s}.data-\[motion\^\=to-\]\:animate-out[data-motion^=to-],.data-\[state\=closed\]\:animate-out[data-state=closed],.data-\[state\=hidden\]\:animate-out[data-state=hidden],.data-\[swipe\=end\]\:animate-out[data-swipe=end]{--tw-exit-opacity:initial;--tw-exit-scale:initial;--tw-exit-rotate:initial;--tw-exit-translate-x:initial;--tw-exit-translate-y:initial;animation-name:exit;animation-duration:.15s}.data-\[motion\^\=from-\]\:fade-in[data-motion^=from-]{--tw-enter-opacity:0}.data-\[motion\^\=to-\]\:fade-out[data-motion^=to-],.data-\[state\=closed\]\:fade-out-0[data-state=closed]{--tw-exit-opacity:0}.data-\[state\=closed\]\:fade-out-80[data-state=closed]{--tw-exit-opacity:.8}.data-\[state\=hidden\]\:fade-out[data-state=hidden]{--tw-exit-opacity:0}.data-\[state\=open\]\:fade-in-0[data-state=open],.data-\[state\=visible\]\:fade-in[data-state=visible]{--tw-enter-opacity:0}.data-\[state\=closed\]\:zoom-out-95[data-state=closed]{--tw-exit-scale:.95}.data-\[state\=open\]\:zoom-in-90[data-state=open]{--tw-enter-scale:.9}.data-\[state\=open\]\:zoom-in-95[data-state=open]{--tw-enter-scale:.95}.data-\[motion\=from-end\]\:slide-in-from-right-52[data-motion=from-end]{--tw-enter-translate-x:13rem}.data-\[motion\=from-start\]\:slide-in-from-left-52[data-motion=from-start]{--tw-enter-translate-x:-13rem}.data-\[motion\=to-end\]\:slide-out-to-right-52[data-motion=to-end]{--tw-exit-translate-x:13rem}.data-\[motion\=to-start\]\:slide-out-to-left-52[data-motion=to-start]{--tw-exit-translate-x:-13rem}.data-\[side\=bottom\]\:slide-in-from-top-2[data-side=bottom]{--tw-enter-translate-y:-.5rem}.data-\[side\=left\]\:slide-in-from-right-2[data-side=left]{--tw-enter-translate-x:.5rem}.data-\[side\=right\]\:slide-in-from-left-2[data-side=right]{--tw-enter-translate-x:-.5rem}.data-\[side\=top\]\:slide-in-from-bottom-2[data-side=top]{--tw-enter-translate-y:.5rem}.data-\[state\=closed\]\:slide-out-to-bottom[data-state=closed]{--tw-exit-translate-y:100%}.data-\[state\=closed\]\:slide-out-to-left[data-state=closed]{--tw-exit-translate-x:-100%}.data-\[state\=closed\]\:slide-out-to-left-1\/2[data-state=closed]{--tw-exit-translate-x:-50%}.data-\[state\=closed\]\:slide-out-to-right[data-state=closed],.data-\[state\=closed\]\:slide-out-to-right-full[data-state=closed]{--tw-exit-translate-x:100%}.data-\[state\=closed\]\:slide-out-to-top[data-state=closed]{--tw-exit-translate-y:-100%}.data-\[state\=closed\]\:slide-out-to-top-\[48\%\][data-state=closed]{--tw-exit-translate-y:-48%}.data-\[state\=open\]\:slide-in-from-bottom[data-state=open]{--tw-enter-translate-y:100%}.data-\[state\=open\]\:slide-in-from-left[data-state=open]{--tw-enter-translate-x:-100%}.data-\[state\=open\]\:slide-in-from-left-1\/2[data-state=open]{--tw-enter-translate-x:-50%}.data-\[state\=open\]\:slide-in-from-right[data-state=open]{--tw-enter-translate-x:100%}.data-\[state\=open\]\:slide-in-from-top[data-state=open]{--tw-enter-translate-y:-100%}.data-\[state\=open\]\:slide-in-from-top-\[48\%\][data-state=open]{--tw-enter-translate-y:-48%}.data-\[state\=open\]\:slide-in-from-top-full[data-state=open]{--tw-enter-translate-y:-100%}.data-\[state\=closed\]\:duration-300[data-state=closed]{animation-duration:.3s}.data-\[state\=open\]\:duration-500[data-state=open]{animation-duration:.5s}.data-\[panel-group-direction\=vertical\]\:after\:left-0[data-panel-group-direction=vertical]:after{content:var(--tw-content);left:0}.data-\[panel-group-direction\=vertical\]\:after\:h-1[data-panel-group-direction=vertical]:after{content:var(--tw-content);height:.25rem}.data-\[panel-group-direction\=vertical\]\:after\:w-full[data-panel-group-direction=vertical]:after{content:var(--tw-content);width:100%}.data-\[panel-group-direction\=vertical\]\:after\:-translate-y-1\/2[data-panel-group-direction=vertical]:after{content:var(--tw-content);--tw-translate-y:-50%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\[panel-group-direction\=vertical\]\:after\:translate-x-0[data-panel-group-direction=vertical]:after{content:var(--tw-content);--tw-translate-x:0px;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.data-\[state\=open\]\:hover\:bg-accent:hover[data-state=open],.data-\[state\=open\]\:focus\:bg-accent:focus[data-state=open]{background-color:hsl(var(--accent))}.group\/day[data-focused=true] .group-data-\[focused\=true\]\/day\:relative{position:relative}.group\/day[data-focused=true] .group-data-\[focused\=true\]\/day\:z-10{z-index:10}.group[data-state=open] .group-data-\[state\=open\]\:rotate-180{--tw-rotate:180deg;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group\/day[data-focused=true] .group-data-\[focused\=true\]\/day\:border-ring{border-color:hsl(var(--ring))}.group\/day[data-focused=true] .group-data-\[focused\=true\]\/day\:ring-\[3px\]{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow,0 0 #0000)}.group\/day[data-focused=true] .group-data-\[focused\=true\]\/day\:ring-ring\/50{--tw-ring-color:hsl(var(--ring) / .5)}:is(.dark .dark\:border-destructive){border-color:hsl(var(--destructive))}@media (width>=640px){.sm\:bottom-0{bottom:0}.sm\:right-0{right:0}.sm\:top-auto{top:auto}.sm\:max-w-sm{max-width:24rem}.sm\:flex-row{flex-direction:row}.sm\:flex-col{flex-direction:column}.sm\:justify-end{justify-content:flex-end}.sm\:gap-2{gap:.5rem}.sm\:gap-2\.5{gap:.625rem}.sm\:space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.sm\:rounded-lg{border-radius:var(--radius)}.sm\:text-left{text-align:left}.data-\[state\=open\]\:sm\:slide-in-from-bottom-full[data-state=open]{--tw-enter-translate-y:100%}}@media (width>=768px){.md\:absolute{position:absolute}.md\:w-\[var\(--radix-navigation-menu-viewport-width\)\]{width:var(--radix-navigation-menu-viewport-width)}.md\:w-auto{width:auto}.md\:max-w-\[420px\]{max-width:420px}.md\:scale-125{--tw-scale-x:1.25;--tw-scale-y:1.25;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.md\:flex-row{flex-direction:row}.md\:text-9xl{font-size:8rem;line-height:1}.md\:text-sm{font-size:.875rem;line-height:1.25rem}}.\[\&\+div\]\:text-xs+div{font-size:.75rem;line-height:1rem}.\[\&\:first-child\[data-selected\=true\]_button\]\:rounded-l-md:first-child[data-selected=true] button{border-top-left-radius:calc(var(--radius) - 2px);border-bottom-left-radius:calc(var(--radius) - 2px)}.\[\&\:has\(\[role\=checkbox\]\)\]\:pr-0:has([role=checkbox]){padding-right:0}.\[\&\:last-child\[data-selected\=true\]_button\]\:rounded-r-md:last-child[data-selected=true] button{border-top-right-radius:calc(var(--radius) - 2px);border-bottom-right-radius:calc(var(--radius) - 2px)}.\[\&\>\[role\=checkbox\]\]\:translate-y-\[2px\]>[role=checkbox]{--tw-translate-y:2px;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.\[\&\>span\]\:line-clamp-1>span{-webkit-line-clamp:1;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.\[\&\>span\]\:text-xs>span{font-size:.75rem;line-height:1rem}.\[\&\>span\]\:opacity-70>span{opacity:.7}.\[\&\>svg\+div\]\:translate-y-\[-3px\]>svg+div{--tw-translate-y:-3px;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.\[\&\>svg\]\:absolute>svg{position:absolute}.\[\&\>svg\]\:left-4>svg{left:1rem}.\[\&\>svg\]\:top-4>svg{top:1rem}.\[\&\>svg\]\:size-3\.5>svg{width:.875rem;height:.875rem}.\[\&\>svg\]\:size-4>svg{width:1rem;height:1rem}.\[\&\>svg\]\:h-3\.5>svg{height:.875rem}.\[\&\>svg\]\:w-3\.5>svg{width:.875rem}.\[\&\>svg\]\:shrink-0>svg{flex-shrink:0}.\[\&\>svg\]\:text-destructive>svg{color:hsl(var(--destructive))}.\[\&\>svg\]\:text-foreground>svg{color:hsl(var(--foreground))}.\[\&\>svg\]\:text-muted-foreground>svg{color:hsl(var(--muted-foreground))}.\[\&\>svg\~\*\]\:pl-7>svg~*{padding-left:1.75rem}.\[\&\>tr\]\:last\:border-b-0:last-child>tr{border-bottom-width:0}.\[\&\[data-panel-group-direction\=vertical\]\>div\]\:rotate-90[data-panel-group-direction=vertical]>div{--tw-rotate:90deg;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.\[\&\[data-state\=open\]\>svg\]\:rotate-180[data-state=open]>svg{--tw-rotate:180deg;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.\[\&_\[cmdk-group-heading\]\]\:px-2 [cmdk-group-heading]{padding-left:.5rem;padding-right:.5rem}.\[\&_\[cmdk-group-heading\]\]\:py-1\.5 [cmdk-group-heading]{padding-top:.375rem;padding-bottom:.375rem}.\[\&_\[cmdk-group-heading\]\]\:text-xs [cmdk-group-heading]{font-size:.75rem;line-height:1rem}.\[\&_\[cmdk-group-heading\]\]\:font-medium [cmdk-group-heading]{font-weight:500}.\[\&_\[cmdk-group-heading\]\]\:text-muted-foreground [cmdk-group-heading]{color:hsl(var(--muted-foreground))}.\[\&_\[cmdk-group\]\:not\(\[hidden\]\)_\~\[cmdk-group\]\]\:pt-0 [cmdk-group]:not([hidden])~[cmdk-group]{padding-top:0}.\[\&_\[cmdk-group\]\]\:px-2 [cmdk-group]{padding-left:.5rem;padding-right:.5rem}.\[\&_\[cmdk-input-wrapper\]_svg\]\:h-5 [cmdk-input-wrapper] svg{height:1.25rem}.\[\&_\[cmdk-input-wrapper\]_svg\]\:w-5 [cmdk-input-wrapper] svg{width:1.25rem}.\[\&_\[cmdk-input\]\]\:h-12 [cmdk-input]{height:3rem}.\[\&_\[cmdk-item\]\]\:px-2 [cmdk-item]{padding-left:.5rem;padding-right:.5rem}.\[\&_\[cmdk-item\]\]\:py-3 [cmdk-item]{padding-top:.75rem;padding-bottom:.75rem}.\[\&_\[cmdk-item\]_svg\]\:h-5 [cmdk-item] svg{height:1.25rem}.\[\&_\[cmdk-item\]_svg\]\:w-5 [cmdk-item] svg{width:1.25rem}.\[\&_p\]\:leading-relaxed p{line-height:1.625}.\[\&_svg\]\:pointer-events-none svg{pointer-events:none}.\[\&_svg\]\:size-4 svg{width:1rem;height:1rem}.\[\&_svg\]\:shrink-0 svg{flex-shrink:0}.\[\&_tr\:last-child\]\:border-0 tr:last-child{border-width:0}.\[\&_tr\]\:border-b tr{border-bottom-width:1px}[data-slot=card-content] .\[\[data-slot\=card-content\]_\&\]\:bg-transparent,[data-slot=popover-content] .\[\[data-slot\=popover-content\]_\&\]\:bg-transparent{background-color:#0000}</style><meta charset=UTF-8><meta name=viewport content="width=device-width, initial-scale=1.0"><title>neon-raffle</title><body>
    <div id=root></div>
    <script type="module">let t,r,n;function i(t,r,n,i){Object.defineProperty(t,r,{get:n,set:i,enumerable:!0,configurable:!0})}function s(t){return t&&t.__esModule?t.default:t}var a=globalThis,o={},l={},u=a.parcelRequiref6ea;null==u&&((u=function(t){if(t in o)return o[t].exports;if(t in l){var r=l[t];delete l[t];var n={id:t,exports:{}};return o[t]=n,r.call(n.exports,n,n.exports),n.exports}var i=Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,r){l[t]=r},a.parcelRequiref6ea=u);var h=u.register;h("59OBb",function(t,r){i(t.exports,"Fragment",()=>n,t=>n=t),i(t.exports,"jsx",()=>s,t=>s=t),i(t.exports,"jsxs",()=>a,t=>a=t);var n,s,a,o=Symbol.for("react.transitional.element");function l(t,r,n){var i=null;if(void 0!==n&&(i=""+n),void 0!==r.key&&(i=""+r.key),"key"in r)for(var s in n={},r)"key"!==s&&(n[s]=r[s]);else n=r;return{$$typeof:o,type:t,key:i,ref:void 0!==(r=n.ref)?r:null,props:n}}n=Symbol.for("react.fragment"),s=l,a=l}),h("lanIS",function(t,r){i(t.exports,"Activity",()=>n,t=>n=t),i(t.exports,"Children",()=>s,t=>s=t),i(t.exports,"Component",()=>a,t=>a=t),i(t.exports,"Fragment",()=>o,t=>o=t),i(t.exports,"Profiler",()=>l,t=>l=t),i(t.exports,"PureComponent",()=>u,t=>u=t),i(t.exports,"StrictMode",()=>h,t=>h=t),i(t.exports,"Suspense",()=>c,t=>c=t),i(t.exports,"__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE",()=>d,t=>d=t),i(t.exports,"__COMPILER_RUNTIME",()=>p,t=>p=t),i(t.exports,"cache",()=>f,t=>f=t),i(t.exports,"cacheSignal",()=>m,t=>m=t),i(t.exports,"cloneElement",()=>g,t=>g=t),i(t.exports,"createContext",()=>y,t=>y=t),i(t.exports,"createElement",()=>v,t=>v=t),i(t.exports,"createRef",()=>x,t=>x=t),i(t.exports,"forwardRef",()=>b,t=>b=t),i(t.exports,"isValidElement",()=>w,t=>w=t),i(t.exports,"lazy",()=>_,t=>_=t),i(t.exports,"memo",()=>C,t=>C=t),i(t.exports,"startTransition",()=>S,t=>S=t),i(t.exports,"unstable_useCacheRefresh",()=>E,t=>E=t),i(t.exports,"use",()=>D,t=>D=t),i(t.exports,"useActionState",()=>A,t=>A=t),i(t.exports,"useCallback",()=>k,t=>k=t),i(t.exports,"useContext",()=>T,t=>T=t),i(t.exports,"useDebugValue",()=>F,t=>F=t),i(t.exports,"useDeferredValue",()=>M,t=>M=t),i(t.exports,"useEffect",()=>I,t=>I=t),i(t.exports,"useEffectEvent",()=>B,t=>B=t),i(t.exports,"useId",()=>P,t=>P=t),i(t.exports,"useImperativeHandle",()=>L,t=>L=t),i(t.exports,"useInsertionEffect",()=>N,t=>N=t),i(t.exports,"useLayoutEffect",()=>O,t=>O=t),i(t.exports,"useMemo",()=>R,t=>R=t),i(t.exports,"useOptimistic",()=>V,t=>V=t),i(t.exports,"useReducer",()=>z,t=>z=t),i(t.exports,"useRef",()=>U,t=>U=t),i(t.exports,"useState",()=>j,t=>j=t),i(t.exports,"useSyncExternalStore",()=>G,t=>G=t),i(t.exports,"useTransition",()=>$,t=>$=t),i(t.exports,"version",()=>H,t=>H=t);var n,s,a,o,l,u,h,c,d,p,f,m,g,y,v,x,b,w,_,C,S,E,D,A,k,T,F,M,I,B,P,L,N,O,R,V,z,U,j,G,$,H,W=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),et=Symbol.for("react.memo"),er=Symbol.for("react.lazy"),en=Symbol.for("react.activity"),ei=Symbol.iterator,es={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ea=Object.assign,eo={};function el(t,r,n){this.props=t,this.context=r,this.refs=eo,this.updater=n||es}function eu(){}function eh(t,r,n){this.props=t,this.context=r,this.refs=eo,this.updater=n||es}el.prototype.isReactComponent={},el.prototype.setState=function(t,r){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,r,"setState")},el.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},eu.prototype=el.prototype;var ec=eh.prototype=new eu;ec.constructor=eh,ea(ec,el.prototype),ec.isPureReactComponent=!0;var ed=Array.isArray;function ep(){}var ef={H:null,A:null,T:null,S:null},em=Object.prototype.hasOwnProperty;function eg(t,r,n){var i=n.ref;return{$$typeof:W,type:t,key:r,ref:void 0!==i?i:null,props:n}}function ey(t){return"object"==typeof t&&null!==t&&t.$$typeof===W}var ev=/\/+/g;function ex(t,r){var n,i;return"object"==typeof t&&null!==t&&null!=t.key?(n=""+t.key,i={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(t){return i[t]})):r.toString(36)}function eb(t,r,n){if(null==t)return t;var i=[],s=0;return!function t(r,n,i,s,a){var o,l,u,h=typeof r;("undefined"===h||"boolean"===h)&&(r=null);var c=!1;if(null===r)c=!0;else switch(h){case"bigint":case"string":case"number":c=!0;break;case"object":switch(r.$$typeof){case W:case q:c=!0;break;case er:return t((c=r._init)(r._payload),n,i,s,a)}}if(c)return a=a(r),c=""===s?"."+ex(r,0):s,ed(a)?(i="",null!=c&&(i=c.replace(ev,"$&/")+"/"),t(a,n,i,"",function(t){return t})):null!=a&&(ey(a)&&(o=a,l=i+(null==a.key||r&&r.key===a.key?"":(""+a.key).replace(ev,"$&/")+"/")+c,a=eg(o.type,l,o.props)),n.push(a)),1;c=0;var d=""===s?".":s+":";if(ed(r))for(var p=0;p<r.length;p++)h=d+ex(s=r[p],p),c+=t(s,n,i,h,a);else if("function"==typeof(p=null===(u=r)||"object"!=typeof u?null:"function"==typeof(u=ei&&u[ei]||u["@@iterator"])?u:null))for(r=p.call(r),p=0;!(s=r.next()).done;)h=d+ex(s=s.value,p++),c+=t(s,n,i,h,a);else if("object"===h){if("function"==typeof r.then)return t(function(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch("string"==typeof t.status?t.then(ep,ep):(t.status="pending",t.then(function(r){"pending"===t.status&&(t.status="fulfilled",t.value=r)},function(r){"pending"===t.status&&(t.status="rejected",t.reason=r)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}(r),n,i,s,a);throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(n=String(r))?"object with keys {"+Object.keys(r).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.")}return c}(t,i,"","",function(t){return r.call(n,t,s++)}),i}function ew(t){if(-1===t._status){var r=t._result;(r=r()).then(function(r){(0===t._status||-1===t._status)&&(t._status=1,t._result=r)},function(r){(0===t._status||-1===t._status)&&(t._status=2,t._result=r)}),-1===t._status&&(t._status=0,t._result=r)}if(1===t._status)return t._result.default;throw t._result}var e_="function"==typeof reportError?reportError:function(t){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof t&&null!==t&&"string"==typeof t.message?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}console.error(t)};n=en,s={map:eb,forEach:function(t,r,n){eb(t,function(){r.apply(this,arguments)},n)},count:function(t){var r=0;return eb(t,function(){r++}),r},toArray:function(t){return eb(t,function(t){return t})||[]},only:function(t){if(!ey(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},a=el,o=Y,l=K,u=eh,h=X,c=ee,d=ef,p={__proto__:null,c:function(t){return ef.H.useMemoCache(t)}},f=function(t){return function(){return t.apply(null,arguments)}},m=function(){return null},g=function(t,r,n){if(null==t)throw Error("The argument must be a React element, but you passed "+t+".");var i=ea({},t.props),s=t.key;if(null!=r)for(a in void 0!==r.key&&(s=""+r.key),r)em.call(r,a)&&"key"!==a&&"__self"!==a&&"__source"!==a&&("ref"!==a||void 0!==r.ref)&&(i[a]=r[a]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}return eg(t.type,s,i)},y=function(t){return(t={$$typeof:Q,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider=t,t.Consumer={$$typeof:Z,_context:t},t},v=function(t,r,n){var i,s={},a=null;if(null!=r)for(i in void 0!==r.key&&(a=""+r.key),r)em.call(r,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(s[i]=r[i]);var o=arguments.length-2;if(1===o)s.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(i in o=t.defaultProps)void 0===s[i]&&(s[i]=o[i]);return eg(t,a,s)},x=function(){return{current:null}},b=function(t){return{$$typeof:J,render:t}},w=ey,_=function(t){return{$$typeof:er,_payload:{_status:-1,_result:t},_init:ew}},C=function(t,r){return{$$typeof:et,type:t,compare:void 0===r?null:r}},S=function(t){var r=ef.T,n={};ef.T=n;try{var i=t(),s=ef.S;null!==s&&s(n,i),"object"==typeof i&&null!==i&&"function"==typeof i.then&&i.then(ep,e_)}catch(t){e_(t)}finally{null!==r&&null!==n.types&&(r.types=n.types),ef.T=r}},E=function(){return ef.H.useCacheRefresh()},D=function(t){return ef.H.use(t)},A=function(t,r,n){return ef.H.useActionState(t,r,n)},k=function(t,r){return ef.H.useCallback(t,r)},T=function(t){return ef.H.useContext(t)},F=function(){},M=function(t,r){return ef.H.useDeferredValue(t,r)},I=function(t,r){return ef.H.useEffect(t,r)},B=function(t){return ef.H.useEffectEvent(t)},P=function(){return ef.H.useId()},L=function(t,r,n){return ef.H.useImperativeHandle(t,r,n)},N=function(t,r){return ef.H.useInsertionEffect(t,r)},O=function(t,r){return ef.H.useLayoutEffect(t,r)},R=function(t,r){return ef.H.useMemo(t,r)},V=function(t,r){return ef.H.useOptimistic(t,r)},z=function(t,r,n){return ef.H.useReducer(t,r,n)},U=function(t){return ef.H.useRef(t)},j=function(t){return ef.H.useState(t)},G=function(t,r,n){return ef.H.useSyncExternalStore(t,r,n)},$=function(){return ef.H.useTransition()},H="19.2.4"}),h("bgXWC",function(t,r){i(t.exports,"createRoot",()=>tV,t=>tV=t),i(t.exports,"hydrateRoot",()=>tz,t=>tz=t),i(t.exports,"version",()=>tU,t=>tU=t);var n,s=u("6qr1r"),a=u("fYo6y"),o=u("d2L2u");function l(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)r+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function c(t){var r=t,n=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do 0!=(4098&(r=t).flags)&&(n=r.return),t=r.return;while(t)}return 3===r.tag?n:null}function d(t){if(13===t.tag){var r=t.memoizedState;if(null===r&&null!==(t=t.alternate)&&(r=t.memoizedState),null!==r)return r.dehydrated}return null}function p(t){if(31===t.tag){var r=t.memoizedState;if(null===r&&null!==(t=t.alternate)&&(r=t.memoizedState),null!==r)return r.dehydrated}return null}function f(t){if(c(t)!==t)throw Error(l(188))}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),C=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),k=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var F=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var M=Symbol.iterator;function I(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=M&&t[M]||t["@@iterator"])?t:null}var B=Symbol.for("react.client.reference"),P=Array.isArray,L=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},R=[],V=-1;function z(t){return{current:t}}function U(t){0>V||(t.current=R[V],R[V]=null,V--)}function j(t,r){R[++V]=t.current,t.current=r}var G=z(null),$=z(null),H=z(null),W=z(null);function q(t,r){switch(j(H,r),j($,t),j(G,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?uC(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)t=uS(r=uC(r),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}U(G),j(G,t)}function Y(){U(G),U($),U(H)}function X(t){null!==t.memoizedState&&j(W,t);var r=G.current,n=uS(r,t.type);r!==n&&(j($,t),j(G,n))}function K(t){$.current===t&&(U(G),U($)),W.current===t&&(U(W),ha._currentValue=O)}function Z(t){if(void 0===tj)try{throw Error()}catch(t){var r=t.stack.trim().match(/\n( *(at )?)/);tj=r&&r[1]||"",tG=-1<t.stack.indexOf("\n    at")?" (<anonymous>)":-1<t.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+tj+t+tG}var Q=!1;function J(t,r){if(!t||Q)return"";Q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(r){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(t){var i=t}Reflect.construct(t,[],n)}else{try{n.call()}catch(t){i=t}t.call(n.prototype)}}else{try{throw Error()}catch(t){i=t}(n=t())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(t){if(t&&i&&"string"==typeof t.stack)return[t.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),o=a[0],l=a[1];if(o&&l){var u=o.split("\n"),h=l.split("\n");for(s=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;s<h.length&&!h[s].includes("DetermineComponentFrameRoot");)s++;if(i===u.length||s===h.length)for(i=u.length-1,s=h.length-1;1<=i&&0<=s&&u[i]!==h[s];)s--;for(;1<=i&&0<=s;i--,s--)if(u[i]!==h[s]){if(1!==i||1!==s)do if(i--,s--,0>s||u[i]!==h[s]){var c="\n"+u[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=s)break}}}finally{Q=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Z(n):""}function ee(t){try{var r="",n=null;do r+=function(t,r){switch(t.tag){case 26:case 27:case 5:return Z(t.type);case 16:return Z("Lazy");case 13:return t.child!==r&&null!==r?Z("Suspense Fallback"):Z("Suspense");case 19:return Z("SuspenseList");case 0:case 15:return J(t.type,!1);case 11:return J(t.type.render,!1);case 1:return J(t.type,!0);case 31:return Z("Activity");default:return""}}(t,n),n=t,t=t.return;while(t)return r}catch(t){return"\nError generating stack: "+t.message+"\n"+t.stack}}var et=Object.prototype.hasOwnProperty,er=s.unstable_scheduleCallback,en=s.unstable_cancelCallback,ei=s.unstable_shouldYield,es=s.unstable_requestPaint,ea=s.unstable_now,eo=s.unstable_getCurrentPriorityLevel,el=s.unstable_ImmediatePriority,eu=s.unstable_UserBlockingPriority,eh=s.unstable_NormalPriority,ec=s.unstable_LowPriority,ed=s.unstable_IdlePriority,ep=s.log,ef=s.unstable_setDisableYieldValue,em=null,eg=null;function ey(t){if("function"==typeof ep&&ef(t),eg&&"function"==typeof eg.setStrictMode)try{eg.setStrictMode(em,t)}catch(t){}}var ev=Math.clz32?Math.clz32:function(t){return 0==(t>>>=0)?32:31-(ex(t)/eb|0)|0},ex=Math.log,eb=Math.LN2,ew=256,e_=262144,eC=4194304;function eS(t){var r=42&t;if(0!==r)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&t;case 262144:case 524288:case 1048576:case 2097152:return 3932160&t;case 4194304:case 8388608:case 0x1000000:case 0x2000000:return 0x3c00000&t;case 0x4000000:return 0x4000000;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0;default:return t}}function eE(t,r,n){var i=t.pendingLanes;if(0===i)return 0;var s=0,a=t.suspendedLanes,o=t.pingedLanes;t=t.warmLanes;var l=0x7ffffff&i;return 0!==l?0!=(i=l&~a)?s=eS(i):0!=(o&=l)?s=eS(o):n||0!=(n=l&~t)&&(s=eS(n)):0!=(l=i&~a)?s=eS(l):0!==o?s=eS(o):n||0!=(n=i&~t)&&(s=eS(n)),0===s?0:0!==r&&r!==s&&0==(r&a)&&((a=s&-s)>=(n=r&-r)||32===a&&0!=(4194048&n))?r:s}function eD(t,r){return 0==(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)}function eA(){var t=eC;return 0==(0x3c00000&(eC<<=1))&&(eC=4194304),t}function ek(t){for(var r=[],n=0;31>n;n++)r.push(t);return r}function eT(t,r){t.pendingLanes|=r,0x10000000!==r&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function eF(t,r,n){t.pendingLanes|=r,t.suspendedLanes&=~r;var i=31-ev(r);t.entangledLanes|=r,t.entanglements[i]=0x40000000|t.entanglements[i]|261930&n}function eM(t,r){var n=t.entangledLanes|=r;for(t=t.entanglements;n;){var i=31-ev(n),s=1<<i;s&r|t[i]&r&&(t[i]|=r),n&=~s}}function eI(t,r){var n=r&-r;return 0!=((n=0!=(42&n)?1:eB(n))&(t.suspendedLanes|r))?0:n}function eB(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:t=128;break;case 0x10000000:t=0x8000000;break;default:t=0}return t}function eP(t){return 2<(t&=-t)?8<t?0!=(0x7ffffff&t)?32:0x10000000:8:2}function eL(){var t=N.p;return 0!==t?t:void 0===(t=window.event)?32:hw(t.type)}function eN(t,r){var n=N.p;try{return N.p=t,r()}finally{N.p=n}}var eO=Math.random().toString(36).slice(2),eR="__reactFiber$"+eO,eV="__reactProps$"+eO,ez="__reactContainer$"+eO,eU="__reactEvents$"+eO,ej="__reactListeners$"+eO,eG="__reactHandles$"+eO,e$="__reactResources$"+eO,eH="__reactMarker$"+eO;function eW(t){delete t[eR],delete t[eV],delete t[eU],delete t[ej],delete t[eG]}function eq(t){var r=t[eR];if(r)return r;for(var n=t.parentNode;n;){if(r=n[ez]||n[eR]){if(n=r.alternate,null!==r.child||null!==n&&null!==n.child)for(t=uj(t);null!==t;){if(n=t[eR])return n;t=uj(t)}return r}n=(t=n).parentNode}return null}function eY(t){if(t=t[eR]||t[ez]){var r=t.tag;if(5===r||6===r||13===r||31===r||26===r||27===r||3===r)return t}return null}function eX(t){var r=t.tag;if(5===r||26===r||27===r||6===r)return t.stateNode;throw Error(l(33))}function eK(t){var r=t[e$];return r||(r=t[e$]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function eZ(t){t[eH]=!0}var eQ=new Set,eJ={};function e0(t,r){e1(t,r),e1(t+"Capture",r)}function e1(t,r){for(eJ[t]=r,t=0;t<r.length;t++)eQ.add(r[t])}var e2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),e5={},e3={};function e4(t,r,n){if(et.call(e3,r)||!et.call(e5,r)&&(e2.test(r)?e3[r]=!0:(e5[r]=!0,!1)))if(null===n)t.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var i=r.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void t.removeAttribute(r)}t.setAttribute(r,""+n)}}function e6(t,r,n){if(null===n)t.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+n)}}function e8(t,r,n,i){if(null===i)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(r,n,""+i)}}function e9(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function e7(t){var r=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===r||"radio"===r)}function te(t){if(!t._valueTracker){var r=e7(t)?"checked":"value";t._valueTracker=function(t,r,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&void 0!==i&&"function"==typeof i.get&&"function"==typeof i.set){var s=i.get,a=i.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return s.call(this)},set:function(t){n=""+t,a.call(this,t)}}),Object.defineProperty(t,r,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}(t,r,""+t[r])}}function tt(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var n=r.getValue(),i="";return t&&(i=e7(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(r.setValue(t),!0)}function tr(t){if(void 0===(t=t||("u">typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(r){return t.body}}var tn=/[\n"\\]/g;function ti(t){return t.replace(tn,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ts(t,r,n,i,s,a,o,l){t.name="",null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?t.type=o:t.removeAttribute("type"),null!=r?"number"===o?(0===r&&""===t.value||t.value!=r)&&(t.value=""+e9(r)):t.value!==""+e9(r)&&(t.value=""+e9(r)):"submit"!==o&&"reset"!==o||t.removeAttribute("value"),null!=r?to(t,o,e9(r)):null!=n?to(t,o,e9(n)):null!=i&&t.removeAttribute("value"),null==s&&null!=a&&(t.defaultChecked=!!a),null!=s&&(t.checked=s&&"function"!=typeof s&&"symbol"!=typeof s),null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l?t.name=""+e9(l):t.removeAttribute("name")}function ta(t,r,n,i,s,a,o,l){if(null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(t.type=a),null!=r||null!=n){if(("submit"===a||"reset"===a)&&null==r)return void te(t);n=null!=n?""+e9(n):"",r=null!=r?""+e9(r):n,l||r===t.value||(t.value=r),t.defaultValue=r}i="function"!=typeof(i=null!=i?i:s)&&"symbol"!=typeof i&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(t.name=o),te(t)}function to(t,r,n){"number"===r&&tr(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function tl(t,r,n,i){if(t=t.options,r){r={};for(var s=0;s<n.length;s++)r["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=r.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(s=0,n=""+e9(n),r=null;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}null!==r||t[s].disabled||(r=t[s])}null!==r&&(r.selected=!0)}}function tu(t,r,n){if(null!=r&&((r=""+e9(r))!==t.value&&(t.value=r),null==n)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=null!=n?""+e9(n):""}function th(t,r,n,i){if(null==r){if(null!=i){if(null!=n)throw Error(l(92));if(P(i)){if(1<i.length)throw Error(l(93));i=i[0]}n=i}null==n&&(n=""),r=n}t.defaultValue=n=e9(r),(i=t.textContent)===n&&""!==i&&null!==i&&(t.value=i),te(t)}function tc(t,r){if(r){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType){n.nodeValue=r;return}}t.textContent=r}var td=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tp(t,r,n){var i=0===r.indexOf("--");null==n||"boolean"==typeof n||""===n?i?t.setProperty(r,""):"float"===r?t.cssFloat="":t[r]="":i?t.setProperty(r,n):"number"!=typeof n||0===n||td.has(r)?"float"===r?t.cssFloat=n:t[r]=(""+n).trim():t[r]=n+"px"}function tf(t,r,n){if(null!=r&&"object"!=typeof r)throw Error(l(62));if(t=t.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=r&&r.hasOwnProperty(i)||(0===i.indexOf("--")?t.setProperty(i,""):"float"===i?t.cssFloat="":t[i]="");for(var s in r)i=r[s],r.hasOwnProperty(s)&&n[s]!==i&&tp(t,s,i)}else for(var a in r)r.hasOwnProperty(a)&&tp(t,a,r[a])}function tm(t){if(-1===t.indexOf("-"))return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ty=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tv(t){return ty.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function tx(){}var tb=null;function tw(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var t_=null,tC=null;function tS(t){var r=eY(t);if(r&&(t=r.stateNode)){var n=t[eV]||null;switch(t=r.stateNode,r.type){case"input":if(ts(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),r=n.name,"radio"===n.type&&null!=r){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ti(""+r)+'"][type="radio"]'),r=0;r<n.length;r++){var i=n[r];if(i!==t&&i.form===t.form){var s=i[eV]||null;if(!s)throw Error(l(90));ts(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(r=0;r<n.length;r++)(i=n[r]).form===t.form&&tt(i)}break;case"textarea":tu(t,n.value,n.defaultValue);break;case"select":null!=(r=n.value)&&tl(t,!!n.multiple,r,!1)}}}var tE=!1;function tD(t,r,n){if(tE)return t(r,n);tE=!0;try{return t(r)}finally{if(tE=!1,(null!==t_||null!==tC)&&(ly(),t_&&(r=t_,t=tC,tC=t_=null,tS(r),t)))for(r=0;r<t.length;r++)tS(t[r])}}function tA(t,r){var n=t.stateNode;if(null===n)return null;var i=n[eV]||null;if(null===i)return null;switch(n=i[r],r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i="button"!==(t=t.type)&&"input"!==t&&"select"!==t&&"textarea"!==t),t=!i;break;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(l(231,r,typeof n));return n}var tk="u">typeof window&&void 0!==window.document&&void 0!==window.document.createElement,tT=!1;if(tk)try{var tF={};Object.defineProperty(tF,"passive",{get:function(){tT=!0}}),window.addEventListener("test",tF,tF),window.removeEventListener("test",tF,tF)}catch(t){tT=!1}var tM=null,tI=null,tB=null;function tP(){if(tB)return tB;var t,r,n=tI,i=n.length,s="value"in tM?tM.value:tM.textContent,a=s.length;for(t=0;t<i&&n[t]===s[t];t++);var o=i-t;for(r=1;r<=o&&n[i-r]===s[a-r];r++);return tB=s.slice(t,1<r?1-r:void 0)}function tL(t){var r=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===r&&(t=13):t=r,10===t&&(t=13),32<=t||13===t?t:0}function tN(){return!0}function tO(){return!1}function tR(t){function r(r,n,i,s,a){for(var o in this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null,t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?tN:tO,this.isPropagationStopped=tO,this}return m(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=tN)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=tN)},persist:function(){},isPersistent:tN}),r}var tV,tz,tU,tj,tG,t$,tH,tW,tq={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tY=tR(tq),tX=m({},tq,{view:0,detail:0}),tK=tR(tX),tZ=m({},tX,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t9,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tW&&(tW&&"mousemove"===t.type?(t$=t.screenX-tW.screenX,tH=t.screenY-tW.screenY):tH=t$=0,tW=t),t$)},movementY:function(t){return"movementY"in t?t.movementY:tH}}),tQ=tR(tZ),tJ=tR(m({},tZ,{dataTransfer:0})),t0=tR(m({},tX,{relatedTarget:0})),t1=tR(m({},tq,{animationName:0,elapsedTime:0,pseudoElement:0})),t2=tR(m({},tq,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),t5=tR(m({},tq,{data:0})),t3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t8(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):!!(t=t6[t])&&!!r[t]}function t9(){return t8}var t7=tR(m({},tX,{key:function(t){if(t.key){var r=t3[t.key]||t.key;if("Unidentified"!==r)return r}return"keypress"===t.type?13===(t=tL(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?t4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t9,charCode:function(t){return"keypress"===t.type?tL(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?tL(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),re=tR(m({},tZ,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),rt=tR(m({},tX,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t9})),rr=tR(m({},tq,{propertyName:0,elapsedTime:0,pseudoElement:0})),rn=tR(m({},tZ,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),ri=tR(m({},tq,{newState:0,oldState:0})),rs=[9,13,27,32],ra=tk&&"CompositionEvent"in window,ro=null;tk&&"documentMode"in document&&(ro=document.documentMode);var rl=tk&&"TextEvent"in window&&!ro,ru=tk&&(!ra||ro&&8<ro&&11>=ro),rh=!1;function rc(t,r){switch(t){case"keyup":return -1!==rs.indexOf(r.keyCode);case"keydown":return 229!==r.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rd(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var rp=!1,rf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rm(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===r?!!rf[t.type]:"textarea"===r}function rg(t,r,n,i){t_?tC?tC.push(i):tC=[i]:t_=i,0<(r=uu(r,"onChange")).length&&(n=new tY("onChange","change",null,n,i),t.push({event:n,listeners:r}))}var ry=null,rv=null;function rx(t){ut(t,0)}function rb(t){if(tt(eX(t)))return t}function rw(t,r){if("change"===t)return r}var r_=!1;if(tk){if(tk){var rC="oninput"in document;if(!rC){var rS=document.createElement("div");rS.setAttribute("oninput","return;"),rC="function"==typeof rS.oninput}n=rC}else n=!1;r_=n&&(!document.documentMode||9<document.documentMode)}function rE(){ry&&(ry.detachEvent("onpropertychange",rD),rv=ry=null)}function rD(t){if("value"===t.propertyName&&rb(rv)){var r=[];rg(r,rv,t,tw(t)),tD(rx,r)}}function rA(t,r,n){"focusin"===t?(rE(),ry=r,rv=n,ry.attachEvent("onpropertychange",rD)):"focusout"===t&&rE()}function rk(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return rb(rv)}function rT(t,r){if("click"===t)return rb(r)}function rF(t,r){if("input"===t||"change"===t)return rb(r)}var rM="function"==typeof Object.is?Object.is:function(t,r){return t===r&&(0!==t||1/t==1/r)||t!=t&&r!=r};function rI(t,r){if(rM(t,r))return!0;if("object"!=typeof t||null===t||"object"!=typeof r||null===r)return!1;var n=Object.keys(t),i=Object.keys(r);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!et.call(r,s)||!rM(t[s],r[s]))return!1}return!0}function rB(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rP(t,r){var n,i=rB(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=r&&n>=r)return{node:i,offset:r-t};t=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=rB(i)}}function rL(t){t=null!=t&&null!=t.ownerDocument&&null!=t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;for(var r=tr(t.document);r instanceof t.HTMLIFrameElement;){try{var n="string"==typeof r.contentWindow.location.href}catch(t){n=!1}if(n)t=r.contentWindow;else break;r=tr(t.document)}return r}function rN(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&("input"===r&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===r||"true"===t.contentEditable)}var rO=tk&&"documentMode"in document&&11>=document.documentMode,rR=null,rV=null,rz=null,rU=!1;function rj(t,r,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;rU||null==rR||rR!==tr(i)||(i="selectionStart"in(i=rR)&&rN(i)?{start:i.selectionStart,end:i.selectionEnd}:{anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},rz&&rI(rz,i)||(rz=i,0<(i=uu(rV,"onSelect")).length&&(r=new tY("onSelect","select",null,r,n),t.push({event:r,listeners:i}),r.target=rR)))}function rG(t,r){var n={};return n[t.toLowerCase()]=r.toLowerCase(),n["Webkit"+t]="webkit"+r,n["Moz"+t]="moz"+r,n}var r$={animationend:rG("Animation","AnimationEnd"),animationiteration:rG("Animation","AnimationIteration"),animationstart:rG("Animation","AnimationStart"),transitionrun:rG("Transition","TransitionRun"),transitionstart:rG("Transition","TransitionStart"),transitioncancel:rG("Transition","TransitionCancel"),transitionend:rG("Transition","TransitionEnd")},rH={},rW={};function rq(t){if(rH[t])return rH[t];if(!r$[t])return t;var r,n=r$[t];for(r in n)if(n.hasOwnProperty(r)&&r in rW)return rH[t]=n[r];return t}tk&&(rW=document.createElement("div").style,"AnimationEvent"in window||(delete r$.animationend.animation,delete r$.animationiteration.animation,delete r$.animationstart.animation),"TransitionEvent"in window||delete r$.transitionend.transition);var rY=rq("animationend"),rX=rq("animationiteration"),rK=rq("animationstart"),rZ=rq("transitionrun"),rQ=rq("transitionstart"),rJ=rq("transitioncancel"),r0=rq("transitionend"),r1=new Map,r2="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function r5(t,r){r1.set(t,r),e0(r,[t])}r2.push("scrollEnd");var r3="function"==typeof reportError?reportError:function(t){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof t&&null!==t&&"string"==typeof t.message?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}console.error(t)},r4=[],r6=0,r8=0;function r9(){for(var t=r6,r=r8=r6=0;r<t;){var n=r4[r];r4[r++]=null;var i=r4[r];r4[r++]=null;var s=r4[r];r4[r++]=null;var a=r4[r];if(r4[r++]=null,null!==i&&null!==s){var o=i.pending;null===o?s.next=s:(s.next=o.next,o.next=s),i.pending=s}0!==a&&nr(n,s,a)}}function r7(t,r,n,i){r4[r6++]=t,r4[r6++]=r,r4[r6++]=n,r4[r6++]=i,r8|=i,t.lanes|=i,null!==(t=t.alternate)&&(t.lanes|=i)}function ne(t,r,n,i){return r7(t,r,n,i),nn(t)}function nt(t,r){return r7(t,null,null,r),nn(t)}function nr(t,r,n){t.lanes|=n;var i=t.alternate;null!==i&&(i.lanes|=n);for(var s=!1,a=t.return;null!==a;)a.childLanes|=n,null!==(i=a.alternate)&&(i.childLanes|=n),22===a.tag&&(null===(t=a.stateNode)||1&t._visibility||(s=!0)),t=a,a=a.return;return 3===t.tag?(a=t.stateNode,s&&null!==r&&(s=31-ev(n),null===(i=(t=a.hiddenUpdates)[s])?t[s]=[r]:i.push(r),r.lane=0x20000000|n),a):null}function nn(t){if(50<lu)throw lu=0,lh=null,Error(l(185));for(var r=t.return;null!==r;)r=(t=r).return;return 3===t.tag?t.stateNode:null}var ni={};function ns(t,r,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function na(t,r,n,i){return new ns(t,r,n,i)}function no(t){return!(!(t=t.prototype)||!t.isReactComponent)}function nl(t,r){var n=t.alternate;return null===n?((n=na(t.tag,r,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=r,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=0x3e00000&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,r=t.dependencies,n.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function nu(t,r){t.flags&=0x3e00002;var n=t.alternate;return null===n?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,t.dependencies=null===(r=n.dependencies)?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function nh(t,r,n,i,s,a){var o=0;if(i=t,"function"==typeof t)no(t)&&(o=1);else if("string"==typeof t)o=!function(t,r,n){if(1===n||null!=r.itemProp)return!1;switch(t){case"meta":case"title":return!0;case"style":if("string"!=typeof r.precedence||"string"!=typeof r.href||""===r.href)break;return!0;case"link":if("string"!=typeof r.rel||"string"!=typeof r.href||""===r.href||r.onLoad||r.onError)break;if("stylesheet"===r.rel)return t=r.disabled,"string"==typeof r.precedence&&null==t;return!0;case"script":if(r.async&&"function"!=typeof r.async&&"symbol"!=typeof r.async&&!r.onLoad&&!r.onError&&r.src&&"string"==typeof r.src)return!0}return!1}(t,n,G.current)?"html"===t||"head"===t||"body"===t?27:5:26;else e:switch(t){case T:return(t=na(31,n,r,s)).elementType=T,t.lanes=a,t;case x:return nc(n.children,s,a,r);case b:o=8,s|=24;break;case w:return(t=na(12,n,r,2|s)).elementType=w,t.lanes=a,t;case E:return(t=na(13,n,r,s)).elementType=E,t.lanes=a,t;case D:return(t=na(19,n,r,s)).elementType=D,t.lanes=a,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case C:o=10;break e;case _:o=9;break e;case S:o=11;break e;case A:o=14;break e;case k:o=16,i=null;break e}o=29,n=Error(l(130,null===t?"null":typeof t,"")),i=null}return(r=na(o,n,r,s)).elementType=t,r.type=i,r.lanes=a,r}function nc(t,r,n,i){return(t=na(7,t,i,r)).lanes=n,t}function nd(t,r,n){return(t=na(6,t,null,r)).lanes=n,t}function np(t){var r=na(18,null,null,0);return r.stateNode=t,r}function nf(t,r,n){return(r=na(4,null!==t.children?t.children:[],t.key,r)).lanes=n,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var nm=new WeakMap;function ng(t,r){if("object"==typeof t&&null!==t){var n=nm.get(t);return void 0!==n?n:(r={value:t,source:r,stack:ee(r)},nm.set(t,r),r)}return{value:t,source:r,stack:ee(r)}}var ny=[],nv=0,nx=null,nb=0,nw=[],n_=0,nC=null,nS=1,nE="";function nD(t,r){ny[nv++]=nb,ny[nv++]=nx,nx=t,nb=r}function nA(t,r,n){nw[n_++]=nS,nw[n_++]=nE,nw[n_++]=nC,nC=t;var i=nS;t=nE;var s=32-ev(i)-1;i&=~(1<<s),n+=1;var a=32-ev(r)+s;if(30<a){var o=s-s%5;a=(i&(1<<o)-1).toString(32),i>>=o,s-=o,nS=1<<32-ev(r)+s|n<<s|i,nE=a+t}else nS=1<<a|n<<s|i,nE=t}function nk(t){null!==t.return&&(nD(t,1),nA(t,1,0))}function nT(t){for(;t===nx;)nx=ny[--nv],ny[nv]=null,nb=ny[--nv],ny[nv]=null;for(;t===nC;)nC=nw[--n_],nw[n_]=null,nE=nw[--n_],nw[n_]=null,nS=nw[--n_],nw[n_]=null}function nF(t,r){nw[n_++]=nS,nw[n_++]=nE,nw[n_++]=nC,nS=r.id,nE=r.overflow,nC=t}var nM=null,nI=null,nB=!1,nP=null,nL=!1,nN=Error(l(519));function nO(t){var r=Error(l(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML",""));throw nG(ng(r,t)),nN}function nR(t){var r=t.stateNode,n=t.type,i=t.memoizedProps;switch(r[eR]=t,r[eV]=i,n){case"dialog":ur("cancel",r),ur("close",r);break;case"iframe":case"object":case"embed":ur("load",r);break;case"video":case"audio":for(n=0;n<l7.length;n++)ur(l7[n],r);break;case"source":ur("error",r);break;case"img":case"image":case"link":ur("error",r),ur("load",r);break;case"details":ur("toggle",r);break;case"input":ur("invalid",r),ta(r,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ur("invalid",r);break;case"textarea":ur("invalid",r),th(r,i.value,i.defaultValue,i.children)}"string"!=typeof(n=i.children)&&"number"!=typeof n&&"bigint"!=typeof n||r.textContent===""+n||!0===i.suppressHydrationWarning||um(r.textContent,n)?(null!=i.popover&&(ur("beforetoggle",r),ur("toggle",r)),null!=i.onScroll&&ur("scroll",r),null!=i.onScrollEnd&&ur("scrollend",r),null!=i.onClick&&(r.onclick=tx),r=!0):r=!1,r||nO(t,!0)}function nV(t){for(nM=t.return;nM;)switch(nM.tag){case 5:case 31:case 13:nL=!1;return;case 27:case 3:nL=!0;return;default:nM=nM.return}}function nz(t){if(t!==nM)return!1;if(!nB)return nV(t),nB=!0,!1;var r,n=t.tag;if((r=3!==n&&27!==n)&&((r=5===n)&&(r="form"===(r=t.type)||"button"===r||uE(t.type,t.memoizedProps)),r=!r),r&&nI&&nO(t),nV(t),13===n){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(l(317));nI=uU(t)}else if(31===n){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(l(317));nI=uU(t)}else 27===n?(n=nI,uI(t.type)?(t=uz,uz=null,nI=t):nI=n):nI=nM?uV(t.stateNode.nextSibling):null;return!0}function nU(){nI=nM=null,nB=!1}function nj(){var t=nP;return null!==t&&(null===o4?o4=t:o4.push.apply(o4,t),nP=null),t}function nG(t){null===nP?nP=[t]:nP.push(t)}var n$=z(null),nH=null,nW=null;function nq(t,r,n){j(n$,r._currentValue),r._currentValue=n}function nY(t){t._currentValue=n$.current,U(n$)}function nX(t,r,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,null!==i&&(i.childLanes|=r)):null!==i&&(i.childLanes&r)!==r&&(i.childLanes|=r),t===n)break;t=t.return}}function nK(t,r,n,i){var s=t.child;for(null!==s&&(s.return=t);null!==s;){var a=s.dependencies;if(null!==a){var o=s.child;a=a.firstContext;e:for(;null!==a;){var u=a;a=s;for(var h=0;h<r.length;h++)if(u.context===r[h]){a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),nX(a.return,n,t),i||(o=null);break e}a=u.next}}else if(18===s.tag){if(null===(o=s.return))throw Error(l(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),nX(o,n,t),o=null}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}function nZ(t,r,n,i){t=null;for(var s=r,a=!1;null!==s;){if(!a){if(0!=(524288&s.flags))a=!0;else if(0!=(262144&s.flags))break}if(10===s.tag){var o=s.alternate;if(null===o)throw Error(l(387));if(null!==(o=o.memoizedProps)){var u=s.type;rM(s.pendingProps.value,o.value)||(null!==t?t.push(u):t=[u])}}else if(s===W.current){if(null===(o=s.alternate))throw Error(l(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==t?t.push(ha):t=[ha])}s=s.return}null!==t&&nK(r,t,n,i),r.flags|=262144}function nQ(t){for(t=t.firstContext;null!==t;){if(!rM(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function nJ(t){nH=t,nW=null,null!==(t=t.dependencies)&&(t.firstContext=null)}function n0(t){return n2(nH,t)}function n1(t,r){return null===nH&&nJ(t),n2(t,r)}function n2(t,r){var n=r._currentValue;if(r={context:r,memoizedValue:n,next:null},null===nW){if(null===t)throw Error(l(308));nW=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else nW=nW.next=r;return n}var n5="u">typeof AbortController?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(r,n){t.push(n)}};this.abort=function(){r.aborted=!0,t.forEach(function(t){return t()})}},n3=s.unstable_scheduleCallback,n4=s.unstable_NormalPriority,n6={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function n8(){return{controller:new n5,data:new Map,refCount:0}}function n9(t){t.refCount--,0===t.refCount&&n3(n4,function(){t.controller.abort()})}var n7=null,ie=0,it=0,ir=null;function ii(){if(0==--ie&&null!==n7){null!==ir&&(ir.status="fulfilled");var t=n7;n7=null,it=0,ir=null;for(var r=0;r<t.length;r++)(0,t[r])()}}var is=L.S;L.S=function(t,r){o9=ea(),"object"==typeof r&&null!==r&&"function"==typeof r.then&&function(t){if(null===n7){var r=n7=[];ie=0,it=l3(),ir={status:"pending",value:void 0,then:function(t){r.push(t)}}}ie++,t.then(ii,ii)}(r),null!==is&&is(t,r)};var ia=z(null);function io(){var t=ia.current;return null!==t?t:oG.pooledCache}function il(t,r){null===r?j(ia,ia.current):j(ia,r.pool)}function iu(){var t=io();return null===t?null:{parent:n6._currentValue,pool:t}}var ih=Error(l(460)),ic=Error(l(474)),id=Error(l(542)),ip={then:function(){}};function im(t){return"fulfilled"===(t=t.status)||"rejected"===t}function ig(t,r,n){switch(void 0===(n=t[n])?t.push(r):n!==r&&(r.then(tx,tx),r=n),r.status){case"fulfilled":return r.value;case"rejected":throw ib(t=r.reason),t;default:if("string"==typeof r.status)r.then(tx,tx);else{if(null!==(t=oG)&&100<t.shellSuspendCounter)throw Error(l(482));(t=r).status="pending",t.then(function(t){if("pending"===r.status){var n=r;n.status="fulfilled",n.value=t}},function(t){if("pending"===r.status){var n=r;n.status="rejected",n.reason=t}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw ib(t=r.reason),t}throw iv=r,ih}}function iy(t){try{return(0,t._init)(t._payload)}catch(t){if(null!==t&&"object"==typeof t&&"function"==typeof t.then)throw iv=t,ih;throw t}}var iv=null;function ix(){if(null===iv)throw Error(l(459));var t=iv;return iv=null,t}function ib(t){if(t===ih||t===id)throw Error(l(483))}var iw=null,i_=0;function iC(t){var r=i_;return i_+=1,null===iw&&(iw=[]),ig(iw,t,r)}function iS(t,r){t.ref=void 0!==(r=r.props.ref)?r:null}function iE(t,r){if(r.$$typeof===g)throw Error(l(525));throw Error(l(31,"[object Object]"===(t=Object.prototype.toString.call(r))?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function iD(t){function r(r,n){if(t){var i=r.deletions;null===i?(r.deletions=[n],r.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)r(n,i),i=i.sibling;return null}function i(t){for(var r=new Map;null!==t;)null!==t.key?r.set(t.key,t):r.set(t.index,t),t=t.sibling;return r}function s(t,r){return(t=nl(t,r)).index=0,t.sibling=null,t}function a(r,n,i){return(r.index=i,t)?null!==(i=r.alternate)?(i=i.index)<n?(r.flags|=0x4000002,n):i:(r.flags|=0x4000002,n):(r.flags|=1048576,n)}function o(r){return t&&null===r.alternate&&(r.flags|=0x4000002),r}function u(t,r,n,i){return null===r||6!==r.tag?(r=nd(n,t.mode,i)).return=t:(r=s(r,n)).return=t,r}function h(t,r,n,i){var a=n.type;return a===x?d(t,r,n.props.children,i,n.key):(null!==r&&(r.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===k&&iy(a)===r.type)?iS(r=s(r,n.props),n):iS(r=nh(n.type,n.key,n.props,null,t.mode,i),n),r.return=t,r)}function c(t,r,n,i){return null===r||4!==r.tag||r.stateNode.containerInfo!==n.containerInfo||r.stateNode.implementation!==n.implementation?(r=nf(n,t.mode,i)).return=t:(r=s(r,n.children||[])).return=t,r}function d(t,r,n,i,a){return null===r||7!==r.tag?(r=nc(n,t.mode,i,a)).return=t:(r=s(r,n)).return=t,r}function p(t,r,n){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return(r=nd(""+r,t.mode,n)).return=t,r;if("object"==typeof r&&null!==r){switch(r.$$typeof){case y:return iS(n=nh(r.type,r.key,r.props,null,t.mode,n),r),n.return=t,n;case v:return(r=nf(r,t.mode,n)).return=t,r;case k:return p(t,r=iy(r),n)}if(P(r)||I(r))return(r=nc(r,t.mode,n,null)).return=t,r;if("function"==typeof r.then)return p(t,iC(r),n);if(r.$$typeof===C)return p(t,n1(t,r),n);iE(t,r)}return null}function f(t,r,n,i){var s=null!==r?r.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==s?null:u(t,r,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case y:return n.key===s?h(t,r,n,i):null;case v:return n.key===s?c(t,r,n,i):null;case k:return f(t,r,n=iy(n),i)}if(P(n)||I(n))return null!==s?null:d(t,r,n,i,null);if("function"==typeof n.then)return f(t,r,iC(n),i);if(n.$$typeof===C)return f(t,r,n1(t,n),i);iE(t,n)}return null}function m(t,r,n,i,s){if("string"==typeof i&&""!==i||"number"==typeof i||"bigint"==typeof i)return u(r,t=t.get(n)||null,""+i,s);if("object"==typeof i&&null!==i){switch(i.$$typeof){case y:return h(r,t=t.get(null===i.key?n:i.key)||null,i,s);case v:return c(r,t=t.get(null===i.key?n:i.key)||null,i,s);case k:return m(t,r,n,i=iy(i),s)}if(P(i)||I(i))return d(r,t=t.get(n)||null,i,s,null);if("function"==typeof i.then)return m(t,r,n,iC(i),s);if(i.$$typeof===C)return m(t,r,n,n1(r,i),s);iE(r,i)}return null}return function(u,h,c,d){try{i_=0;var g=function u(h,c,d,g){if("object"==typeof d&&null!==d&&d.type===x&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case y:e:{for(var b=d.key;null!==c;){if(c.key===b){if((b=d.type)===x){if(7===c.tag){n(h,c.sibling),(g=s(c,d.props.children)).return=h,h=g;break e}}else if(c.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===k&&iy(b)===c.type){n(h,c.sibling),iS(g=s(c,d.props),d),g.return=h,h=g;break e}n(h,c);break}r(h,c),c=c.sibling}d.type===x?(g=nc(d.props.children,h.mode,g,d.key)).return=h:(iS(g=nh(d.type,d.key,d.props,null,h.mode,g),d),g.return=h),h=g}return o(h);case v:e:{for(b=d.key;null!==c;){if(c.key===b)if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(h,c.sibling),(g=s(c,d.children||[])).return=h,h=g;break e}else{n(h,c);break}r(h,c),c=c.sibling}(g=nf(d,h.mode,g)).return=h,h=g}return o(h);case k:return u(h,c,d=iy(d),g)}if(P(d))return function(s,o,l,u){for(var h=null,c=null,d=o,g=o=0,y=null;null!==d&&g<l.length;g++){d.index>g?(y=d,d=null):y=d.sibling;var v=f(s,d,l[g],u);if(null===v){null===d&&(d=y);break}t&&d&&null===v.alternate&&r(s,d),o=a(v,o,g),null===c?h=v:c.sibling=v,c=v,d=y}if(g===l.length)return n(s,d),nB&&nD(s,g),h;if(null===d){for(;g<l.length;g++)null!==(d=p(s,l[g],u))&&(o=a(d,o,g),null===c?h=d:c.sibling=d,c=d);return nB&&nD(s,g),h}for(d=i(d);g<l.length;g++)null!==(y=m(d,s,g,l[g],u))&&(t&&null!==y.alternate&&d.delete(null===y.key?g:y.key),o=a(y,o,g),null===c?h=y:c.sibling=y,c=y);return t&&d.forEach(function(t){return r(s,t)}),nB&&nD(s,g),h}(h,c,d,g);if(I(d)){if("function"!=typeof(b=I(d)))throw Error(l(150));return function(s,o,u,h){if(null==u)throw Error(l(151));for(var c=null,d=null,g=o,y=o=0,v=null,x=u.next();null!==g&&!x.done;y++,x=u.next()){g.index>y?(v=g,g=null):v=g.sibling;var b=f(s,g,x.value,h);if(null===b){null===g&&(g=v);break}t&&g&&null===b.alternate&&r(s,g),o=a(b,o,y),null===d?c=b:d.sibling=b,d=b,g=v}if(x.done)return n(s,g),nB&&nD(s,y),c;if(null===g){for(;!x.done;y++,x=u.next())null!==(x=p(s,x.value,h))&&(o=a(x,o,y),null===d?c=x:d.sibling=x,d=x);return nB&&nD(s,y),c}for(g=i(g);!x.done;y++,x=u.next())null!==(x=m(g,s,y,x.value,h))&&(t&&null!==x.alternate&&g.delete(null===x.key?y:x.key),o=a(x,o,y),null===d?c=x:d.sibling=x,d=x);return t&&g.forEach(function(t){return r(s,t)}),nB&&nD(s,y),c}(h,c,d=b.call(d),g)}if("function"==typeof d.then)return u(h,c,iC(d),g);if(d.$$typeof===C)return u(h,c,n1(h,d),g);iE(h,d)}return"string"==typeof d&&""!==d||"number"==typeof d||"bigint"==typeof d?(d=""+d,null!==c&&6===c.tag?(n(h,c.sibling),(g=s(c,d)).return=h):(n(h,c),(g=nd(d,h.mode,g)).return=h),o(h=g)):n(h,c)}(u,h,c,d);return iw=null,g}catch(t){if(t===ih||t===id)throw t;var b=na(29,t,null,u.mode);return b.lanes=d,b.return=u,b}finally{}}}var iA=iD(!0),ik=iD(!1),iT=!1;function iF(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function iM(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function iI(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function iB(t,r,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,0!=(2&oj)){var s=i.pending;return null===s?r.next=r:(r.next=s.next,s.next=r),i.pending=r,r=nn(t),nr(t,null,n),r}return r7(t,i,r,n),nn(t)}function iP(t,r,n){if(null!==(r=r.updateQueue)&&(r=r.shared,0!=(4194048&n))){var i=r.lanes;i&=t.pendingLanes,n|=i,r.lanes=n,eM(t,n)}}function iL(t,r){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var s=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?s=a=o:a=a.next=o,n=n.next}while(null!==n)null===a?s=a=r:a=a.next=r}else s=a=r;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=r:t.next=r,n.lastBaseUpdate=r}var iN=!1;function iO(){if(iN){var t=ir;if(null!==t)throw t}}function iR(t,r,n,i){iN=!1;var s=t.updateQueue;iT=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(null!==l){s.shared.pending=null;var u=l,h=u.next;u.next=null,null===o?a=h:o.next=h,o=u;var c=t.alternate;null!==c&&(l=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===l?c.firstBaseUpdate=h:l.next=h,c.lastBaseUpdate=u)}if(null!==a){var d=s.baseState;for(o=0,c=h=u=null,l=a;;){var p=-0x20000001&l.lane,f=p!==l.lane;if(f?(oH&p)===p:(i&p)===p){0!==p&&p===it&&(iN=!0),null!==c&&(c=c.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var g=t,y=l;switch(p=r,y.tag){case 1:if("function"==typeof(g=y.payload)){d=g.call(n,d,p);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null==(p="function"==typeof(g=y.payload)?g.call(n,d,p):g))break e;d=m({},d,p);break e;case 2:iT=!0}}null!==(p=l.callback)&&(t.flags|=64,f&&(t.flags|=8192),null===(f=s.callbacks)?s.callbacks=[p]:f.push(p))}else f={lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===c?(h=c=f,u=d):c=c.next=f,o|=p;if(null===(l=l.next))if(null===(l=s.shared.pending))break;else l=(f=l).next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}null===c&&(u=d),s.baseState=u,s.firstBaseUpdate=h,s.lastBaseUpdate=c,null===a&&(s.shared.lanes=0),oJ|=o,t.lanes=o,t.memoizedState=d}}function iV(t,r){if("function"!=typeof t)throw Error(l(191,t));t.call(r)}function iz(t,r){var n=t.callbacks;if(null!==n)for(t.callbacks=null,t=0;t<n.length;t++)iV(n[t],r)}var iU=z(null),ij=z(0);function iG(t,r){j(ij,t=oZ),j(iU,r),oZ=t|r.baseLanes}function i$(){j(ij,oZ),j(iU,iU.current)}function iH(){oZ=ij.current,U(iU),U(ij)}var iW=z(null),iq=null;function iY(t){var r=t.alternate;j(iJ,1&iJ.current),j(iW,t),null===iq&&(null===r||null!==iU.current?iq=t:null!==r.memoizedState&&(iq=t))}function iX(t){j(iJ,iJ.current),j(iW,t),null===iq&&(iq=t)}function iK(t){22===t.tag?(j(iJ,iJ.current),j(iW,t),null===iq&&(iq=t)):iZ(t)}function iZ(){j(iJ,iJ.current),j(iW,iW.current)}function iQ(t){U(iW),iq===t&&(iq=null),U(iJ)}var iJ=z(0);function i0(t){for(var r=t;null!==r;){if(13===r.tag){var n=r.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||uO(n)||uR(n)))return r}else if(19===r.tag&&("forwards"===r.memoizedProps.revealOrder||"backwards"===r.memoizedProps.revealOrder||"unstable_legacy-backwards"===r.memoizedProps.revealOrder||"together"===r.memoizedProps.revealOrder)){if(0!=(128&r.flags))return r}else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var i1=0,i2=null,i5=null,i3=null,i4=!1,i6=!1,i8=!1,i9=0,i7=0,se=null,st=0;function sr(){throw Error(l(321))}function sn(t,r){if(null===r)return!1;for(var n=0;n<r.length&&n<t.length;n++)if(!rM(t[n],r[n]))return!1;return!0}function si(t,r,n,i,s,a){return i1=a,i2=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,L.H=null===t||null===t.memoizedState?ah:ac,i8=!1,a=n(i,s),i8=!1,i6&&(a=sa(r,n,i,s)),ss(t),a}function ss(t){L.H=au;var r=null!==i5&&null!==i5.next;if(i1=0,i3=i5=i2=null,i4=!1,i7=0,se=null,r)throw Error(l(300));null===t||aA||null!==(t=t.dependencies)&&nQ(t)&&(aA=!0)}function sa(t,r,n,i){i2=t;var s=0;do{if(i6&&(se=null),i7=0,i6=!1,25<=s)throw Error(l(301));if(s+=1,i3=i5=null,null!=t.updateQueue){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}L.H=ad,a=r(n,i)}while(i6)return a}function so(){var t=L.H,r=t.useState()[0];return r="function"==typeof r.then?sf(r):r,t=t.useState()[0],(null!==i5?i5.memoizedState:null)!==t&&(i2.flags|=1024),r}function sl(){var t=0!==i9;return i9=0,t}function su(t,r,n){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~n}function sh(t){if(i4){for(t=t.memoizedState;null!==t;){var r=t.queue;null!==r&&(r.pending=null),t=t.next}i4=!1}i1=0,i3=i5=i2=null,i6=!1,i7=i9=0,se=null}function sc(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===i3?i2.memoizedState=i3=t:i3=i3.next=t,i3}function sd(){if(null===i5){var t=i2.alternate;t=null!==t?t.memoizedState:null}else t=i5.next;var r=null===i3?i2.memoizedState:i3.next;if(null!==r)i3=r,i5=t;else{if(null===t){if(null===i2.alternate)throw Error(l(467));throw Error(l(310))}t={memoizedState:(i5=t).memoizedState,baseState:i5.baseState,baseQueue:i5.baseQueue,queue:i5.queue,next:null},null===i3?i2.memoizedState=i3=t:i3=i3.next=t}return i3}function sp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sf(t){var r=i7;return i7+=1,null===se&&(se=[]),t=ig(se,t,r),r=i2,null===(null===i3?r.memoizedState:i3.next)&&(L.H=null===(r=r.alternate)||null===r.memoizedState?ah:ac),t}function sm(t){if(null!==t&&"object"==typeof t){if("function"==typeof t.then)return sf(t);if(t.$$typeof===C)return n0(t)}throw Error(l(438,String(t)))}function sg(t){var r=null,n=i2.updateQueue;if(null!==n&&(r=n.memoCache),null==r){var i=i2.alternate;null!==i&&null!==(i=i.updateQueue)&&null!=(i=i.memoCache)&&(r={data:i.data.map(function(t){return t.slice()}),index:0})}if(null==r&&(r={data:[],index:0}),null===n&&(n=sp(),i2.updateQueue=n),n.memoCache=r,void 0===(n=r.data[r.index]))for(n=r.data[r.index]=Array(t),i=0;i<t;i++)n[i]=F;return r.index++,n}function sy(t,r){return"function"==typeof r?r(t):r}function sv(t){return sx(sd(),i5,t)}function sx(t,r,n){var i=t.queue;if(null===i)throw Error(l(311));i.lastRenderedReducer=n;var s=t.baseQueue,a=i.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,i.pending=null}if(a=t.baseState,null===s)t.memoizedState=a;else{r=s.next;var u=o=null,h=null,c=r,d=!1;do{var p=-0x20000001&c.lane;if(p!==c.lane?(oH&p)===p:(i1&p)===p){var f=c.revertLane;if(0===f)null!==h&&(h=h.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===it&&(d=!0);else if((i1&f)===f){c=c.next,f===it&&(d=!0);continue}else p={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===h?(u=h=p,o=a):h=h.next=p,i2.lanes|=f,oJ|=f;p=c.action,i8&&n(a,p),a=c.hasEagerState?c.eagerState:n(a,p)}else f={lane:p,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===h?(u=h=f,o=a):h=h.next=f,i2.lanes|=p,oJ|=p;c=c.next}while(null!==c&&c!==r)if(null===h?o=a:h.next=u,!rM(a,t.memoizedState)&&(aA=!0,d&&null!==(n=ir)))throw n;t.memoizedState=a,t.baseState=o,t.baseQueue=h,i.lastRenderedState=a}return null===s&&(i.lanes=0),[t.memoizedState,i.dispatch]}function sb(t){var r=sd(),n=r.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,a=r.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do a=t(a,o.action),o=o.next;while(o!==s)rM(a,r.memoizedState)||(aA=!0),r.memoizedState=a,null===r.baseQueue&&(r.baseState=a),n.lastRenderedState=a}return[a,i]}function sw(t,r,n){var i=i2,s=sd(),a=nB;if(a){if(void 0===n)throw Error(l(407));n=n()}else n=r();var o=!rM((i5||s).memoizedState,n);if(o&&(s.memoizedState=n,aA=!0),s=s.queue,sW(sS.bind(null,i,s,t),[t]),s.getSnapshot!==r||o||null!==i3&&1&i3.memoizedState.tag){if(i.flags|=2048,sU(9,{destroy:void 0},sC.bind(null,i,s,n,r),null),null===oG)throw Error(l(349));a||0!=(127&i1)||s_(i,r,n)}return n}function s_(t,r,n){t.flags|=16384,t={getSnapshot:r,value:n},null===(r=i2.updateQueue)?(r=sp(),i2.updateQueue=r,r.stores=[t]):null===(n=r.stores)?r.stores=[t]:n.push(t)}function sC(t,r,n,i){r.value=n,r.getSnapshot=i,sE(r)&&sD(t)}function sS(t,r,n){return n(function(){sE(r)&&sD(t)})}function sE(t){var r=t.getSnapshot;t=t.value;try{var n=r();return!rM(t,n)}catch(t){return!0}}function sD(t){var r=nt(t,2);null!==r&&lp(r,t,2)}function sA(t){var r=sc();if("function"==typeof t){var n=t;if(t=n(),i8){ey(!0);try{n()}finally{ey(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sy,lastRenderedState:t},r}function sk(t,r,n,i){return t.baseState=n,sx(t,i5,"function"==typeof i?i:sy)}function sT(t,r,n,i,s){if(aa(t))throw Error(l(485));if(null!==(t=r.action)){var a={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(t){a.listeners.push(t)}};null!==L.T?n(!0):a.isTransition=!1,i(a),null===(n=r.pending)?(a.next=r.pending=a,sF(r,a)):(a.next=n.next,r.pending=n.next=a)}}function sF(t,r){var n=r.action,i=r.payload,s=t.state;if(r.isTransition){var a=L.T,o={};L.T=o;try{var l=n(s,i),u=L.S;null!==u&&u(o,l),sM(t,r,l)}catch(n){sB(t,r,n)}finally{null!==a&&null!==o.types&&(a.types=o.types),L.T=a}}else try{a=n(s,i),sM(t,r,a)}catch(n){sB(t,r,n)}}function sM(t,r,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){sI(t,r,n)},function(n){return sB(t,r,n)}):sI(t,r,n)}function sI(t,r,n){r.status="fulfilled",r.value=n,sP(r),t.state=n,null!==(r=t.pending)&&((n=r.next)===r?t.pending=null:(n=n.next,r.next=n,sF(t,n)))}function sB(t,r,n){var i=t.pending;if(t.pending=null,null!==i){i=i.next;do r.status="rejected",r.reason=n,sP(r),r=r.next;while(r!==i)}t.action=null}function sP(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function sL(t,r){return r}function sN(t,r){if(nB){var n=oG.formState;if(null!==n){e:{var i=i2;if(nB){if(nI){t:{for(var s=nI,a=nL;8!==s.nodeType;)if(!a||null===(s=uV(s.nextSibling))){s=null;break t}s="F!"===(a=s.data)||"F"===a?s:null}if(s){nI=uV(s.nextSibling),i="F!"===s.data;break e}}nO(i)}i=!1}i&&(r=n[0])}}return(n=sc()).memoizedState=n.baseState=r,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sL,lastRenderedState:r},n.queue=i,n=an.bind(null,i2,i),i.dispatch=n,i=sA(!1),a=as.bind(null,i2,!1,i.queue),i=sc(),s={state:r,dispatch:null,action:t,pending:null},i.queue=s,n=sT.bind(null,i2,s,a,n),s.dispatch=n,i.memoizedState=t,[r,n,!1]}function sO(t){return sR(sd(),i5,t)}function sR(t,r,n){if(r=sx(t,r,sL)[0],t=sv(sy)[0],"object"==typeof r&&null!==r&&"function"==typeof r.then)try{var i=sf(r)}catch(t){if(t===ih)throw id;throw t}else i=r;var s=(r=sd()).queue,a=s.dispatch;return n!==r.memoizedState&&(i2.flags|=2048,sU(9,{destroy:void 0},sV.bind(null,s,n),null)),[i,a,t]}function sV(t,r){t.action=r}function sz(t){var r=sd(),n=i5;if(null!==n)return sR(r,n,t);sd(),r=r.memoizedState;var i=(n=sd()).queue.dispatch;return n.memoizedState=t,[r,i,!1]}function sU(t,r,n,i){return t={tag:t,create:n,deps:i,inst:r,next:null},null===(r=i2.updateQueue)&&(r=sp(),i2.updateQueue=r),null===(n=r.lastEffect)?r.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,r.lastEffect=t),t}function sj(){return sd().memoizedState}function sG(t,r,n,i){var s=sc();i2.flags|=t,s.memoizedState=sU(1|r,{destroy:void 0},n,void 0===i?null:i)}function s$(t,r,n,i){var s=sd();i=void 0===i?null:i;var a=s.memoizedState.inst;null!==i5&&null!==i&&sn(i,i5.memoizedState.deps)?s.memoizedState=sU(r,a,n,i):(i2.flags|=t,s.memoizedState=sU(1|r,a,n,i))}function sH(t,r){sG(8390656,8,t,r)}function sW(t,r){s$(2048,8,t,r)}function sq(t){var r=sd().memoizedState,n={ref:r,nextImpl:t};i2.flags|=4;var i=i2.updateQueue;if(null===i)i=sp(),i2.updateQueue=i,i.events=[n];else{var s=i.events;null===s?i.events=[n]:s.push(n)}return function(){if(0!=(2&oj))throw Error(l(440));return r.impl.apply(void 0,arguments)}}function sY(t,r){return s$(4,2,t,r)}function sX(t,r){return s$(4,4,t,r)}function sK(t,r){if("function"==typeof r){var n=r(t=t());return function(){"function"==typeof n?n():r(null)}}if(null!=r)return r.current=t=t(),function(){r.current=null}}function sZ(t,r,n){n=null!=n?n.concat([t]):null,s$(4,4,sK.bind(null,r,t),n)}function sQ(){}function sJ(t,r){var n=sd();r=void 0===r?null:r;var i=n.memoizedState;return null!==r&&sn(r,i[1])?i[0]:(n.memoizedState=[t,r],t)}function s0(t,r){var n=sd();r=void 0===r?null:r;var i=n.memoizedState;if(null!==r&&sn(r,i[1]))return i[0];if(i=t(),i8){ey(!0);try{t()}finally{ey(!1)}}return n.memoizedState=[i,r],i}function s1(t,r,n){return void 0===n||0!=(0x40000000&i1)&&0==(261930&oH)?t.memoizedState=r:(t.memoizedState=n,t=ld(),i2.lanes|=t,oJ|=t,n)}function s2(t,r,n,i){return rM(n,r)?n:null!==iU.current?(rM(t=s1(t,n,i),r)||(aA=!0),t):0==(42&i1)||0!=(0x40000000&i1)&&0==(261930&oH)?(aA=!0,t.memoizedState=n):(t=ld(),i2.lanes|=t,oJ|=t,r)}function s5(t,r,n,i,s){var a=N.p;N.p=0!==a&&8>a?a:8;var o=L.T,l={};L.T=l,as(t,!1,r,n);try{var u=s(),h=L.S;if(null!==h&&h(l,u),null!==u&&"object"==typeof u&&"function"==typeof u.then){var c,d,p=(c=[],d={status:"pending",value:null,reason:null,then:function(t){c.push(t)}},u.then(function(){d.status="fulfilled",d.value=i;for(var t=0;t<c.length;t++)(0,c[t])(i)},function(t){for(d.status="rejected",d.reason=t,t=0;t<c.length;t++)(0,c[t])(void 0)}),d);ai(t,r,p,lc(t))}else ai(t,r,i,lc(t))}catch(n){ai(t,r,{then:function(){},status:"rejected",reason:n},lc())}finally{N.p=a,null!==o&&null!==l.types&&(o.types=l.types),L.T=o}}function s3(){}function s4(t,r,n,i){if(5!==t.tag)throw Error(l(476));var s=s6(t).queue;s5(t,s,r,O,null===n?s3:function(){return s8(t),n(i)})}function s6(t){var r=t.memoizedState;if(null!==r)return r;var n={};return(r={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sy,lastRenderedState:O},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sy,lastRenderedState:n},next:null},t.memoizedState=r,null!==(t=t.alternate)&&(t.memoizedState=r),r}function s8(t){var r=s6(t);null===r.next&&(r=t.alternate.memoizedState),ai(t,r.next.queue,{},lc())}function s9(){return n0(ha)}function s7(){return sd().memoizedState}function ae(){return sd().memoizedState}function at(t){for(var r=t.return;null!==r;){switch(r.tag){case 24:case 3:var n=lc(),i=iB(r,t=iI(n),n);null!==i&&(lp(i,r,n),iP(i,r,n)),r={cache:n8()},t.payload=r;return}r=r.return}}function ar(t,r,n){var i=lc();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},aa(t)?ao(r,n):null!==(n=ne(t,r,n,i))&&(lp(n,t,i),al(n,r,i))}function an(t,r,n){ai(t,r,n,lc())}function ai(t,r,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(aa(t))ao(r,s);else{var a=t.alternate;if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=r.lastRenderedReducer))try{var o=r.lastRenderedState,l=a(o,n);if(s.hasEagerState=!0,s.eagerState=l,rM(l,o))return r7(t,r,s,0),null===oG&&r9(),!1}catch(t){}finally{}if(null!==(n=ne(t,r,s,i)))return lp(n,t,i),al(n,r,i),!0}return!1}function as(t,r,n,i){if(i={lane:2,revertLane:l3(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},aa(t)){if(r)throw Error(l(479))}else null!==(r=ne(t,n,i,2))&&lp(r,t,2)}function aa(t){var r=t.alternate;return t===i2||null!==r&&r===i2}function ao(t,r){i6=i4=!0;var n=t.pending;null===n?r.next=r:(r.next=n.next,n.next=r),t.pending=r}function al(t,r,n){if(0!=(4194048&n)){var i=r.lanes;i&=t.pendingLanes,r.lanes=n|=i,eM(t,n)}}var au={readContext:n0,use:sm,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useLayoutEffect:sr,useInsertionEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useSyncExternalStore:sr,useId:sr,useHostTransitionStatus:sr,useFormState:sr,useActionState:sr,useOptimistic:sr,useMemoCache:sr,useCacheRefresh:sr};au.useEffectEvent=sr;var ah={readContext:n0,use:sm,useCallback:function(t,r){return sc().memoizedState=[t,void 0===r?null:r],t},useContext:n0,useEffect:sH,useImperativeHandle:function(t,r,n){n=null!=n?n.concat([t]):null,sG(4194308,4,sK.bind(null,r,t),n)},useLayoutEffect:function(t,r){return sG(4194308,4,t,r)},useInsertionEffect:function(t,r){sG(4,2,t,r)},useMemo:function(t,r){var n=sc();r=void 0===r?null:r;var i=t();if(i8){ey(!0);try{t()}finally{ey(!1)}}return n.memoizedState=[i,r],i},useReducer:function(t,r,n){var i=sc();if(void 0!==n){var s=n(r);if(i8){ey(!0);try{n(r)}finally{ey(!1)}}}else s=r;return i.memoizedState=i.baseState=s,i.queue=t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},t=t.dispatch=ar.bind(null,i2,t),[i.memoizedState,t]},useRef:function(t){return sc().memoizedState={current:t}},useState:function(t){var r=(t=sA(t)).queue,n=an.bind(null,i2,r);return r.dispatch=n,[t.memoizedState,n]},useDebugValue:sQ,useDeferredValue:function(t,r){return s1(sc(),t,r)},useTransition:function(){var t=sA(!1);return t=s5.bind(null,i2,t.queue,!0,!1),sc().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,n){var i=i2,s=sc();if(nB){if(void 0===n)throw Error(l(407));n=n()}else{if(n=r(),null===oG)throw Error(l(349));0!=(127&oH)||s_(i,r,n)}s.memoizedState=n;var a={value:n,getSnapshot:r};return s.queue=a,sH(sS.bind(null,i,a,t),[t]),i.flags|=2048,sU(9,{destroy:void 0},sC.bind(null,i,a,n,r),null),n},useId:function(){var t=sc(),r=oG.identifierPrefix;if(nB){var n=nE,i=nS;r="_"+r+"R_"+(n=(i&~(1<<32-ev(i)-1)).toString(32)+n),0<(n=i9++)&&(r+="H"+n.toString(32)),r+="_"}else r="_"+r+"r_"+(n=st++).toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:s9,useFormState:sN,useActionState:sN,useOptimistic:function(t){var r=sc();r.memoizedState=r.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=n,r=as.bind(null,i2,!0,n),n.dispatch=r,[t,r]},useMemoCache:sg,useCacheRefresh:function(){return sc().memoizedState=at.bind(null,i2)},useEffectEvent:function(t){var r=sc(),n={impl:t};return r.memoizedState=n,function(){if(0!=(2&oj))throw Error(l(440));return n.impl.apply(void 0,arguments)}}},ac={readContext:n0,use:sm,useCallback:sJ,useContext:n0,useEffect:sW,useImperativeHandle:sZ,useInsertionEffect:sY,useLayoutEffect:sX,useMemo:s0,useReducer:sv,useRef:sj,useState:function(){return sv(sy)},useDebugValue:sQ,useDeferredValue:function(t,r){return s2(sd(),i5.memoizedState,t,r)},useTransition:function(){var t=sv(sy)[0],r=sd().memoizedState;return["boolean"==typeof t?t:sf(t),r]},useSyncExternalStore:sw,useId:s7,useHostTransitionStatus:s9,useFormState:sO,useActionState:sO,useOptimistic:function(t,r){return sk(sd(),i5,t,r)},useMemoCache:sg,useCacheRefresh:ae};ac.useEffectEvent=sq;var ad={readContext:n0,use:sm,useCallback:sJ,useContext:n0,useEffect:sW,useImperativeHandle:sZ,useInsertionEffect:sY,useLayoutEffect:sX,useMemo:s0,useReducer:sb,useRef:sj,useState:function(){return sb(sy)},useDebugValue:sQ,useDeferredValue:function(t,r){var n=sd();return null===i5?s1(n,t,r):s2(n,i5.memoizedState,t,r)},useTransition:function(){var t=sb(sy)[0],r=sd().memoizedState;return["boolean"==typeof t?t:sf(t),r]},useSyncExternalStore:sw,useId:s7,useHostTransitionStatus:s9,useFormState:sz,useActionState:sz,useOptimistic:function(t,r){var n=sd();return null!==i5?sk(n,i5,t,r):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:sg,useCacheRefresh:ae};function ap(t,r,n,i){n=null==(n=n(i,r=t.memoizedState))?r:m({},r,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}ad.useEffectEvent=sq;var af={enqueueSetState:function(t,r,n){t=t._reactInternals;var i=lc(),s=iI(i);s.payload=r,null!=n&&(s.callback=n),null!==(r=iB(t,s,i))&&(lp(r,t,i),iP(r,t,i))},enqueueReplaceState:function(t,r,n){t=t._reactInternals;var i=lc(),s=iI(i);s.tag=1,s.payload=r,null!=n&&(s.callback=n),null!==(r=iB(t,s,i))&&(lp(r,t,i),iP(r,t,i))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var n=lc(),i=iI(n);i.tag=2,null!=r&&(i.callback=r),null!==(r=iB(t,i,n))&&(lp(r,t,n),iP(r,t,n))}};function am(t,r,n,i,s,a,o){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,a,o):!r.prototype||!r.prototype.isPureReactComponent||!rI(n,i)||!rI(s,a)}function ag(t,r,n,i){t=r.state,"function"==typeof r.componentWillReceiveProps&&r.componentWillReceiveProps(n,i),"function"==typeof r.UNSAFE_componentWillReceiveProps&&r.UNSAFE_componentWillReceiveProps(n,i),r.state!==t&&af.enqueueReplaceState(r,r.state,null)}function ay(t,r){var n=r;if("ref"in r)for(var i in n={},r)"ref"!==i&&(n[i]=r[i]);if(t=t.defaultProps)for(var s in n===r&&(n=m({},n)),t)void 0===n[s]&&(n[s]=t[s]);return n}function av(t){r3(t)}function ax(t){console.error(t)}function ab(t){r3(t)}function aw(t,r){try{(0,t.onUncaughtError)(r.value,{componentStack:r.stack})}catch(t){setTimeout(function(){throw t})}}function a_(t,r,n){try{(0,t.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===r.tag?r.stateNode:null})}catch(t){setTimeout(function(){throw t})}}function aC(t,r,n){return(n=iI(n)).tag=3,n.payload={element:null},n.callback=function(){aw(t,r)},n}function aS(t){return(t=iI(t)).tag=3,t}function aE(t,r,n,i){var s=n.type.getDerivedStateFromError;if("function"==typeof s){var a=i.value;t.payload=function(){return s(a)},t.callback=function(){a_(r,n,i)}}var o=n.stateNode;null!==o&&"function"==typeof o.componentDidCatch&&(t.callback=function(){a_(r,n,i),"function"!=typeof s&&(null===lt?lt=new Set([this]):lt.add(this));var t=i.stack;this.componentDidCatch(i.value,{componentStack:null!==t?t:""})})}var aD=Error(l(461)),aA=!1;function ak(t,r,n,i){r.child=null===t?ik(r,null,n,i):iA(r,t.child,n,i)}function aT(t,r,n,i,s){n=n.render;var a=r.ref;if("ref"in i){var o={};for(var l in i)"ref"!==l&&(o[l]=i[l])}else o=i;return(nJ(r),i=si(t,r,n,o,a,s),l=sl(),null===t||aA)?(nB&&l&&nk(r),r.flags|=1,ak(t,r,i,s),r.child):(su(t,r,s),aQ(t,r,s))}function aF(t,r,n,i,s){if(null===t){var a=n.type;return"function"!=typeof a||no(a)||void 0!==a.defaultProps||null!==n.compare?((t=nh(n.type,null,i,r,r.mode,s)).ref=r.ref,t.return=r,r.child=t):(r.tag=15,r.type=a,aM(t,r,a,i,s))}if(a=t.child,!aJ(t,s)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:rI)(o,i)&&t.ref===r.ref)return aQ(t,r,s)}return r.flags|=1,(t=nl(a,i)).ref=r.ref,t.return=r,r.child=t}function aM(t,r,n,i,s){if(null!==t){var a=t.memoizedProps;if(rI(a,i)&&t.ref===r.ref)if(aA=!1,r.pendingProps=i=a,!aJ(t,s))return r.lanes=t.lanes,aQ(t,r,s);else 0!=(131072&t.flags)&&(aA=!0)}return aR(t,r,n,i,s)}function aI(t,r,n,i){var s=i.children,a=null!==t?t.memoizedState:null;if(null===t&&null===r.stateNode&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===i.mode){if(0!=(128&r.flags)){if(a=null!==a?a.baseLanes|n:n,null!==t){for(s=0,i=r.child=t.child;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~a}else i=0,r.child=null;return aP(t,r,a,n,i)}if(0==(0x20000000&n))return i=r.lanes=0x20000000,aP(t,r,null!==a?a.baseLanes|n:n,n,i);r.memoizedState={baseLanes:0,cachePool:null},null!==t&&il(r,null!==a?a.cachePool:null),null!==a?iG(r,a):i$(),iK(r)}else null!==a?(il(r,a.cachePool),iG(r,a),iZ(r),r.memoizedState=null):(null!==t&&il(r,null),i$(),iZ(r));return ak(t,r,s,n),r.child}function aB(t,r){return null!==t&&22===t.tag||null!==r.stateNode||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function aP(t,r,n,i,s){var a=io();return r.memoizedState={baseLanes:n,cachePool:a=null===a?null:{parent:n6._currentValue,pool:a}},null!==t&&il(r,null),i$(),iK(r),null!==t&&nZ(t,r,i,!0),r.childLanes=s,null}function aL(t,r){return(r=aq({mode:r.mode,children:r.children},t.mode)).ref=t.ref,t.child=r,r.return=t,r}function aN(t,r,n){return iA(r,t.child,null,n),t=aL(r,r.pendingProps),t.flags|=2,iQ(r),r.memoizedState=null,t}function aO(t,r){var n=r.ref;if(null===n)null!==t&&null!==t.ref&&(r.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(l(284));(null===t||t.ref!==n)&&(r.flags|=4194816)}}function aR(t,r,n,i,s){return(nJ(r),n=si(t,r,n,i,void 0,s),i=sl(),null===t||aA)?(nB&&i&&nk(r),r.flags|=1,ak(t,r,n,s),r.child):(su(t,r,s),aQ(t,r,s))}function aV(t,r,n,i,s,a){return(nJ(r),r.updateQueue=null,n=sa(r,i,n,s),ss(t),i=sl(),null===t||aA)?(nB&&i&&nk(r),r.flags|=1,ak(t,r,n,a),r.child):(su(t,r,a),aQ(t,r,a))}function az(t,r,n,i,s){if(nJ(r),null===r.stateNode){var a=ni,o=n.contextType;"object"==typeof o&&null!==o&&(a=n0(o)),r.memoizedState=null!==(a=new n(i,a)).state&&void 0!==a.state?a.state:null,a.updater=af,r.stateNode=a,a._reactInternals=r,(a=r.stateNode).props=i,a.state=r.memoizedState,a.refs={},iF(r),o=n.contextType,a.context="object"==typeof o&&null!==o?n0(o):ni,a.state=r.memoizedState,"function"==typeof(o=n.getDerivedStateFromProps)&&(ap(r,n,o,i),a.state=r.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(o=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&af.enqueueReplaceState(a,a.state,null),iR(r,i,a,s),iO(),a.state=r.memoizedState),"function"==typeof a.componentDidMount&&(r.flags|=4194308),i=!0}else if(null===t){a=r.stateNode;var l=r.memoizedProps,u=ay(n,l);a.props=u;var h=a.context,c=n.contextType;o=ni,"object"==typeof c&&null!==c&&(o=n0(c));var d=n.getDerivedStateFromProps;c="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate,l=r.pendingProps!==l,c||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l||h!==o)&&ag(r,a,i,o),iT=!1;var p=r.memoizedState;a.state=p,iR(r,i,a,s),iO(),h=r.memoizedState,l||p!==h||iT?("function"==typeof d&&(ap(r,n,d,i),h=r.memoizedState),(u=iT||am(r,n,u,i,p,h,o))?(c||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(r.flags|=4194308)):("function"==typeof a.componentDidMount&&(r.flags|=4194308),r.memoizedProps=i,r.memoizedState=h),a.props=i,a.state=h,a.context=o,i=u):("function"==typeof a.componentDidMount&&(r.flags|=4194308),i=!1)}else{a=r.stateNode,iM(t,r),c=ay(n,o=r.memoizedProps),a.props=c,d=r.pendingProps,p=a.context,h=n.contextType,u=ni,"object"==typeof h&&null!==h&&(u=n0(h)),(h="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==d||p!==u)&&ag(r,a,i,u),iT=!1,p=r.memoizedState,a.state=p,iR(r,i,a,s),iO();var f=r.memoizedState;o!==d||p!==f||iT||null!==t&&null!==t.dependencies&&nQ(t.dependencies)?("function"==typeof l&&(ap(r,n,l,i),f=r.memoizedState),(c=iT||am(r,n,c,i,p,f,u)||null!==t&&null!==t.dependencies&&nQ(t.dependencies))?(h||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(i,f,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,f,u)),"function"==typeof a.componentDidUpdate&&(r.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(r.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===t.memoizedProps&&p===t.memoizedState||(r.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===t.memoizedProps&&p===t.memoizedState||(r.flags|=1024),r.memoizedProps=i,r.memoizedState=f),a.props=i,a.state=f,a.context=u,i=c):("function"!=typeof a.componentDidUpdate||o===t.memoizedProps&&p===t.memoizedState||(r.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===t.memoizedProps&&p===t.memoizedState||(r.flags|=1024),i=!1)}return a=i,aO(t,r),i=0!=(128&r.flags),a||i?(a=r.stateNode,n=i&&"function"!=typeof n.getDerivedStateFromError?null:a.render(),r.flags|=1,null!==t&&i?(r.child=iA(r,t.child,null,s),r.child=iA(r,null,n,s)):ak(t,r,n,s),r.memoizedState=a.state,t=r.child):t=aQ(t,r,s),t}function aU(t,r,n,i){return nU(),r.flags|=256,ak(t,r,n,i),r.child}var aj={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function aG(t){return{baseLanes:t,cachePool:iu()}}function a$(t,r,n){return t=null!==t?t.childLanes&~n:0,r&&(t|=o2),t}function aH(t,r,n){var i,s=r.pendingProps,a=!1,o=0!=(128&r.flags);if((i=o)||(i=(null===t||null!==t.memoizedState)&&0!=(2&iJ.current)),i&&(a=!0,r.flags&=-129),i=0!=(32&r.flags),r.flags&=-33,null===t){if(nB){if(a?iY(r):iZ(r),(t=nI)?null!==(t=null!==(t=uN(t,nL))&&"&"!==t.data?t:null)&&(r.memoizedState={dehydrated:t,treeContext:null!==nC?{id:nS,overflow:nE}:null,retryLane:0x20000000,hydrationErrors:null},(n=np(t)).return=r,r.child=n,nM=r,nI=null):t=null,null===t)throw nO(r);return uR(t)?r.lanes=32:r.lanes=0x20000000,null}var u=s.children;return(s=s.fallback,a)?(iZ(r),u=aq({mode:"hidden",children:u},a=r.mode),s=nc(s,a,n,null),u.return=r,s.return=r,u.sibling=s,r.child=u,(s=r.child).memoizedState=aG(n),s.childLanes=a$(t,i,n),r.memoizedState=aj,aB(null,s)):(iY(r),aW(r,u))}var h=t.memoizedState;if(null!==h&&null!==(u=h.dehydrated)){if(o)256&r.flags?(iY(r),r.flags&=-257,r=aY(t,r,n)):null!==r.memoizedState?(iZ(r),r.child=t.child,r.flags|=128,r=null):(iZ(r),u=s.fallback,a=r.mode,s=aq({mode:"visible",children:s.children},a),u=nc(u,a,n,null),u.flags|=2,s.return=r,u.return=r,s.sibling=u,r.child=s,iA(r,t.child,null,n),(s=r.child).memoizedState=aG(n),s.childLanes=a$(t,i,n),r.memoizedState=aj,r=aB(null,s));else if(iY(r),uR(u)){if(i=u.nextSibling&&u.nextSibling.dataset)var c=i.dgst;i=c,(s=Error(l(419))).stack="",s.digest=i,nG({value:s,source:null,stack:null}),r=aY(t,r,n)}else if(aA||nZ(t,r,n,!1),i=0!=(n&t.childLanes),aA||i){if(null!==(i=oG)&&0!==(s=eI(i,n))&&s!==h.retryLane)throw h.retryLane=s,nt(t,s),lp(i,t,s),aD;uO(u)||lS(),r=aY(t,r,n)}else uO(u)?(r.flags|=192,r.child=t.child,r=null):(t=h.treeContext,nI=uV(u.nextSibling),nM=r,nB=!0,nP=null,nL=!1,null!==t&&nF(r,t),r=aW(r,s.children),r.flags|=4096);return r}return a?(iZ(r),u=s.fallback,a=r.mode,c=(h=t.child).sibling,(s=nl(h,{mode:"hidden",children:s.children})).subtreeFlags=0x3e00000&h.subtreeFlags,null!==c?u=nl(c,u):(u=nc(u,a,n,null),u.flags|=2),u.return=r,s.return=r,s.sibling=u,r.child=s,aB(null,s),s=r.child,null===(u=t.child.memoizedState)?u=aG(n):(null!==(a=u.cachePool)?(h=n6._currentValue,a=a.parent!==h?{parent:h,pool:h}:a):a=iu(),u={baseLanes:u.baseLanes|n,cachePool:a}),s.memoizedState=u,s.childLanes=a$(t,i,n),r.memoizedState=aj,aB(t.child,s)):(iY(r),t=(n=t.child).sibling,(n=nl(n,{mode:"visible",children:s.children})).return=r,n.sibling=null,null!==t&&(null===(i=r.deletions)?(r.deletions=[t],r.flags|=16):i.push(t)),r.child=n,r.memoizedState=null,n)}function aW(t,r){return(r=aq({mode:"visible",children:r},t.mode)).return=t,t.child=r}function aq(t,r){return(t=na(22,t,null,r)).lanes=0,t}function aY(t,r,n){return iA(r,t.child,null,n),t=aW(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function aX(t,r,n){t.lanes|=r;var i=t.alternate;null!==i&&(i.lanes|=r),nX(t.return,r,n)}function aK(t,r,n,i,s,a){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:a}:(o.isBackwards=r,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=s,o.treeForkCount=a)}function aZ(t,r,n){var i=r.pendingProps,s=i.revealOrder,a=i.tail;i=i.children;var o=iJ.current,l=0!=(2&o);if(l?(o=1&o|2,r.flags|=128):o&=1,j(iJ,o),ak(t,r,i,n),i=nB?nb:0,!l&&null!==t&&0!=(128&t.flags))e:for(t=r.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&aX(t,n,r);else if(19===t.tag)aX(t,n,r);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===r)break;for(;null===t.sibling;){if(null===t.return||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(s){case"forwards":for(s=null,n=r.child;null!==n;)null!==(t=n.alternate)&&null===i0(t)&&(s=n),n=n.sibling;null===(n=s)?(s=r.child,r.child=null):(s=n.sibling,n.sibling=null),aK(r,!1,s,n,a,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=r.child,r.child=null;null!==s;){if(null!==(t=s.alternate)&&null===i0(t)){r.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}aK(r,!0,n,null,a,i);break;case"together":aK(r,!1,null,null,void 0,i);break;default:r.memoizedState=null}return r.child}function aQ(t,r,n){if(null!==t&&(r.dependencies=t.dependencies),oJ|=r.lanes,0==(n&r.childLanes)){if(null===t)return null;else if(nZ(t,r,n,!1),0==(n&r.childLanes))return null}if(null!==t&&r.child!==t.child)throw Error(l(153));if(null!==r.child){for(n=nl(t=r.child,t.pendingProps),r.child=n,n.return=r;null!==t.sibling;)t=t.sibling,(n=n.sibling=nl(t,t.pendingProps)).return=r;n.sibling=null}return r.child}function aJ(t,r){return 0!=(t.lanes&r)||!!(null!==(t=t.dependencies)&&nQ(t))}function a0(t,r,n){if(null!==t)if(t.memoizedProps!==r.pendingProps)aA=!0;else{if(!aJ(t,n)&&0==(128&r.flags))return aA=!1,function(t,r,n){switch(r.tag){case 3:q(r,r.stateNode.containerInfo),nq(r,n6,t.memoizedState.cache),nU();break;case 27:case 5:X(r);break;case 4:q(r,r.stateNode.containerInfo);break;case 10:nq(r,r.type,r.memoizedProps.value);break;case 31:if(null!==r.memoizedState)return r.flags|=128,iX(r),null;break;case 13:var i=r.memoizedState;if(null!==i){if(null!==i.dehydrated)return iY(r),r.flags|=128,null;if(0!=(n&r.child.childLanes))return aH(t,r,n);return iY(r),null!==(t=aQ(t,r,n))?t.sibling:null}iY(r);break;case 19:var s=0!=(128&t.flags);if((i=0!=(n&r.childLanes))||(nZ(t,r,n,!1),i=0!=(n&r.childLanes)),s){if(i)return aZ(t,r,n);r.flags|=128}if(null!==(s=r.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),j(iJ,iJ.current),!i)return null;break;case 22:return r.lanes=0,aI(t,r,n,r.pendingProps);case 24:nq(r,n6,t.memoizedState.cache)}return aQ(t,r,n)}(t,r,n);aA=0!=(131072&t.flags)}else aA=!1,nB&&0!=(1048576&r.flags)&&nA(r,nb,r.index);switch(r.lanes=0,r.tag){case 16:e:{var i=r.pendingProps;if(t=iy(r.elementType),r.type=t,"function"==typeof t)no(t)?(i=ay(t,i),r.tag=1,r=az(null,r,t,i,n)):(r.tag=0,r=aR(null,r,t,i,n));else{if(null!=t){var s=t.$$typeof;if(s===S){r.tag=11,r=aT(null,r,t,i,n);break e}if(s===A){r.tag=14,r=aF(null,r,t,i,n);break e}}throw Error(l(306,r=function t(r){if(null==r)return null;if("function"==typeof r)return r.$$typeof===B?null:r.displayName||r.name||null;if("string"==typeof r)return r;switch(r){case x:return"Fragment";case w:return"Profiler";case b:return"StrictMode";case E:return"Suspense";case D:return"SuspenseList";case T:return"Activity"}if("object"==typeof r)switch(r.$$typeof){case v:return"Portal";case C:return r.displayName||"Context";case _:return(r._context.displayName||"Context")+".Consumer";case S:var n=r.render;return(r=r.displayName)||(r=""!==(r=n.displayName||n.name||"")?"ForwardRef("+r+")":"ForwardRef"),r;case A:return null!==(n=r.displayName||null)?n:t(r.type)||"Memo";case k:n=r._payload,r=r._init;try{return t(r(n))}catch(t){}}return null}(t)||t,""))}}return r;case 0:return aR(t,r,r.type,r.pendingProps,n);case 1:return s=ay(i=r.type,r.pendingProps),az(t,r,i,s,n);case 3:e:{if(q(r,r.stateNode.containerInfo),null===t)throw Error(l(387));i=r.pendingProps;var a=r.memoizedState;s=a.element,iM(t,r),iR(r,i,null,n);var o=r.memoizedState;if(nq(r,n6,i=o.cache),i!==a.cache&&nK(r,[n6],n,!0),iO(),i=o.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:o.cache},r.updateQueue.baseState=a,r.memoizedState=a,256&r.flags){r=aU(t,r,i,n);break e}else if(i!==s){nG(s=ng(Error(l(424)),r)),r=aU(t,r,i,n);break e}else for(nI=uV((t=9===(t=r.stateNode.containerInfo).nodeType?t.body:"HTML"===t.nodeName?t.ownerDocument.body:t).firstChild),nM=r,nB=!0,nP=null,nL=!0,n=ik(r,null,i,n),r.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling;else{if(nU(),i===s){r=aQ(t,r,n);break e}ak(t,r,i,n)}r=r.child}return r;case 26:return aO(t,r),null===t?(n=uZ(r.type,null,r.pendingProps,null))?r.memoizedState=n:nB||(n=r.type,t=r.pendingProps,(i=u_(H.current).createElement(n))[eR]=r,i[eV]=t,uv(i,n,t),eZ(i),r.stateNode=i):r.memoizedState=uZ(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return X(r),null===t&&nB&&(i=r.stateNode=uG(r.type,r.pendingProps,H.current),nM=r,nL=!0,s=nI,uI(r.type)?(uz=s,nI=uV(i.firstChild)):nI=s),ak(t,r,r.pendingProps.children,n),aO(t,r),null===t&&(r.flags|=4194304),r.child;case 5:return null===t&&nB&&((s=i=nI)&&(null!==(i=function(t,r,n,i){for(;1===t.nodeType;){if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!i&&("INPUT"!==t.nodeName||"hidden"!==t.type))break}else if(i){if(!t[eH])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if("stylesheet"===(s=t.getAttribute("rel"))&&t.hasAttribute("data-precedence")||s!==n.rel||t.getAttribute("href")!==(null==n.href||""===n.href?null:n.href)||t.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin)||t.getAttribute("title")!==(null==n.title?null:n.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(((s=t.getAttribute("src"))!==(null==n.src?null:n.src)||t.getAttribute("type")!==(null==n.type?null:n.type)||t.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else{if("input"!==r||"hidden"!==t.type)return t;var s=null==n.name?null:""+n.name;if("hidden"===n.type&&t.getAttribute("name")===s)return t}if(null===(t=uV(t.nextSibling)))break}return null}(i,r.type,r.pendingProps,nL))?(r.stateNode=i,nM=r,nI=uV(i.firstChild),nL=!1,s=!0):s=!1),s||nO(r)),X(r),s=r.type,a=r.pendingProps,o=null!==t?t.memoizedProps:null,i=a.children,uE(s,a)?i=null:null!==o&&uE(s,o)&&(r.flags|=32),null!==r.memoizedState&&(ha._currentValue=s=si(t,r,so,null,null,n)),aO(t,r),ak(t,r,i,n),r.child;case 6:return null===t&&nB&&((t=n=nI)&&(null!==(n=function(t,r,n){if(""===r)return null;for(;3!==t.nodeType;)if((1!==t.nodeType||"INPUT"!==t.nodeName||"hidden"!==t.type)&&!n||null===(t=uV(t.nextSibling)))return null;return t}(n,r.pendingProps,nL))?(r.stateNode=n,nM=r,nI=null,t=!0):t=!1),t||nO(r)),null;case 13:return aH(t,r,n);case 4:return q(r,r.stateNode.containerInfo),i=r.pendingProps,null===t?r.child=iA(r,null,i,n):ak(t,r,i,n),r.child;case 11:return aT(t,r,r.type,r.pendingProps,n);case 7:return ak(t,r,r.pendingProps,n),r.child;case 8:case 12:return ak(t,r,r.pendingProps.children,n),r.child;case 10:return i=r.pendingProps,nq(r,r.type,i.value),ak(t,r,i.children,n),r.child;case 9:return s=r.type._context,i=r.pendingProps.children,nJ(r),i=i(s=n0(s)),r.flags|=1,ak(t,r,i,n),r.child;case 14:return aF(t,r,r.type,r.pendingProps,n);case 15:return aM(t,r,r.type,r.pendingProps,n);case 19:return aZ(t,r,n);case 31:var u=t,h=r,c=n,d=h.pendingProps,p=0!=(128&h.flags);if(h.flags&=-129,null===u){if(nB){if("hidden"===d.mode)return u=aL(h,d),h.lanes=0x20000000,aB(null,u);if(iX(h),(u=nI)?null!==(u=null!==(u=uN(u,nL))&&"&"===u.data?u:null)&&(h.memoizedState={dehydrated:u,treeContext:null!==nC?{id:nS,overflow:nE}:null,retryLane:0x20000000,hydrationErrors:null},(c=np(u)).return=h,h.child=c,nM=h,nI=null):u=null,null===u)throw nO(h);return h.lanes=0x20000000,null}return aL(h,d)}var f=u.memoizedState;if(null!==f){var m=f.dehydrated;if(iX(h),p)if(256&h.flags)h.flags&=-257,h=aN(u,h,c);else if(null!==h.memoizedState)h.child=u.child,h.flags|=128,h=null;else throw Error(l(558));else if(aA||nZ(u,h,c,!1),p=0!=(c&u.childLanes),aA||p){if(null!==(d=oG)&&0!==(m=eI(d,c))&&m!==f.retryLane)throw f.retryLane=m,nt(u,m),lp(d,u,m),aD;lS(),h=aN(u,h,c)}else u=f.treeContext,nI=uV(m.nextSibling),nM=h,nB=!0,nP=null,nL=!1,null!==u&&nF(h,u),h=aL(h,d),h.flags|=4096;return h}return(u=nl(u.child,{mode:d.mode,children:d.children})).ref=h.ref,h.child=u,u.return=h,u;case 22:return aI(t,r,n,r.pendingProps);case 24:return nJ(r),i=n0(n6),null===t?(null===(s=io())&&(s=oG,a=n8(),s.pooledCache=a,a.refCount++,null!==a&&(s.pooledCacheLanes|=n),s=a),r.memoizedState={parent:i,cache:s},iF(r),nq(r,n6,s)):(0!=(t.lanes&n)&&(iM(t,r),iR(r,null,null,n),iO()),s=t.memoizedState,a=r.memoizedState,s.parent!==i?(s={parent:i,cache:i},r.memoizedState=s,0===r.lanes&&(r.memoizedState=r.updateQueue.baseState=s),nq(r,n6,i)):(nq(r,n6,i=a.cache),i!==s.cache&&nK(r,[n6],n,!0))),ak(t,r,r.pendingProps.children,n),r.child;case 29:throw r.pendingProps}throw Error(l(156,r.tag))}function a1(t){t.flags|=4}function a2(t,r,n,i,s){if((r=0!=(32&t.mode))&&(r=!1),r){if(t.flags|=0x1000000,(0x13ffff40&s)===s)if(t.stateNode.complete)t.flags|=8192;else if(lw())t.flags|=8192;else throw iv=ip,ic}else t.flags&=-0x1000001}function a5(t,r){if("stylesheet"!==r.type||0!=(4&r.state.loading))t.flags&=-0x1000001;else if(t.flags|=0x1000000,!he(r))if(lw())t.flags|=8192;else throw iv=ip,ic}function a3(t,r){null!==r&&(t.flags|=4),16384&t.flags&&(r=22!==t.tag?eA():0x20000000,t.lanes|=r,o5|=r)}function a4(t,r){if(!nB)switch(t.tailMode){case"hidden":r=t.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?r||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function a6(t){var r=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(r)for(var s=t.child;null!==s;)n|=s.lanes|s.childLanes,i|=0x3e00000&s.subtreeFlags,i|=0x3e00000&s.flags,s.return=t,s=s.sibling;else for(s=t.child;null!==s;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,r}function a8(t,r){switch(nT(r),r.tag){case 3:nY(n6),Y();break;case 26:case 27:case 5:K(r);break;case 4:Y();break;case 31:null!==r.memoizedState&&iQ(r);break;case 13:iQ(r);break;case 19:U(iJ);break;case 10:nY(r.type);break;case 22:case 23:iQ(r),iH(),null!==t&&U(ia);break;case 24:nY(n6)}}function a9(t,r){try{var n=r.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var s=i.next;n=s;do{if((n.tag&t)===t){i=void 0;var a=n.create;n.inst.destroy=i=a()}n=n.next}while(n!==s)}}catch(t){lV(r,r.return,t)}}function a7(t,r,n){try{var i=r.updateQueue,s=null!==i?i.lastEffect:null;if(null!==s){var a=s.next;i=a;do{if((i.tag&t)===t){var o=i.inst,l=o.destroy;if(void 0!==l){o.destroy=void 0,s=r;try{l()}catch(t){lV(s,n,t)}}}i=i.next}while(i!==a)}}catch(t){lV(r,r.return,t)}}function oe(t){var r=t.updateQueue;if(null!==r){var n=t.stateNode;try{iz(r,n)}catch(r){lV(t,t.return,r)}}}function ot(t,r,n){n.props=ay(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(n){lV(t,r,n)}}function or(t,r){try{var n=t.ref;if(null!==n){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;default:i=t.stateNode}"function"==typeof n?t.refCleanup=n(i):n.current=i}}catch(n){lV(t,r,n)}}function on(t,r){var n=t.ref,i=t.refCleanup;if(null!==n)if("function"==typeof i)try{i()}catch(n){lV(t,r,n)}finally{t.refCleanup=null,null!=(t=t.alternate)&&(t.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){lV(t,r,n)}else n.current=null}function oi(t){var r=t.type,n=t.memoizedProps,i=t.stateNode;try{switch(r){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){lV(t,t.return,r)}}function os(t,r,n){try{var i=t.stateNode;(function(t,r,n,i){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,o=null,u=null,h=null,c=null,d=null;for(m in n){var p=n[m];if(n.hasOwnProperty(m)&&null!=p)switch(m){case"checked":case"value":break;case"defaultValue":h=p;default:i.hasOwnProperty(m)||ug(t,r,m,null,i,p)}}for(var f in i){var m=i[f];if(p=n[f],i.hasOwnProperty(f)&&(null!=m||null!=p))switch(f){case"type":a=m;break;case"name":s=m;break;case"checked":c=m;break;case"defaultChecked":d=m;break;case"value":o=m;break;case"defaultValue":u=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(l(137,r));break;default:m!==p&&ug(t,r,f,m,i,p)}}ts(t,o,u,h,c,d,a,s);return;case"select":for(a in m=o=u=f=null,n)if(h=n[a],n.hasOwnProperty(a)&&null!=h)switch(a){case"value":break;case"multiple":m=h;default:i.hasOwnProperty(a)||ug(t,r,a,null,i,h)}for(s in i)if(a=i[s],h=n[s],i.hasOwnProperty(s)&&(null!=a||null!=h))switch(s){case"value":f=a;break;case"defaultValue":u=a;break;case"multiple":o=a;default:a!==h&&ug(t,r,s,a,i,h)}r=u,n=o,i=m,null!=f?tl(t,!!n,f,!1):!!i!=!!n&&(null!=r?tl(t,!!n,r,!0):tl(t,!!n,n?[]:"",!1));return;case"textarea":for(u in m=f=null,n)if(s=n[u],n.hasOwnProperty(u)&&null!=s&&!i.hasOwnProperty(u))switch(u){case"value":case"children":break;default:ug(t,r,u,null,i,s)}for(o in i)if(s=i[o],a=n[o],i.hasOwnProperty(o)&&(null!=s||null!=a))switch(o){case"value":f=s;break;case"defaultValue":m=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(l(91));break;default:s!==a&&ug(t,r,o,s,i,a)}tu(t,f,m);return;case"option":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!i.hasOwnProperty(g)&&("selected"===g?t.selected=!1:ug(t,r,g,null,i,f));for(h in i)f=i[h],m=n[h],i.hasOwnProperty(h)&&f!==m&&(null!=f||null!=m)&&("selected"===h?t.selected=f&&"function"!=typeof f&&"symbol"!=typeof f:ug(t,r,h,f,i,m));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!i.hasOwnProperty(y)&&ug(t,r,y,null,i,f);for(c in i)if(f=i[c],m=n[c],i.hasOwnProperty(c)&&f!==m&&(null!=f||null!=m))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(l(137,r));break;default:ug(t,r,c,f,i,m)}return;default:if(tm(r)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!i.hasOwnProperty(v)&&uy(t,r,v,void 0,i,f);for(d in i)f=i[d],m=n[d],i.hasOwnProperty(d)&&f!==m&&(void 0!==f||void 0!==m)&&uy(t,r,d,f,i,m);return}}for(var x in n)f=n[x],n.hasOwnProperty(x)&&null!=f&&!i.hasOwnProperty(x)&&ug(t,r,x,null,i,f);for(p in i)f=i[p],m=n[p],i.hasOwnProperty(p)&&f!==m&&(null!=f||null!=m)&&ug(t,r,p,f,i,m)})(i,t.type,n,r),i[eV]=r}catch(r){lV(t,t.return,r)}}function oa(t){return 5===t.tag||3===t.tag||26===t.tag||27===t.tag&&uI(t.type)||4===t.tag}function oo(t){e:for(;;){for(;null===t.sibling;){if(null===t.return||oa(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(27===t.tag&&uI(t.type)||2&t.flags||null===t.child||4===t.tag)continue e;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ol(t,r,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,r?n.insertBefore(t,r):n.appendChild(t);else if(4!==i&&(27===i&&uI(t.type)&&(n=t.stateNode),null!==(t=t.child)))for(ol(t,r,n),t=t.sibling;null!==t;)ol(t,r,n),t=t.sibling}function ou(t){var r=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,s=r.attributes;s.length;)r.removeAttributeNode(s[0]);uv(r,i,n),r[eR]=t,r[eV]=n}catch(r){lV(t,t.return,r)}}var oh=!1,oc=!1,od=!1,op="function"==typeof WeakSet?WeakSet:Set,of=null;function om(t,r,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:oA(t,n),4&i&&a9(5,n);break;case 1:if(oA(t,n),4&i)if(t=n.stateNode,null===r)try{t.componentDidMount()}catch(t){lV(n,n.return,t)}else{var s=ay(n.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(s,r,t.__reactInternalSnapshotBeforeUpdate)}catch(t){lV(n,n.return,t)}}64&i&&oe(n),512&i&&or(n,n.return);break;case 3:if(oA(t,n),64&i&&null!==(t=n.updateQueue)){if(r=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:r=n.child.stateNode}try{iz(t,r)}catch(t){lV(n,n.return,t)}}break;case 27:null===r&&4&i&&ou(n);case 26:case 5:oA(t,n),null===r&&4&i&&oi(n),512&i&&or(n,n.return);break;case 12:default:oA(t,n);break;case 31:oA(t,n),4&i&&ob(t,n);break;case 13:oA(t,n),4&i&&ow(t,n),64&i&&null!==(t=n.memoizedState)&&null!==(t=t.dehydrated)&&function(t,r){var n=t.ownerDocument;if("$~"===t.data)t._reactRetry=r;else if("$?"!==t.data||"loading"!==n.readyState)r();else{var i=function(){r(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}(t,n=lG.bind(null,n));break;case 22:if(!(i=null!==n.memoizedState||oh)){r=null!==r&&null!==r.memoizedState||oc,s=oh;var a=oc;oh=i,(oc=r)&&!a?function t(r,n,i){for(i=i&&0!=(8772&n.subtreeFlags),n=n.child;null!==n;){var s=n.alternate,a=r,o=n,l=o.flags;switch(o.tag){case 0:case 11:case 15:t(a,o,i),a9(4,o);break;case 1:if(t(a,o,i),"function"==typeof(a=(s=o).stateNode).componentDidMount)try{a.componentDidMount()}catch(t){lV(s,s.return,t)}if(null!==(a=(s=o).updateQueue)){var u=s.stateNode;try{var h=a.shared.hiddenCallbacks;if(null!==h)for(a.shared.hiddenCallbacks=null,a=0;a<h.length;a++)iV(h[a],u)}catch(t){lV(s,s.return,t)}}i&&64&l&&oe(o),or(o,o.return);break;case 27:ou(o);case 26:case 5:t(a,o,i),i&&null===s&&4&l&&oi(o),or(o,o.return);break;case 12:default:t(a,o,i);break;case 31:t(a,o,i),i&&4&l&&ob(a,o);break;case 13:t(a,o,i),i&&4&l&&ow(a,o);break;case 22:null===o.memoizedState&&t(a,o,i),or(o,o.return);case 30:}n=n.sibling}}(t,n,0!=(8772&n.subtreeFlags)):oA(t,n),oh=s,oc=a}case 30:}}var og=null,oy=!1;function ov(t,r,n){for(n=n.child;null!==n;)ox(t,r,n),n=n.sibling}function ox(t,r,n){if(eg&&"function"==typeof eg.onCommitFiberUnmount)try{eg.onCommitFiberUnmount(em,n)}catch(t){}switch(n.tag){case 26:oc||on(n,r),ov(t,r,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:oc||on(n,r);var i=og,s=oy;uI(n.type)&&(og=n.stateNode,oy=!1),ov(t,r,n),u$(n.stateNode),og=i,oy=s;break;case 5:oc||on(n,r);case 6:if(i=og,s=oy,og=null,ov(t,r,n),og=i,oy=s,null!==og)if(oy)try{(9===og.nodeType?og.body:"HTML"===og.nodeName?og.ownerDocument.body:og).removeChild(n.stateNode)}catch(t){lV(n,r,t)}else try{og.removeChild(n.stateNode)}catch(t){lV(n,r,t)}break;case 18:null!==og&&(oy?(uB(9===(t=og).nodeType?t.body:"HTML"===t.nodeName?t.ownerDocument.body:t,n.stateNode),hV(t)):uB(og,n.stateNode));break;case 4:i=og,s=oy,og=n.stateNode.containerInfo,oy=!0,ov(t,r,n),og=i,oy=s;break;case 0:case 11:case 14:case 15:a7(2,n,r),oc||a7(4,n,r),ov(t,r,n);break;case 1:oc||(on(n,r),"function"==typeof(i=n.stateNode).componentWillUnmount&&ot(n,r,i)),ov(t,r,n);break;case 21:default:ov(t,r,n);break;case 22:oc=(i=oc)||null!==n.memoizedState,ov(t,r,n),oc=i}}function ob(t,r){if(null===r.memoizedState&&null!==(t=r.alternate)&&null!==(t=t.memoizedState)){t=t.dehydrated;try{hV(t)}catch(t){lV(r,r.return,t)}}}function ow(t,r){if(null===r.memoizedState&&null!==(t=r.alternate)&&null!==(t=t.memoizedState)&&null!==(t=t.dehydrated))try{hV(t)}catch(t){lV(r,r.return,t)}}function o_(t,r){var n=function(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return null===r&&(r=t.stateNode=new op),r;case 22:return null===(r=(t=t.stateNode)._retryCache)&&(r=t._retryCache=new op),r;default:throw Error(l(435,t.tag))}}(t);r.forEach(function(r){if(!n.has(r)){n.add(r);var i=l$.bind(null,t,r);r.then(i,i)}})}function oC(t,r){var n=r.deletions;if(null!==n)for(var i=0;i<n.length;i++){var s=n[i],a=t,o=r,u=o;e:for(;null!==u;){switch(u.tag){case 27:if(uI(u.type)){og=u.stateNode,oy=!1;break e}break;case 5:og=u.stateNode,oy=!1;break e;case 3:case 4:og=u.stateNode.containerInfo,oy=!0;break e}u=u.return}if(null===og)throw Error(l(160));ox(a,o,s),og=null,oy=!1,null!==(a=s.alternate)&&(a.return=null),s.return=null}if(13886&r.subtreeFlags)for(r=r.child;null!==r;)oE(r,t),r=r.sibling}var oS=null;function oE(t,r){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:oC(r,t),oD(t),4&i&&(a7(3,t,t.return),a9(3,t),a7(5,t,t.return));break;case 1:oC(r,t),oD(t),512&i&&(oc||null===n||on(n,n.return)),64&i&&oh&&null!==(t=t.updateQueue)&&null!==(i=t.callbacks)&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=null===n?i:n.concat(i));break;case 26:var s=oS;if(oC(r,t),oD(t),512&i&&(oc||null===n||on(n,n.return)),4&i){var a=null!==n?n.memoizedState:null;if(i=t.memoizedState,null===n)if(null===i)if(null===t.stateNode){e:{i=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":(!(a=s.getElementsByTagName("title")[0])||a[eH]||a[eR]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=s.createElement(i),s.head.insertBefore(a,s.querySelector("head > title"))),uv(a,i,n),a[eR]=t,eZ(a),i=a;break e;case"link":var o=u9("link","href",s).get(i+(n.href||""));if(o){for(var u=0;u<o.length;u++)if((a=o[u]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(u,1);break t}}uv(a=s.createElement(i),i,n),s.head.appendChild(a);break;case"meta":if(o=u9("meta","content",s).get(i+(n.content||""))){for(u=0;u<o.length;u++)if((a=o[u]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(u,1);break t}}uv(a=s.createElement(i),i,n),s.head.appendChild(a);break;default:throw Error(l(468,i))}a[eR]=t,eZ(a),i=a}t.stateNode=i}else u7(s,t.type,t.stateNode);else t.stateNode=u5(s,i,t.memoizedProps);else a!==i?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===i?u7(s,t.type,t.stateNode):u5(s,i,t.memoizedProps)):null===i&&null!==t.stateNode&&os(t,t.memoizedProps,n.memoizedProps)}break;case 27:oC(r,t),oD(t),512&i&&(oc||null===n||on(n,n.return)),null!==n&&4&i&&os(t,t.memoizedProps,n.memoizedProps);break;case 5:if(oC(r,t),oD(t),512&i&&(oc||null===n||on(n,n.return)),32&t.flags){s=t.stateNode;try{tc(s,"")}catch(r){lV(t,t.return,r)}}4&i&&null!=t.stateNode&&(s=t.memoizedProps,os(t,s,null!==n?n.memoizedProps:s)),1024&i&&(od=!0);break;case 6:if(oC(r,t),oD(t),4&i){if(null===t.stateNode)throw Error(l(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(r){lV(t,t.return,r)}}break;case 3:if(u8=null,s=oS,oS=uq(r.containerInfo),oC(r,t),oS=s,oD(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{hV(r.containerInfo)}catch(r){lV(t,t.return,r)}od&&(od=!1,function t(r){if(1024&r.subtreeFlags)for(r=r.child;null!==r;){var n=r;t(n),5===n.tag&&1024&n.flags&&n.stateNode.reset(),r=r.sibling}}(t));break;case 4:i=oS,oS=uq(t.stateNode.containerInfo),oC(r,t),oD(t),oS=i;break;case 12:default:oC(r,t),oD(t);break;case 31:case 19:oC(r,t),oD(t),4&i&&null!==(i=t.updateQueue)&&(t.updateQueue=null,o_(t,i));break;case 13:oC(r,t),oD(t),8192&t.child.flags&&null!==t.memoizedState!=(null!==n&&null!==n.memoizedState)&&(o8=ea()),4&i&&null!==(i=t.updateQueue)&&(t.updateQueue=null,o_(t,i));break;case 22:s=null!==t.memoizedState;var h=null!==n&&null!==n.memoizedState,c=oh,d=oc;if(oh=c||s,oc=d||h,oC(r,t),oc=d,oh=c,oD(t),8192&i)e:for((r=t.stateNode)._visibility=s?-2&r._visibility:1|r._visibility,s&&(null===n||h||oh||oc||function t(r){for(r=r.child;null!==r;){var n=r;switch(n.tag){case 0:case 11:case 14:case 15:a7(4,n,n.return),t(n);break;case 1:on(n,n.return);var i=n.stateNode;"function"==typeof i.componentWillUnmount&&ot(n,n.return,i),t(n);break;case 27:u$(n.stateNode);case 26:case 5:on(n,n.return),t(n);break;case 22:null===n.memoizedState&&t(n);break;default:t(n)}r=r.sibling}}(t)),n=null,r=t;;){if(5===r.tag||26===r.tag){if(null===n){h=n=r;try{if(a=h.stateNode,s)o=a.style,"function"==typeof o.setProperty?o.setProperty("display","none","important"):o.display="none";else{u=h.stateNode;var p=h.memoizedProps.style,f=null!=p&&p.hasOwnProperty("display")?p.display:null;u.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(t){lV(h,h.return,t)}}}else if(6===r.tag){if(null===n){h=r;try{h.stateNode.nodeValue=s?"":h.memoizedProps}catch(t){lV(h,h.return,t)}}}else if(18===r.tag){if(null===n){h=r;try{var m=h.stateNode;s?uP(m,!0):uP(h.stateNode,!1)}catch(t){lV(h,h.return,t)}}}else if((22!==r.tag&&23!==r.tag||null===r.memoizedState||r===t)&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)break e;n===r&&(n=null),r=r.return}n===r&&(n=null),r.sibling.return=r.return,r=r.sibling}4&i&&null!==(i=t.updateQueue)&&null!==(n=i.retryQueue)&&(i.retryQueue=null,o_(t,n));case 30:case 21:}}function oD(t){var r=t.flags;if(2&r){try{for(var n,i=t.return;null!==i;){if(oa(i)){n=i;break}i=i.return}if(null==n)throw Error(l(160));switch(n.tag){case 27:var s=n.stateNode,a=oo(t);ol(t,a,s);break;case 5:var o=n.stateNode;32&n.flags&&(tc(o,""),n.flags&=-33);var u=oo(t);ol(t,u,o);break;case 3:case 4:var h=n.stateNode.containerInfo,c=oo(t);!function t(r,n,i){var s=r.tag;if(5===s||6===s)r=r.stateNode,n?(9===i.nodeType?i.body:"HTML"===i.nodeName?i.ownerDocument.body:i).insertBefore(r,n):((n=9===i.nodeType?i.body:"HTML"===i.nodeName?i.ownerDocument.body:i).appendChild(r),null!=(i=i._reactRootContainer)||null!==n.onclick||(n.onclick=tx));else if(4!==s&&(27===s&&uI(r.type)&&(i=r.stateNode,n=null),null!==(r=r.child)))for(t(r,n,i),r=r.sibling;null!==r;)t(r,n,i),r=r.sibling}(t,c,h);break;default:throw Error(l(161))}}catch(r){lV(t,t.return,r)}t.flags&=-3}4096&r&&(t.flags&=-4097)}function oA(t,r){if(8772&r.subtreeFlags)for(r=r.child;null!==r;)om(t,r.alternate,r),r=r.sibling}function ok(t,r){var n=null;null!==t&&null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),t=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(t=r.memoizedState.cachePool.pool),t!==n&&(null!=t&&t.refCount++,null!=n&&n9(n))}function oT(t,r){t=null,null!==r.alternate&&(t=r.alternate.memoizedState.cache),(r=r.memoizedState.cache)!==t&&(r.refCount++,null!=t&&n9(t))}function oF(t,r,n,i){if(10256&r.subtreeFlags)for(r=r.child;null!==r;)oM(t,r,n,i),r=r.sibling}function oM(t,r,n,i){var s=r.flags;switch(r.tag){case 0:case 11:case 15:oF(t,r,n,i),2048&s&&a9(9,r);break;case 1:case 31:case 13:default:oF(t,r,n,i);break;case 3:oF(t,r,n,i),2048&s&&(t=null,null!==r.alternate&&(t=r.alternate.memoizedState.cache),(r=r.memoizedState.cache)!==t&&(r.refCount++,null!=t&&n9(t)));break;case 12:if(2048&s){oF(t,r,n,i),t=r.stateNode;try{var a=r.memoizedProps,o=a.id,l=a.onPostCommit;"function"==typeof l&&l(o,null===r.alternate?"mount":"update",t.passiveEffectDuration,-0)}catch(t){lV(r,r.return,t)}}else oF(t,r,n,i);break;case 23:break;case 22:a=r.stateNode,o=r.alternate,null!==r.memoizedState?2&a._visibility?oF(t,r,n,i):oI(t,r):2&a._visibility?oF(t,r,n,i):(a._visibility|=2,function t(r,n,i,s,a){for(a=a&&0!=(10256&n.subtreeFlags),n=n.child;null!==n;){var o=n,l=o.flags;switch(o.tag){case 0:case 11:case 15:t(r,o,i,s,a),a9(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?t(r,o,i,s,a):oI(r,o):(u._visibility|=2,t(r,o,i,s,a)),a&&2048&l&&ok(o.alternate,o);break;case 24:t(r,o,i,s,a),a&&2048&l&&oT(o.alternate,o);break;default:t(r,o,i,s,a)}n=n.sibling}}(t,r,n,i,0!=(10256&r.subtreeFlags))),2048&s&&ok(o,r);break;case 24:oF(t,r,n,i),2048&s&&oT(r.alternate,r)}}function oI(t,r){if(10256&r.subtreeFlags)for(r=r.child;null!==r;){var n=r,i=n.flags;switch(n.tag){case 22:oI(t,n),2048&i&&ok(n.alternate,n);break;case 24:oI(t,n),2048&i&&oT(n.alternate,n);break;default:oI(t,n)}r=r.sibling}}var oB=8192;function oP(t,r,n){if(t.subtreeFlags&oB)for(t=t.child;null!==t;)oL(t,r,n),t=t.sibling}function oL(t,r,n){switch(t.tag){case 26:oP(t,r,n),t.flags&oB&&null!==t.memoizedState&&function(t,r,n,i){if("stylesheet"===n.type&&("string"!=typeof i.media||!1!==matchMedia(i.media).matches)&&0==(4&n.state.loading)){if(null===n.instance){var s=uQ(i.href),a=r.querySelector(uJ(s));if(a){null!==(r=a._p)&&"object"==typeof r&&"function"==typeof r.then&&(t.count++,t=hr.bind(t),r.then(t,t)),n.state.loading|=4,n.instance=a,eZ(a);return}a=r.ownerDocument||r,i=u0(i),(s=uH.get(s))&&u4(i,s),eZ(a=a.createElement("link"));var o=a;o._p=new Promise(function(t,r){o.onload=t,o.onerror=r}),uv(a,"link",i),n.instance=a}null===t.stylesheets&&(t.stylesheets=new Map),t.stylesheets.set(n,r),(r=n.state.preload)&&0==(3&n.state.loading)&&(t.count++,n=hr.bind(t),r.addEventListener("load",n),r.addEventListener("error",n))}}(n,oS,t.memoizedState,t.memoizedProps);break;case 5:default:oP(t,r,n);break;case 3:case 4:var i=oS;oS=uq(t.stateNode.containerInfo),oP(t,r,n),oS=i;break;case 22:null===t.memoizedState&&(null!==(i=t.alternate)&&null!==i.memoizedState?(i=oB,oB=0x1000000,oP(t,r,n),oB=i):oP(t,r,n))}}function oN(t){var r=t.alternate;if(null!==r&&null!==(t=r.child)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(null!==t)}}function oO(t){var r=t.deletions;if(0!=(16&t.flags)){if(null!==r)for(var n=0;n<r.length;n++){var i=r[n];of=i,oV(i,t)}oN(t)}if(10256&t.subtreeFlags)for(t=t.child;null!==t;)oR(t),t=t.sibling}function oR(t){switch(t.tag){case 0:case 11:case 15:oO(t),2048&t.flags&&a7(9,t,t.return);break;case 3:case 12:default:oO(t);break;case 22:var r=t.stateNode;null!==t.memoizedState&&2&r._visibility&&(null===t.return||13!==t.return.tag)?(r._visibility&=-3,function t(r){var n=r.deletions;if(0!=(16&r.flags)){if(null!==n)for(var i=0;i<n.length;i++){var s=n[i];of=s,oV(s,r)}oN(r)}for(r=r.child;null!==r;){switch((n=r).tag){case 0:case 11:case 15:a7(8,n,n.return),t(n);break;case 22:2&(i=n.stateNode)._visibility&&(i._visibility&=-3,t(n));break;default:t(n)}r=r.sibling}}(t)):oO(t)}}function oV(t,r){for(;null!==of;){var n=of;switch(n.tag){case 0:case 11:case 15:a7(8,n,r);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:n9(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,of=i;else for(n=t;null!==of;){var s=(i=of).sibling,a=i.return;if(!function t(r){var n=r.alternate;null!==n&&(r.alternate=null,t(n)),r.child=null,r.deletions=null,r.sibling=null,5===r.tag&&null!==(n=r.stateNode)&&eW(n),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}(i),i===n){of=null;break}if(null!==s){s.return=a,of=s;break}of=a}}}var oz={getCacheForType:function(t){var r=n0(n6),n=r.data.get(t);return void 0===n&&(n=t(),r.data.set(t,n)),n},cacheSignal:function(){return n0(n6).controller.signal}},oU="function"==typeof WeakMap?WeakMap:Map,oj=0,oG=null,o$=null,oH=0,oW=0,oq=null,oY=!1,oX=!1,oK=!1,oZ=0,oQ=0,oJ=0,o0=0,o1=0,o2=0,o5=0,o3=null,o4=null,o6=!1,o8=0,o9=0,o7=1/0,le=null,lt=null,lr=0,ln=null,li=null,ls=0,la=0,lo=null,ll=null,lu=0,lh=null;function lc(){return 0!=(2&oj)&&0!==oH?oH&-oH:null!==L.T?l3():eL()}function ld(){if(0===o2)if(0==(0x20000000&oH)||nB){var t=e_;0==(3932160&(e_<<=1))&&(e_=262144),o2=t}else o2=0x20000000;return null!==(t=iW.current)&&(t.flags|=32),o2}function lp(t,r,n){(t===oG&&(2===oW||9===oW)||null!==t.cancelPendingCommit)&&(lx(t,0),lg(t,oH,o2,!1)),eT(t,n),(0==(2&oj)||t!==oG)&&(t===oG&&(0==(2&oj)&&(o0|=n),4===oQ&&lg(t,oH,o2,!1)),lZ(t))}function lf(t,r,n){if(0!=(6&oj))throw Error(l(327));for(var i=!n&&0==(127&r)&&0==(r&t.expiredLanes)||eD(t,r),s=i?function(t,r){var n=oj;oj|=2;var i=l_(),s=lC();oG!==t||oH!==r?(le=null,o7=ea()+500,lx(t,r)):oX=eD(t,r);e:for(;;)try{if(0!==oW&&null!==o$){r=o$;var a=oq;t:switch(oW){case 1:oW=0,oq=null,lk(t,r,a,1);break;case 2:case 9:if(im(a)){oW=0,oq=null,lA(r);break}r=function(){2!==oW&&9!==oW||oG!==t||(oW=7),lZ(t)},a.then(r,r);break e;case 3:oW=7;break e;case 4:oW=5;break e;case 7:im(a)?(oW=0,oq=null,lA(r)):(oW=0,oq=null,lk(t,r,a,7));break;case 5:var o=null;switch(o$.tag){case 26:o=o$.memoizedState;case 5:case 27:var u=o$;if(o?he(o):u.stateNode.complete){oW=0,oq=null;var h=u.sibling;if(null!==h)o$=h;else{var c=u.return;null!==c?(o$=c,lT(c)):o$=null}break t}}oW=0,oq=null,lk(t,r,a,5);break;case 6:oW=0,oq=null,lk(t,r,a,6);break;case 8:lv(),oQ=6;break e;default:throw Error(l(462))}}for(;null!==o$&&!ei();)lD(o$);break}catch(r){lb(t,r)}return(nW=nH=null,L.H=i,L.A=s,oj=n,null!==o$)?0:(oG=null,oH=0,r9(),oQ)}(t,r):lE(t,r,!0),a=i;;){if(0===s)oX&&!i&&lg(t,r,0,!1);else{if(n=t.current.alternate,a&&!function(t){for(var r=t;;){var n=r.tag;if((0===n||11===n||15===n)&&16384&r.flags&&null!==(n=r.updateQueue)&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var s=n[i],a=s.getSnapshot;s=s.value;try{if(!rM(a(),s))return!1}catch(t){return!1}}if(n=r.child,16384&r.subtreeFlags&&null!==n)n.return=r,r=n;else{if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}(n)){s=lE(t,r,!1),a=!1;continue}if(2===s){if(a=r,t.errorRecoveryDisabledLanes&a)var o=0;else o=0!=(o=-0x20000001&t.pendingLanes)?o:0x20000000&o?0x20000000:0;if(0!==o){r=o;e:{s=o3;var u=t.current.memoizedState.isDehydrated;if(u&&(lx(t,o).flags|=256),2!==(o=lE(t,o,!1))){if(oK&&!u){t.errorRecoveryDisabledLanes|=a,o0|=a,s=4;break e}a=o4,o4=s,null!==a&&(null===o4?o4=a:o4.push.apply(o4,a))}s=o}if(a=!1,2!==s)continue}}if(1===s){lx(t,0),lg(t,r,0,!0);break}e:{switch(i=t,a=s){case 0:case 1:throw Error(l(345));case 4:if((4194048&r)!==r)break;case 6:lg(i,r,o2,!oY);break e;case 2:o4=null;break;case 3:case 5:break;default:throw Error(l(329))}if((0x3c00000&r)===r&&10<(s=o8+300-ea())){if(lg(i,r,o2,!oY),0!==eE(i,0,!0))break e;ls=r,i.timeoutHandle=uA(lm.bind(null,i,n,o4,le,o6,r,o2,o0,o5,oY,a,"Throttled",-0,0),s);break e}lm(i,n,o4,le,o6,r,o2,o0,o5,oY,a,null,-0,0)}}break}lZ(t)}function lm(t,r,n,i,s,a,o,l,u,h,c,d,p,f){if(t.timeoutHandle=-1,8192&(d=r.subtreeFlags)||0x1002000==(0x1002000&d)){oL(r,a,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:tx});var m,g,y=(0x3c00000&a)===a?o8-ea():(4194048&a)===a?o9-ea():0;if(null!==(m=d,g=y,m.stylesheets&&0===m.count&&hi(m,m.stylesheets),y=0<m.count||0<m.imgCount?function(t){var r=setTimeout(function(){if(m.stylesheets&&hi(m,m.stylesheets),m.unsuspend){var t=m.unsuspend;m.unsuspend=null,t()}},6e4+g);0<m.imgBytes&&0===ht&&(ht=62500*function(){if("function"==typeof performance.getEntriesByType){for(var t=0,r=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],a=s.transferSize,o=s.initiatorType,l=s.duration;if(a&&l&&ux(o)){for(o=0,l=s.responseEnd,i+=1;i<n.length;i++){var u=n[i],h=u.startTime;if(h>l)break;var c=u.transferSize,d=u.initiatorType;c&&ux(d)&&(o+=c*((u=u.responseEnd)<l?1:(l-h)/(u-h)))}if(--i,r+=8*(a+o)/(s.duration/1e3),10<++t)break}}if(0<t)return r/t/1e6}return navigator.connection&&"number"==typeof(t=navigator.connection.downlink)?t:5}());var n=setTimeout(function(){if(m.waitingForImages=!1,0===m.count&&(m.stylesheets&&hi(m,m.stylesheets),m.unsuspend)){var t=m.unsuspend;m.unsuspend=null,t()}},(m.imgBytes>ht?50:800)+g);return m.unsuspend=t,function(){m.unsuspend=null,clearTimeout(r),clearTimeout(n)}}:null)){ls=a,t.cancelPendingCommit=y(lM.bind(null,t,r,a,n,i,s,o,l,u,c,d,null,p,f)),lg(t,a,o,!h);return}}lM(t,r,a,n,i,s,o,l,u)}function lg(t,r,n,i){r&=~o1,r&=~o0,t.suspendedLanes|=r,t.pingedLanes&=~r,i&&(t.warmLanes|=r),i=t.expirationTimes;for(var s=r;0<s;){var a=31-ev(s),o=1<<a;i[a]=-1,s&=~o}0!==n&&eF(t,n,r)}function ly(){return 0!=(6&oj)||(lQ(0,!1),!1)}function lv(){if(null!==o$){if(0===oW)var t=o$.return;else t=o$,nW=nH=null,sh(t),iw=null,i_=0,t=o$;for(;null!==t;)a8(t.alternate,t),t=t.return;o$=null}}function lx(t,r){var n=t.timeoutHandle;-1!==n&&(t.timeoutHandle=-1,uk(n)),null!==(n=t.cancelPendingCommit)&&(t.cancelPendingCommit=null,n()),ls=0,lv(),oG=t,o$=n=nl(t.current,null),oH=r,oW=0,oq=null,oY=!1,oX=eD(t,r),oK=!1,o5=o2=o1=o0=oJ=oQ=0,o4=o3=null,o6=!1,0!=(8&r)&&(r|=32&r);var i=t.entangledLanes;if(0!==i)for(t=t.entanglements,i&=r;0<i;){var s=31-ev(i),a=1<<s;r|=t[s],i&=~a}return oZ=r,r9(),n}function lb(t,r){i2=null,L.H=au,r===ih||r===id?(r=ix(),oW=3):r===ic?(r=ix(),oW=4):oW=r===aD?8:null!==r&&"object"==typeof r&&"function"==typeof r.then?6:1,oq=r,null===o$&&(oQ=1,aw(t,ng(r,t.current)))}function lw(){var t=iW.current;return null===t||((4194048&oH)===oH?null===iq:((0x3c00000&oH)===oH||0!=(0x20000000&oH))&&t===iq)}function l_(){var t=L.H;return L.H=au,null===t?au:t}function lC(){var t=L.A;return L.A=oz,t}function lS(){oQ=4,oY||(4194048&oH)!==oH&&null!==iW.current||(oX=!0),0==(0x7ffffff&oJ)&&0==(0x7ffffff&o0)||null===oG||lg(oG,oH,o2,!1)}function lE(t,r,n){var i=oj;oj|=2;var s=l_(),a=lC();(oG!==t||oH!==r)&&(le=null,lx(t,r)),r=!1;var o=oQ;e:for(;;)try{if(0!==oW&&null!==o$){var l=o$,u=oq;switch(oW){case 8:lv(),o=6;break e;case 3:case 2:case 9:case 6:null===iW.current&&(r=!0);var h=oW;if(oW=0,oq=null,lk(t,l,u,h),n&&oX){o=0;break e}break;default:h=oW,oW=0,oq=null,lk(t,l,u,h)}}(function(){for(;null!==o$;)lD(o$)})(),o=oQ;break}catch(r){lb(t,r)}return r&&t.shellSuspendCounter++,nW=nH=null,oj=i,L.H=s,L.A=a,null===o$&&(oG=null,oH=0,r9()),o}function lD(t){var r=a0(t.alternate,t,oZ);t.memoizedProps=t.pendingProps,null===r?lT(t):o$=r}function lA(t){var r=t,n=r.alternate;switch(r.tag){case 15:case 0:r=aV(n,r,r.pendingProps,r.type,void 0,oH);break;case 11:r=aV(n,r,r.pendingProps,r.type.render,r.ref,oH);break;case 5:sh(r);default:a8(n,r),r=a0(n,r=o$=nu(r,oZ),oZ)}t.memoizedProps=t.pendingProps,null===r?lT(t):o$=r}function lk(t,r,n,i){nW=nH=null,sh(r),iw=null,i_=0;var s=r.return;try{if(function(t,r,n,i,s){if(n.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){if(null!==(r=n.alternate)&&nZ(r,n,s,!0),null!==(n=iW.current)){switch(n.tag){case 31:case 13:return null===iq?lS():null===n.alternate&&0===oQ&&(oQ=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===ip?n.flags|=16384:(null===(r=n.updateQueue)?n.updateQueue=new Set([i]):r.add(i),lz(t,i,s)),!1;case 22:return n.flags|=65536,i===ip?n.flags|=16384:(null===(r=n.updateQueue)?(r={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=r):null===(n=r.retryQueue)?r.retryQueue=new Set([i]):n.add(i),lz(t,i,s)),!1}throw Error(l(435,n.tag))}return lz(t,i,s),lS(),!1}if(nB)return null!==(r=iW.current)?(0==(65536&r.flags)&&(r.flags|=256),r.flags|=65536,r.lanes=s,i!==nN&&nG(ng(t=Error(l(422),{cause:i}),n))):(i!==nN&&nG(ng(r=Error(l(423),{cause:i}),n)),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,i=ng(i,n),s=aC(t.stateNode,i,s),iL(t,s),4!==oQ&&(oQ=2)),!1;var a=Error(l(520),{cause:i});if(a=ng(a,n),null===o3?o3=[a]:o3.push(a),4!==oQ&&(oQ=2),null===r)return!0;i=ng(i,n),n=r;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=aC(n.stateNode,i,t),iL(n,t),!1;case 1:if(r=n.type,a=n.stateNode,0==(128&n.flags)&&("function"==typeof r.getDerivedStateFromError||null!==a&&"function"==typeof a.componentDidCatch&&(null===lt||!lt.has(a))))return n.flags|=65536,s&=-s,n.lanes|=s,aE(s=aS(s),t,n,i),iL(n,s),!1}n=n.return}while(null!==n)return!1}(t,s,r,n,oH)){oQ=1,aw(t,ng(n,t.current)),o$=null;return}}catch(r){if(null!==s)throw o$=s,r;oQ=1,aw(t,ng(n,t.current)),o$=null;return}32768&r.flags?(nB||1===i?t=!0:oX||0!=(0x20000000&oH)?t=!1:(oY=t=!0,(2===i||9===i||3===i||6===i)&&null!==(i=iW.current)&&13===i.tag&&(i.flags|=16384)),lF(r,t)):lT(r)}function lT(t){var r=t;do{if(0!=(32768&r.flags))return void lF(r,oY);t=r.return;var n=function(t,r,n){var i=r.pendingProps;switch(nT(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return a6(r),null;case 3:return n=r.stateNode,i=null,null!==t&&(i=t.memoizedState.cache),r.memoizedState.cache!==i&&(r.flags|=2048),nY(n6),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(null===t||null===t.child)&&(nz(r)?a1(r):null===t||t.memoizedState.isDehydrated&&0==(256&r.flags)||(r.flags|=1024,nj())),a6(r),null;case 26:var s=r.type,a=r.memoizedState;return null===t?(a1(r),null!==a?(a6(r),a5(r,a)):(a6(r),a2(r,s,null,i,n))):a?a!==t.memoizedState?(a1(r),a6(r),a5(r,a)):(a6(r),r.flags&=-0x1000001):((t=t.memoizedProps)!==i&&a1(r),a6(r),a2(r,s,t,i,n)),null;case 27:if(K(r),n=H.current,s=r.type,null!==t&&null!=r.stateNode)t.memoizedProps!==i&&a1(r);else{if(!i){if(null===r.stateNode)throw Error(l(166));return a6(r),null}t=G.current,nz(r)?nR(r,t):(r.stateNode=t=uG(s,i,n),a1(r))}return a6(r),null;case 5:if(K(r),s=r.type,null!==t&&null!=r.stateNode)t.memoizedProps!==i&&a1(r);else{if(!i){if(null===r.stateNode)throw Error(l(166));return a6(r),null}if(a=G.current,nz(r))nR(r,a);else{var o=u_(H.current);switch(a){case 1:a=o.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:a=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":a=o.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":a=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":(a=o.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"==typeof i.is?o.createElement("select",{is:i.is}):o.createElement("select"),i.multiple?a.multiple=!0:i.size&&(a.size=i.size);break;default:a="string"==typeof i.is?o.createElement(s,{is:i.is}):o.createElement(s)}}a[eR]=r,a[eV]=i;e:for(o=r.child;null!==o;){if(5===o.tag||6===o.tag)a.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===r)break;for(;null===o.sibling;){if(null===o.return||o.return===r)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(r.stateNode=a,uv(a,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break;case"img":i=!0;break;default:i=!1}i&&a1(r)}}return a6(r),a2(r,r.type,null===t?null:t.memoizedProps,r.pendingProps,n),null;case 6:if(t&&null!=r.stateNode)t.memoizedProps!==i&&a1(r);else{if("string"!=typeof i&&null===r.stateNode)throw Error(l(166));if(t=H.current,nz(r)){if(t=r.stateNode,n=r.memoizedProps,i=null,null!==(s=nM))switch(s.tag){case 27:case 5:i=s.memoizedProps}t[eR]=r,(t=!!(t.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||um(t.nodeValue,n)))||nO(r,!0)}else(t=u_(t).createTextNode(i))[eR]=r,r.stateNode=t}return a6(r),null;case 31:if(n=r.memoizedState,null===t||null!==t.memoizedState){if(i=nz(r),null!==n){if(null===t){if(!i)throw Error(l(318));if(!(t=null!==(t=r.memoizedState)?t.dehydrated:null))throw Error(l(557));t[eR]=r}else nU(),0==(128&r.flags)&&(r.memoizedState=null),r.flags|=4;a6(r),t=!1}else n=nj(),null!==t&&null!==t.memoizedState&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t){if(256&r.flags)return iQ(r),r;return iQ(r),null}if(0!=(128&r.flags))throw Error(l(558))}return a6(r),null;case 13:if(i=r.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(s=nz(r),null!==i&&null!==i.dehydrated){if(null===t){if(!s)throw Error(l(318));if(!(s=null!==(s=r.memoizedState)?s.dehydrated:null))throw Error(l(317));s[eR]=r}else nU(),0==(128&r.flags)&&(r.memoizedState=null),r.flags|=4;a6(r),s=!1}else s=nj(),null!==t&&null!==t.memoizedState&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s){if(256&r.flags)return iQ(r),r;return iQ(r),null}}if(iQ(r),0!=(128&r.flags))return r.lanes=n,r;return n=null!==i,t=null!==t&&null!==t.memoizedState,n&&(i=r.child,s=null,null!==i.alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(s=i.alternate.memoizedState.cachePool.pool),a=null,null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(a=i.memoizedState.cachePool.pool),a!==s&&(i.flags|=2048)),n!==t&&n&&(r.child.flags|=8192),a3(r,r.updateQueue),a6(r),null;case 4:return Y(),null===t&&us(r.stateNode.containerInfo),a6(r),null;case 10:return nY(r.type),a6(r),null;case 19:if(U(iJ),null===(i=r.memoizedState))return a6(r),null;if(s=0!=(128&r.flags),null===(a=i.rendering))if(s)a4(i,!1);else{if(0!==oQ||null!==t&&0!=(128&t.flags))for(t=r.child;null!==t;){if(null!==(a=i0(t))){for(r.flags|=128,a4(i,!1),r.updateQueue=t=a.updateQueue,a3(r,t),r.subtreeFlags=0,t=n,n=r.child;null!==n;)nu(n,t),n=n.sibling;return j(iJ,1&iJ.current|2),nB&&nD(r,i.treeForkCount),r.child}t=t.sibling}null!==i.tail&&ea()>o7&&(r.flags|=128,s=!0,a4(i,!1),r.lanes=4194304)}else{if(!s)if(null!==(t=i0(a))){if(r.flags|=128,s=!0,r.updateQueue=t=t.updateQueue,a3(r,t),a4(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!nB)return a6(r),null}else 2*ea()-i.renderingStartTime>o7&&0x20000000!==n&&(r.flags|=128,s=!0,a4(i,!1),r.lanes=4194304);i.isBackwards?(a.sibling=r.child,r.child=a):(null!==(t=i.last)?t.sibling=a:r.child=a,i.last=a)}if(null!==i.tail)return t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ea(),t.sibling=null,n=iJ.current,j(iJ,s?1&n|2:1&n),nB&&nD(r,i.treeForkCount),t;return a6(r),null;case 22:case 23:return iQ(r),iH(),i=null!==r.memoizedState,null!==t?null!==t.memoizedState!==i&&(r.flags|=8192):i&&(r.flags|=8192),i?0!=(0x20000000&n)&&0==(128&r.flags)&&(a6(r),6&r.subtreeFlags&&(r.flags|=8192)):a6(r),null!==(n=r.updateQueue)&&a3(r,n.retryQueue),n=null,null!==t&&null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),i=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==n&&(r.flags|=2048),null!==t&&U(ia),null;case 24:return n=null,null!==t&&(n=t.memoizedState.cache),r.memoizedState.cache!==n&&(r.flags|=2048),nY(n6),a6(r),null;case 25:case 30:return null}throw Error(l(156,r.tag))}(r.alternate,r,oZ);if(null!==n){o$=n;return}if(null!==(r=r.sibling)){o$=r;return}o$=r=t}while(null!==r)0===oQ&&(oQ=5)}function lF(t,r){do{var n=function(t,r){switch(nT(r),r.tag){case 1:return 65536&(t=r.flags)?(r.flags=-65537&t|128,r):null;case 3:return nY(n6),Y(),0!=(65536&(t=r.flags))&&0==(128&t)?(r.flags=-65537&t|128,r):null;case 26:case 27:case 5:return K(r),null;case 31:if(null!==r.memoizedState){if(iQ(r),null===r.alternate)throw Error(l(340));nU()}return 65536&(t=r.flags)?(r.flags=-65537&t|128,r):null;case 13:if(iQ(r),null!==(t=r.memoizedState)&&null!==t.dehydrated){if(null===r.alternate)throw Error(l(340));nU()}return 65536&(t=r.flags)?(r.flags=-65537&t|128,r):null;case 19:return U(iJ),null;case 4:return Y(),null;case 10:return nY(r.type),null;case 22:case 23:return iQ(r),iH(),null!==t&&U(ia),65536&(t=r.flags)?(r.flags=-65537&t|128,r):null;case 24:return nY(n6),null;default:return null}}(t.alternate,t);if(null!==n){n.flags&=32767,o$=n;return}if(null!==(n=t.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!r&&null!==(t=t.sibling)){o$=t;return}o$=t=n}while(null!==t)oQ=6,o$=null}function lM(t,r,n,i,s,a,o,u,h){t.cancelPendingCommit=null;do lN();while(0!==lr)if(0!=(6&oj))throw Error(l(327));if(null!==r){if(r===t.current)throw Error(l(177));if(!function(t,r,n,i,s,a){var o=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,u=t.expirationTimes,h=t.hiddenUpdates;for(n=o&~n;0<n;){var c=31-ev(n),d=1<<c;l[c]=0,u[c]=-1;var p=h[c];if(null!==p)for(h[c]=null,c=0;c<p.length;c++){var f=p[c];null!==f&&(f.lane&=-0x20000001)}n&=~d}0!==i&&eF(t,i,0),0!==a&&0===s&&0!==t.tag&&(t.suspendedLanes|=a&~(o&~r))}(t,n,a=r.lanes|r.childLanes|r8,o,u,h),t===oG&&(o$=oG=null,oH=0),li=r,ln=t,ls=n,la=a,lo=s,ll=i,0!=(10256&r.subtreeFlags)||0!=(10256&r.flags)?(t.callbackNode=null,t.callbackPriority=0,er(eh,function(){return lO(),null})):(t.callbackNode=null,t.callbackPriority=0),i=0!=(13878&r.flags),0!=(13878&r.subtreeFlags)||i){i=L.T,L.T=null,s=N.p,N.p=2,o=oj,oj|=4;try{!function(t,r){if(t=t.containerInfo,ub=hf,rN(t=rL(t))){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var s,a=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(t){n=null;break e}var u=0,h=-1,c=-1,d=0,p=0,f=t,m=null;t:for(;;){for(;f!==n||0!==a&&3!==f.nodeType||(h=u+a),f!==o||0!==i&&3!==f.nodeType||(c=u+i),3===f.nodeType&&(u+=f.nodeValue.length),null!==(s=f.firstChild);)m=f,f=s;for(;;){if(f===t)break t;if(m===n&&++d===a&&(h=u),m===o&&++p===i&&(c=u),null!==(s=f.nextSibling))break;m=(f=m).parentNode}f=s}n=-1===h||-1===c?null:{start:h,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(uw={focusedElem:t,selectionRange:n},hf=!1,of=r;null!==of;)if(t=(r=of).child,0!=(1028&r.subtreeFlags)&&null!==t)t.return=r,of=t;else for(;null!==of;){switch(o=(r=of).alternate,t=r.flags,r.tag){case 0:if(0!=(4&t)&&null!==(t=null!==(t=r.updateQueue)?t.events:null))for(n=0;n<t.length;n++)(a=t[n]).ref.impl=a.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!=(1024&t)&&null!==o){t=void 0,n=r,a=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var g=ay(n.type,a);t=i.getSnapshotBeforeUpdate(g,o),i.__reactInternalSnapshotBeforeUpdate=t}catch(t){lV(n,n.return,t)}}break;case 3:if(0!=(1024&t)){if(9===(n=(t=r.stateNode.containerInfo).nodeType))uL(t);else if(1===n)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":uL(t);break;default:t.textContent=""}}break;default:if(0!=(1024&t))throw Error(l(163))}if(null!==(t=r.sibling)){t.return=r.return,of=t;break}of=r.return}}(t,r,n)}finally{oj=o,N.p=s,L.T=i}}lr=1,lI(),lB(),lP()}}function lI(){if(1===lr){lr=0;var t=ln,r=li,n=0!=(13878&r.flags);if(0!=(13878&r.subtreeFlags)||n){n=L.T,L.T=null;var i=N.p;N.p=2;var s=oj;oj|=4;try{oE(r,t);var a=uw,o=rL(t.containerInfo),l=a.focusedElem,u=a.selectionRange;if(o!==l&&l&&l.ownerDocument&&function t(r,n){return!!r&&!!n&&(r===n||(!r||3!==r.nodeType)&&(n&&3===n.nodeType?t(r,n.parentNode):"contains"in r?r.contains(n):!!r.compareDocumentPosition&&!!(16&r.compareDocumentPosition(n))))}(l.ownerDocument.documentElement,l)){if(null!==u&&rN(l)){var h=u.start,c=u.end;if(void 0===c&&(c=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(c,l.value.length);else{var d=l.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var f=p.getSelection(),m=l.textContent.length,g=Math.min(u.start,m),y=void 0===u.end?g:Math.min(u.end,m);!f.extend&&g>y&&(o=y,y=g,g=o);var v=rP(l,g),x=rP(l,y);if(v&&x&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==x.node||f.focusOffset!==x.offset)){var b=d.createRange();b.setStart(v.node,v.offset),f.removeAllRanges(),g>y?(f.addRange(b),f.extend(x.node,x.offset)):(b.setEnd(x.node,x.offset),f.addRange(b))}}}}for(d=[],f=l;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof l.focus&&l.focus(),l=0;l<d.length;l++){var w=d[l];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}hf=!!ub,uw=ub=null}finally{oj=s,N.p=i,L.T=n}}t.current=r,lr=2}}function lB(){if(2===lr){lr=0;var t=ln,r=li,n=0!=(8772&r.flags);if(0!=(8772&r.subtreeFlags)||n){n=L.T,L.T=null;var i=N.p;N.p=2;var s=oj;oj|=4;try{om(t,r.alternate,r)}finally{oj=s,N.p=i,L.T=n}}lr=3}}function lP(){if(4===lr||3===lr){lr=0,es();var t=ln,r=li,n=ls,i=ll;0!=(10256&r.subtreeFlags)||0!=(10256&r.flags)?lr=5:(lr=0,li=ln=null,lL(t,t.pendingLanes));var s=t.pendingLanes;if(0===s&&(lt=null),eP(n),r=r.stateNode,eg&&"function"==typeof eg.onCommitFiberRoot)try{eg.onCommitFiberRoot(em,r,void 0,128==(128&r.current.flags))}catch(t){}if(null!==i){r=L.T,s=N.p,N.p=2,L.T=null;try{for(var a=t.onRecoverableError,o=0;o<i.length;o++){var l=i[o];a(l.value,{componentStack:l.stack})}}finally{L.T=r,N.p=s}}0!=(3&ls)&&lN(),lZ(t),s=t.pendingLanes,0!=(261930&n)&&0!=(42&s)?t===lh?lu++:(lu=0,lh=t):lu=0,lQ(0,!1)}}function lL(t,r){0==(t.pooledCacheLanes&=r)&&null!=(r=t.pooledCache)&&(t.pooledCache=null,n9(r))}function lN(){return lI(),lB(),lP(),lO()}function lO(){if(5!==lr)return!1;var t=ln,r=la;la=0;var n=eP(ls),i=L.T,s=N.p;try{N.p=32>n?32:n,L.T=null,n=lo,lo=null;var a=ln,o=ls;if(lr=0,li=ln=null,ls=0,0!=(6&oj))throw Error(l(331));var u=oj;if(oj|=4,oR(a.current),oM(a,a.current,o,n),oj=u,lQ(0,!1),eg&&"function"==typeof eg.onPostCommitFiberRoot)try{eg.onPostCommitFiberRoot(em,a)}catch(t){}return!0}finally{N.p=s,L.T=i,lL(t,r)}}function lR(t,r,n){r=ng(n,r),r=aC(t.stateNode,r,2),null!==(t=iB(t,r,2))&&(eT(t,2),lZ(t))}function lV(t,r,n){if(3===t.tag)lR(t,t,n);else for(;null!==r;){if(3===r.tag){lR(r,t,n);break}if(1===r.tag){var i=r.stateNode;if("function"==typeof r.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===lt||!lt.has(i))){t=ng(n,t),null!==(i=iB(r,n=aS(2),2))&&(aE(n,i,r,t),eT(i,2),lZ(i));break}}r=r.return}}function lz(t,r,n){var i=t.pingCache;if(null===i){i=t.pingCache=new oU;var s=new Set;i.set(r,s)}else void 0===(s=i.get(r))&&(s=new Set,i.set(r,s));s.has(n)||(oK=!0,s.add(n),t=lU.bind(null,t,r,n),r.then(t,t))}function lU(t,r,n){var i=t.pingCache;null!==i&&i.delete(r),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,oG===t&&(oH&n)===n&&(4===oQ||3===oQ&&(0x3c00000&oH)===oH&&300>ea()-o8?0==(2&oj)&&lx(t,0):o1|=n,o5===oH&&(o5=0)),lZ(t)}function lj(t,r){0===r&&(r=eA()),null!==(t=nt(t,r))&&(eT(t,r),lZ(t))}function lG(t){var r=t.memoizedState,n=0;null!==r&&(n=r.retryLane),lj(t,n)}function l$(t,r){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,s=t.memoizedState;null!==s&&(n=s.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(l(314))}null!==i&&i.delete(r),lj(t,n)}var lH=null,lW=null,lq=!1,lY=!1,lX=!1,lK=0;function lZ(t){t!==lW&&null===t.next&&(null===lW?lH=lW=t:lW=lW.next=t),lY=!0,lq||(lq=!0,uF(function(){0!=(6&oj)?er(el,lJ):l0()}))}function lQ(t,r){if(!lX&&lY){lX=!0;do for(var n=!1,i=lH;null!==i;){if(!r)if(0!==t){var s=i.pendingLanes;if(0===s)var a=0;else{var o=i.suspendedLanes,l=i.pingedLanes;a=0xc000095&(a=(1<<31-ev(42|t)+1)-1&(s&~(o&~l)))?0xc000095&a|1:a?2|a:0}0!==a&&(n=!0,l5(i,a))}else a=oH,0==(3&(a=eE(i,i===oG?a:0,null!==i.cancelPendingCommit||-1!==i.timeoutHandle)))||eD(i,a)||(n=!0,l5(i,a));i=i.next}while(n)lX=!1}}function lJ(){l0()}function l0(){lY=lq=!1;var t,r=0;0===lK||((t=window.event)&&"popstate"===t.type?t===uD||(uD=t,0):(uD=null,1))||(r=lK);for(var n=ea(),i=null,s=lH;null!==s;){var a=s.next,o=l1(s,n);0===o?(s.next=null,null===i?lH=a:i.next=a,null===a&&(lW=i)):(i=s,(0!==r||0!=(3&o))&&(lY=!0)),s=a}0!==lr&&5!==lr||lQ(r,!1),0!==lK&&(lK=0)}function l1(t,r){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,a=-0x3c00001&t.pendingLanes;0<a;){var o=31-ev(a),l=1<<o,u=s[o];-1===u?(0==(l&n)||0!=(l&i))&&(s[o]=function(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;default:return -1}}(l,r)):u<=r&&(t.expiredLanes|=l),a&=~l}if(r=oG,n=oH,n=eE(t,t===r?n:0,null!==t.cancelPendingCommit||-1!==t.timeoutHandle),i=t.callbackNode,0===n||t===r&&(2===oW||9===oW)||null!==t.cancelPendingCommit)return null!==i&&null!==i&&en(i),t.callbackNode=null,t.callbackPriority=0;if(0==(3&n)||eD(t,n)){if((r=n&-n)===t.callbackPriority)return r;switch(null!==i&&en(i),eP(n)){case 2:case 8:n=eu;break;case 32:default:n=eh;break;case 0x10000000:n=ed}return n=er(n,i=l2.bind(null,t)),t.callbackPriority=r,t.callbackNode=n,r}return null!==i&&null!==i&&en(i),t.callbackPriority=2,t.callbackNode=null,2}function l2(t,r){if(0!==lr&&5!==lr)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(lN()&&t.callbackNode!==n)return null;var i=oH;return 0===(i=eE(t,t===oG?i:0,null!==t.cancelPendingCommit||-1!==t.timeoutHandle))?null:(lf(t,i,r),l1(t,ea()),null!=t.callbackNode&&t.callbackNode===n?l2.bind(null,t):null)}function l5(t,r){if(lN())return null;lf(t,r,!0)}function l3(){if(0===lK){var t=it;0===t&&(t=ew,0==(261888&(ew<<=1))&&(ew=256)),lK=t}return lK}function l4(t){return null==t||"symbol"==typeof t||"boolean"==typeof t?null:"function"==typeof t?t:tv(""+t)}function l6(t,r){var n=r.ownerDocument.createElement("input");return n.name=r.name,n.value=r.value,t.id&&n.setAttribute("form",t.id),r.parentNode.insertBefore(n,r),t=new FormData(t),n.parentNode.removeChild(n),t}for(var l8=0;l8<r2.length;l8++){var l9=r2[l8];r5(l9.toLowerCase(),"on"+(l9[0].toUpperCase()+l9.slice(1)))}r5(rY,"onAnimationEnd"),r5(rX,"onAnimationIteration"),r5(rK,"onAnimationStart"),r5("dblclick","onDoubleClick"),r5("focusin","onFocus"),r5("focusout","onBlur"),r5(rZ,"onTransitionRun"),r5(rQ,"onTransitionStart"),r5(rJ,"onTransitionCancel"),r5(r0,"onTransitionEnd"),e1("onMouseEnter",["mouseout","mouseover"]),e1("onMouseLeave",["mouseout","mouseover"]),e1("onPointerEnter",["pointerout","pointerover"]),e1("onPointerLeave",["pointerout","pointerover"]),e0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),e0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),e0("onBeforeInput",["compositionend","keypress","textInput","paste"]),e0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),e0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),e0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var l7="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ue=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(l7));function ut(t,r){r=0!=(4&r);for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var a=void 0;if(r)for(var o=i.length-1;0<=o;o--){var l=i[o],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==a&&s.isPropagationStopped())break e;a=l,s.currentTarget=h;try{a(s)}catch(t){r3(t)}s.currentTarget=null,a=u}else for(o=0;o<i.length;o++){if(u=(l=i[o]).instance,h=l.currentTarget,l=l.listener,u!==a&&s.isPropagationStopped())break e;a=l,s.currentTarget=h;try{a(s)}catch(t){r3(t)}s.currentTarget=null,a=u}}}}function ur(t,r){var n=r[eU];void 0===n&&(n=r[eU]=new Set);var i=t+"__bubble";n.has(i)||(ua(r,t,2,!1),n.add(i))}function un(t,r,n){var i=0;r&&(i|=4),ua(n,t,i,r)}var ui="_reactListening"+Math.random().toString(36).slice(2);function us(t){if(!t[ui]){t[ui]=!0,eQ.forEach(function(r){"selectionchange"!==r&&(ue.has(r)||un(r,!1,t),un(r,!0,t))});var r=9===t.nodeType?t:t.ownerDocument;null===r||r[ui]||(r[ui]=!0,un("selectionchange",!1,r))}}function ua(t,r,n,i){switch(hw(r)){case 2:var s=hm;break;case 8:s=hg;break;default:s=hy}n=s.bind(null,r,n,t),s=void 0,tT&&("touchstart"===r||"touchmove"===r||"wheel"===r)&&(s=!0),i?void 0!==s?t.addEventListener(r,n,{capture:!0,passive:s}):t.addEventListener(r,n,!0):void 0!==s?t.addEventListener(r,n,{passive:s}):t.addEventListener(r,n,!1)}function uo(t,r,n,i,s){var a=i;if(0==(1&r)&&0==(2&r)&&null!==i)e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var l=i.stateNode.containerInfo;if(l===s)break;if(4===o)for(o=i.return;null!==o;){var u=o.tag;if((3===u||4===u)&&o.stateNode.containerInfo===s)return;o=o.return}for(;null!==l;){if(null===(o=eq(l)))return;if(5===(u=o.tag)||6===u||26===u||27===u){i=a=o;continue e}l=l.parentNode}}i=i.return}tD(function(){var i=a,s=tw(n),o=[];e:{var l=r1.get(t);if(void 0!==l){var u=tY,h=t;switch(t){case"keypress":if(0===tL(n))break e;case"keydown":case"keyup":u=t7;break;case"focusin":h="focus",u=t0;break;case"focusout":h="blur",u=t0;break;case"beforeblur":case"afterblur":u=t0;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=tQ;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=tJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=rt;break;case rY:case rX:case rK:u=t1;break;case r0:u=rr;break;case"scroll":case"scrollend":u=tK;break;case"wheel":u=rn;break;case"copy":case"cut":case"paste":u=t2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=re;break;case"toggle":case"beforetoggle":u=ri}var d=0!=(4&r),p=!d&&("scroll"===t||"scrollend"===t),f=d?null!==l?l+"Capture":null:l;d=[];for(var m,g=i;null!==g;){var y=g;if(m=y.stateNode,5!==(y=y.tag)&&26!==y&&27!==y||null===m||null===f||null!=(y=tA(g,f))&&d.push(ul(g,y,m)),p)break;g=g.return}0<d.length&&(l=new u(l,h,null,n,s),o.push({event:l,listeners:d}))}}if(0==(7&r)){if((l="mouseover"===t||"pointerover"===t,u="mouseout"===t||"pointerout"===t,!(l&&n!==tb&&(h=n.relatedTarget||n.fromElement)&&(eq(h)||h[ez])))&&(u||l)&&(l=s.window===s?s:(l=s.ownerDocument)?l.defaultView||l.parentWindow:window,u?(h=n.relatedTarget||n.toElement,u=i,null!==(h=h?eq(h):null)&&(p=c(h),d=h.tag,h!==p||5!==d&&27!==d&&6!==d)&&(h=null)):(u=null,h=i),u!==h)){if(d=tQ,y="onMouseLeave",f="onMouseEnter",g="mouse",("pointerout"===t||"pointerover"===t)&&(d=re,y="onPointerLeave",f="onPointerEnter",g="pointer"),p=null==u?l:eX(u),m=null==h?l:eX(h),(l=new d(y,g+"leave",u,n,s)).target=p,l.relatedTarget=m,y=null,eq(s)===i&&((d=new d(f,g+"enter",h,n,s)).target=m,d.relatedTarget=p,y=d),p=y,u&&h)t:{for(d=uh,f=u,g=h,m=0,y=f;y;y=d(y))m++;y=0;for(var v,x=g;x;x=d(x))y++;for(;0<m-y;)f=d(f),m--;for(;0<y-m;)g=d(g),y--;for(;m--;){if(f===g||null!==g&&f===g.alternate){d=f;break t}f=d(f),g=d(g)}d=null}else d=null;null!==u&&uc(o,l,u,d,!1),null!==h&&null!==p&&uc(o,p,h,d,!0)}e:{if("select"===(u=(l=i?eX(i):window).nodeName&&l.nodeName.toLowerCase())||"input"===u&&"file"===l.type)var b=rw;else if(rm(l))if(r_)b=rF;else{b=rk;var w=rA}else(u=l.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)?b=rT:i&&tm(i.elementType)&&(b=rw);if(b&&(b=b(t,i))){rg(o,b,n,s);break e}w&&w(t,l,i),"focusout"===t&&i&&"number"===l.type&&null!=i.memoizedProps.value&&to(l,"number",l.value)}switch(w=i?eX(i):window,t){case"focusin":(rm(w)||"true"===w.contentEditable)&&(rR=w,rV=i,rz=null);break;case"focusout":rz=rV=rR=null;break;case"mousedown":rU=!0;break;case"contextmenu":case"mouseup":case"dragend":rU=!1,rj(o,n,s);break;case"selectionchange":if(rO)break;case"keydown":case"keyup":rj(o,n,s)}if(ra)t:{switch(t){case"compositionstart":var _="onCompositionStart";break t;case"compositionend":_="onCompositionEnd";break t;case"compositionupdate":_="onCompositionUpdate";break t}_=void 0}else rp?rc(t,n)&&(_="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(_="onCompositionStart");_&&(ru&&"ko"!==n.locale&&(rp||"onCompositionStart"!==_?"onCompositionEnd"===_&&rp&&(v=tP()):(tI="value"in(tM=s)?tM.value:tM.textContent,rp=!0)),0<(w=uu(i,_)).length&&(_=new t5(_,t,null,n,s),o.push({event:_,listeners:w}),v?_.data=v:null!==(v=rd(n))&&(_.data=v))),(v=rl?function(t,r){switch(t){case"compositionend":return rd(r);case"keypress":if(32!==r.which)return null;return rh=!0," ";case"textInput":return" "===(t=r.data)&&rh?null:t;default:return null}}(t,n):function(t,r){if(rp)return"compositionend"===t||!ra&&rc(t,r)?(t=tP(),tB=tI=tM=null,rp=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ru&&"ko"!==r.locale?null:r.data}}(t,n))&&0<(_=uu(i,"onBeforeInput")).length&&(w=new t5("onBeforeInput","beforeinput",null,n,s),o.push({event:w,listeners:_}),w.data=v);var C=t;if("submit"===C&&i&&i.stateNode===s){var S=l4((s[eV]||null).action),E=n.submitter;E&&null!==(C=(C=E[eV]||null)?l4(C.formAction):E.getAttribute("formAction"))&&(S=C,E=null);var D=new tY("action","action",null,n,s);o.push({event:D,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==lK){var t=E?l6(s,E):new FormData(s);s4(i,{pending:!0,data:t,method:s.method,action:S},null,t)}}else"function"==typeof S&&(D.preventDefault(),s4(i,{pending:!0,data:t=E?l6(s,E):new FormData(s),method:s.method,action:S},S,t))},currentTarget:s}]})}}ut(o,r)})}function ul(t,r,n){return{instance:t,listener:r,currentTarget:n}}function uu(t,r){for(var n=r+"Capture",i=[];null!==t;){var s=t,a=s.stateNode;if(5!==(s=s.tag)&&26!==s&&27!==s||null===a||(null!=(s=tA(t,n))&&i.unshift(ul(t,s,a)),null!=(s=tA(t,r))&&i.push(ul(t,s,a))),3===t.tag)return i;t=t.return}return[]}function uh(t){if(null===t)return null;do t=t.return;while(t&&5!==t.tag&&27!==t.tag)return t||null}function uc(t,r,n,i,s){for(var a=r._reactName,o=[];null!==n&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(l=l.tag,null!==u&&u===i)break;5!==l&&26!==l&&27!==l||null===h||(u=h,s?null!=(h=tA(n,a))&&o.unshift(ul(n,h,u)):s||null!=(h=tA(n,a))&&o.push(ul(n,h,u))),n=n.return}0!==o.length&&t.push({event:r,listeners:o})}var ud=/\r\n?/g,up=/\u0000|\uFFFD/g;function uf(t){return("string"==typeof t?t:""+t).replace(ud,"\n").replace(up,"")}function um(t,r){return r=uf(r),uf(t)===r}function ug(t,r,n,i,s,a){switch(n){case"children":"string"==typeof i?"body"===r||"textarea"===r&&""===i||tc(t,i):("number"==typeof i||"bigint"==typeof i)&&"body"!==r&&tc(t,""+i);break;case"className":e6(t,"class",i);break;case"tabIndex":e6(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":e6(t,n,i);break;case"style":tf(t,i,a);break;case"data":if("object"!==r){e6(t,"data",i);break}case"src":case"href":if(""===i&&("a"!==r||"href"!==n)||null==i||"function"==typeof i||"symbol"==typeof i||"boolean"==typeof i){t.removeAttribute(n);break}i=tv(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if("function"==typeof i){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof a&&("formAction"===n?("input"!==r&&ug(t,r,"name",s.name,s,null),ug(t,r,"formEncType",s.formEncType,s,null),ug(t,r,"formMethod",s.formMethod,s,null),ug(t,r,"formTarget",s.formTarget,s,null)):(ug(t,r,"encType",s.encType,s,null),ug(t,r,"method",s.method,s,null),ug(t,r,"target",s.target,s,null))),null==i||"symbol"==typeof i||"boolean"==typeof i){t.removeAttribute(n);break}i=tv(""+i),t.setAttribute(n,i);break;case"onClick":null!=i&&(t.onclick=tx);break;case"onScroll":null!=i&&ur("scroll",t);break;case"onScrollEnd":null!=i&&ur("scrollend",t);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(l(61));if(null!=(n=i.__html)){if(null!=s.children)throw Error(l(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"muted":t.muted=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":case"innerText":case"textContent":break;case"xlinkHref":if(null==i||"function"==typeof i||"boolean"==typeof i||"symbol"==typeof i){t.removeAttribute("xlink:href");break}n=tv(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!=typeof i&&"symbol"!=typeof i?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!=typeof i&&"symbol"!=typeof i?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":!0===i?t.setAttribute(n,""):!1!==i&&null!=i&&"function"!=typeof i&&"symbol"!=typeof i?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"==typeof i||"symbol"==typeof i||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":ur("beforetoggle",t),ur("toggle",t),e4(t,"popover",i);break;case"xlinkActuate":e8(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":e8(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":e8(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":e8(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":e8(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":e8(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":e8(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":e8(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":e8(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":e4(t,"is",i);break;default:2<n.length&&("o"===n[0]||"O"===n[0])&&("n"===n[1]||"N"===n[1])||e4(t,n=tg.get(n)||n,i)}}function uy(t,r,n,i,s,a){switch(n){case"style":tf(t,i,a);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(l(61));if(null!=(n=i.__html)){if(null!=s.children)throw Error(l(60));t.innerHTML=n}}break;case"children":"string"==typeof i?tc(t,i):("number"==typeof i||"bigint"==typeof i)&&tc(t,""+i);break;case"onScroll":null!=i&&ur("scroll",t);break;case"onScrollEnd":null!=i&&ur("scrollend",t);break;case"onClick":null!=i&&(t.onclick=tx);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:if(!eJ.hasOwnProperty(n))e:{if("o"===n[0]&&"n"===n[1]&&(s=n.endsWith("Capture"),r=n.slice(2,s?n.length-7:void 0),"function"==typeof(a=null!=(a=t[eV]||null)?a[n]:null)&&t.removeEventListener(r,a,s),"function"==typeof i)){"function"!=typeof a&&null!==a&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(r,i,s);break e}n in t?t[n]=i:!0===i?t.setAttribute(n,""):e4(t,n,i)}}}function uv(t,r,n){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ur("error",t),ur("load",t);var i,s=!1,a=!1;for(i in n)if(n.hasOwnProperty(i)){var o=n[i];if(null!=o)switch(i){case"src":s=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,r));default:ug(t,r,i,o,n,null)}}a&&ug(t,r,"srcSet",n.srcSet,n,null),s&&ug(t,r,"src",n.src,n,null);return;case"input":ur("invalid",t);var u=i=o=a=null,h=null,c=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(null!=d)switch(s){case"name":a=d;break;case"type":o=d;break;case"checked":h=d;break;case"defaultChecked":c=d;break;case"value":i=d;break;case"defaultValue":u=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(l(137,r));break;default:ug(t,r,s,d,n,null)}}ta(t,i,u,h,c,o,a,!1);return;case"select":for(a in ur("invalid",t),s=o=i=null,n)if(n.hasOwnProperty(a)&&null!=(u=n[a]))switch(a){case"value":i=u;break;case"defaultValue":o=u;break;case"multiple":s=u;default:ug(t,r,a,u,n,null)}r=i,n=o,t.multiple=!!s,null!=r?tl(t,!!s,r,!1):null!=n&&tl(t,!!s,n,!0);return;case"textarea":for(o in ur("invalid",t),i=a=s=null,n)if(n.hasOwnProperty(o)&&null!=(u=n[o]))switch(o){case"value":s=u;break;case"defaultValue":a=u;break;case"children":i=u;break;case"dangerouslySetInnerHTML":if(null!=u)throw Error(l(91));break;default:ug(t,r,o,u,n,null)}th(t,s,a,i);return;case"option":for(h in n)n.hasOwnProperty(h)&&null!=(s=n[h])&&("selected"===h?t.selected=s&&"function"!=typeof s&&"symbol"!=typeof s:ug(t,r,h,s,n,null));return;case"dialog":ur("beforetoggle",t),ur("toggle",t),ur("cancel",t),ur("close",t);break;case"iframe":case"object":ur("load",t);break;case"video":case"audio":for(s=0;s<l7.length;s++)ur(l7[s],t);break;case"image":ur("error",t),ur("load",t);break;case"details":ur("toggle",t);break;case"embed":case"source":case"link":ur("error",t),ur("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,r));default:ug(t,r,c,s,n,null)}return;default:if(tm(r)){for(d in n)n.hasOwnProperty(d)&&void 0!==(s=n[d])&&uy(t,r,d,s,n,void 0);return}}for(u in n)n.hasOwnProperty(u)&&null!=(s=n[u])&&ug(t,r,u,s,n,null)}function ux(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var ub=null,uw=null;function u_(t){return 9===t.nodeType?t:t.ownerDocument}function uC(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uS(t,r){if(0===t)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return 1===t&&"foreignObject"===r?0:t}function uE(t,r){return"textarea"===t||"noscript"===t||"string"==typeof r.children||"number"==typeof r.children||"bigint"==typeof r.children||"object"==typeof r.dangerouslySetInnerHTML&&null!==r.dangerouslySetInnerHTML&&null!=r.dangerouslySetInnerHTML.__html}var uD=null,uA="function"==typeof setTimeout?setTimeout:void 0,uk="function"==typeof clearTimeout?clearTimeout:void 0,uT="function"==typeof Promise?Promise:void 0,uF="function"==typeof queueMicrotask?queueMicrotask:void 0!==uT?function(t){return uT.resolve(null).then(t).catch(uM)}:uA;function uM(t){setTimeout(function(){throw t})}function uI(t){return"head"===t}function uB(t,r){var n=r,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)||"/&"===n){if(0===i){t.removeChild(s),hV(r);return}i--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)i++;else if("html"===n)u$(t.ownerDocument.documentElement);else if("head"===n){u$(n=t.ownerDocument.head);for(var a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[eH]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}else"body"===n&&u$(t.ownerDocument.body);n=s}while(n)hV(r)}function uP(t,r){var n=t;t=0;do{var i=n.nextSibling;if(1===n.nodeType?r?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(r?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&8===i.nodeType)if("/$"===(n=i.data))if(0===t)break;else t--;else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||t++;n=i}while(n)}function uL(t){var r=t.firstChild;for(r&&10===r.nodeType&&(r=r.nextSibling);r;){var n=r;switch(r=r.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":uL(n),eW(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}t.removeChild(n)}}function uN(t,r){for(;8!==t.nodeType;)if((1!==t.nodeType||"INPUT"!==t.nodeName||"hidden"!==t.type)&&!r||null===(t=uV(t.nextSibling)))return null;return t}function uO(t){return"$?"===t.data||"$~"===t.data}function uR(t){return"$!"===t.data||"$?"===t.data&&"loading"!==t.ownerDocument.readyState}function uV(t){for(;null!=t;t=t.nextSibling){var r=t.nodeType;if(1===r||3===r)break;if(8===r){if("$"===(r=t.data)||"$!"===r||"$?"===r||"$~"===r||"&"===r||"F!"===r||"F"===r)break;if("/$"===r||"/&"===r)return null}}return t}var uz=null;function uU(t){t=t.nextSibling;for(var r=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n||"/&"===n){if(0===r)return uV(t.nextSibling);r--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||r++}t=t.nextSibling}return null}function uj(t){t=t.previousSibling;for(var r=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===r)return t;r--}else"/$"!==n&&"/&"!==n||r++}t=t.previousSibling}return null}function uG(t,r,n){switch(r=u_(n),t){case"html":if(!(t=r.documentElement))throw Error(l(452));return t;case"head":if(!(t=r.head))throw Error(l(453));return t;case"body":if(!(t=r.body))throw Error(l(454));return t;default:throw Error(l(451))}}function u$(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);eW(t)}var uH=new Map,uW=new Set;function uq(t){return"function"==typeof t.getRootNode?t.getRootNode():9===t.nodeType?t:t.ownerDocument}var uY=N.d;N.d={f:function(){var t=uY.f(),r=ly();return t||r},r:function(t){var r=eY(t);null!==r&&5===r.tag&&"form"===r.type?s8(r):uY.r(t)},D:function(t){uY.D(t),uK("dns-prefetch",t,null)},C:function(t,r){uY.C(t,r),uK("preconnect",t,r)},L:function(t,r,n){if(uY.L(t,r,n),uX&&t&&r){var i='link[rel="preload"][as="'+ti(r)+'"]';"image"===r&&n&&n.imageSrcSet?(i+='[imagesrcset="'+ti(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+ti(n.imageSizes)+'"]')):i+='[href="'+ti(t)+'"]';var s=i;switch(r){case"style":s=uQ(t);break;case"script":s=u1(t)}uH.has(s)||(t=m({rel:"preload",href:"image"===r&&n&&n.imageSrcSet?void 0:t,as:r},n),uH.set(s,t),null!==uX.querySelector(i)||"style"===r&&uX.querySelector(uJ(s))||"script"===r&&uX.querySelector(u2(s))||(uv(r=uX.createElement("link"),"link",t),eZ(r),uX.head.appendChild(r)))}},m:function(t,r){if(uY.m(t,r),uX&&t){var n=r&&"string"==typeof r.as?r.as:"script",i='link[rel="modulepreload"][as="'+ti(n)+'"][href="'+ti(t)+'"]',s=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=u1(t)}if(!uH.has(s)&&(t=m({rel:"modulepreload",href:t},r),uH.set(s,t),null===uX.querySelector(i))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(uX.querySelector(u2(s)))return}uv(n=uX.createElement("link"),"link",t),eZ(n),uX.head.appendChild(n)}}},X:function(t,r){if(uY.X(t,r),uX&&t){var n=eK(uX).hoistableScripts,i=u1(t),s=n.get(i);s||((s=uX.querySelector(u2(i)))||(t=m({src:t,async:!0},r),(r=uH.get(i))&&u6(t,r),eZ(s=uX.createElement("script")),uv(s,"link",t),uX.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(i,s))}},S:function(t,r,n){if(uY.S(t,r,n),uX&&t){var i=eK(uX).hoistableStyles,s=uQ(t);r=r||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=uX.querySelector(uJ(s)))o.loading=5;else{t=m({rel:"stylesheet",href:t,"data-precedence":r},n),(n=uH.get(s))&&u4(t,n);var l=a=uX.createElement("link");eZ(l),uv(l,"link",t),l._p=new Promise(function(t,r){l.onload=t,l.onerror=r}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,u3(a,r,uX)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}},M:function(t,r){if(uY.M(t,r),uX&&t){var n=eK(uX).hoistableScripts,i=u1(t),s=n.get(i);s||((s=uX.querySelector(u2(i)))||(t=m({src:t,async:!0,type:"module"},r),(r=uH.get(i))&&u6(t,r),eZ(s=uX.createElement("script")),uv(s,"link",t),uX.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(i,s))}}};var uX="u"<typeof document?null:document;function uK(t,r,n){if(uX&&"string"==typeof r&&r){var i=ti(r);i='link[rel="'+t+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),uW.has(i)||(uW.add(i),t={rel:t,crossOrigin:n,href:r},null===uX.querySelector(i)&&(uv(r=uX.createElement("link"),"link",t),eZ(r),uX.head.appendChild(r)))}}function uZ(t,r,n,i){var s=(s=H.current)?uq(s):null;if(!s)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(r=uQ(n.href),(i=(n=eK(s).hoistableStyles).get(r))||(i={type:"style",instance:null,count:0,state:null},n.set(r,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){t=uQ(n.href);var a,o,u,h,c=eK(s).hoistableStyles,d=c.get(t);if(d||(s=s.ownerDocument||s,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(t,d),(c=s.querySelector(uJ(t)))&&!c._p&&(d.instance=c,d.state.loading=5),uH.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},uH.set(t,n),c||(a=s,o=t,u=n,h=d.state,a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(h.preload=o=a.createElement("link"),o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),uv(o,"link",u),eZ(o),a.head.appendChild(o))))),r&&null===i)throw Error(l(528,""));return d}if(r&&null!==i)throw Error(l(529,""));return null;case"script":return r=n.async,"string"==typeof(n=n.src)&&r&&"function"!=typeof r&&"symbol"!=typeof r?(r=u1(n),(i=(n=eK(s).hoistableScripts).get(r))||(i={type:"script",instance:null,count:0,state:null},n.set(r,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function uQ(t){return'href="'+ti(t)+'"'}function uJ(t){return'link[rel="stylesheet"]['+t+"]"}function u0(t){return m({},t,{"data-precedence":t.precedence,precedence:null})}function u1(t){return'[src="'+ti(t)+'"]'}function u2(t){return"script[async]"+t}function u5(t,r,n){if(r.count++,null===r.instance)switch(r.type){case"style":var i=t.querySelector('style[data-href~="'+ti(n.href)+'"]');if(i)return r.instance=i,eZ(i),i;var s=m({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return eZ(i=(t.ownerDocument||t).createElement("style")),uv(i,"style",s),u3(i,n.precedence,t),r.instance=i;case"stylesheet":s=uQ(n.href);var a=t.querySelector(uJ(s));if(a)return r.state.loading|=4,r.instance=a,eZ(a),a;i=u0(n),(s=uH.get(s))&&u4(i,s),eZ(a=(t.ownerDocument||t).createElement("link"));var o=a;return o._p=new Promise(function(t,r){o.onload=t,o.onerror=r}),uv(a,"link",i),r.state.loading|=4,u3(a,n.precedence,t),r.instance=a;case"script":if(a=u1(n.src),s=t.querySelector(u2(a)))return r.instance=s,eZ(s),s;return i=n,(s=uH.get(a))&&u6(i=m({},n),s),eZ(s=(t=t.ownerDocument||t).createElement("script")),uv(s,"link",i),t.head.appendChild(s),r.instance=s;case"void":return null;default:throw Error(l(443,r.type))}return"stylesheet"===r.type&&0==(4&r.state.loading)&&(i=r.instance,r.state.loading|=4,u3(i,n.precedence,t)),r.instance}function u3(t,r,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,a=s,o=0;o<i.length;o++){var l=i[o];if(l.dataset.precedence===r)a=l;else if(a!==s)break}a?a.parentNode.insertBefore(t,a.nextSibling):(r=9===n.nodeType?n.head:n).insertBefore(t,r.firstChild)}function u4(t,r){null==t.crossOrigin&&(t.crossOrigin=r.crossOrigin),null==t.referrerPolicy&&(t.referrerPolicy=r.referrerPolicy),null==t.title&&(t.title=r.title)}function u6(t,r){null==t.crossOrigin&&(t.crossOrigin=r.crossOrigin),null==t.referrerPolicy&&(t.referrerPolicy=r.referrerPolicy),null==t.integrity&&(t.integrity=r.integrity)}var u8=null;function u9(t,r,n){if(null===u8){var i=new Map,s=u8=new Map;s.set(n,i)}else(i=(s=u8).get(n))||(i=new Map,s.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var a=n[s];if(!(a[eH]||a[eR]||"link"===t&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(r)||"";o=t+o;var l=i.get(o);l?l.push(a):i.set(o,[a])}}return i}function u7(t,r,n){(t=t.ownerDocument||t).head.insertBefore(n,"title"===r?t.querySelector("head > title"):null)}function he(t){return"stylesheet"!==t.type||0!=(3&t.state.loading)}var ht=0;function hr(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages)){if(this.stylesheets)hi(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hn=null;function hi(t,r){t.stylesheets=null,null!==t.unsuspend&&(t.count++,hn=new Map,r.forEach(hs,t),hn=null,hr.call(t))}function hs(t,r){if(!(4&r.state.loading)){var n=hn.get(t);if(n)var i=n.get(null);else{n=new Map,hn.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<s.length;a++){var o=s[a];("LINK"===o.nodeName||"not all"!==o.getAttribute("media"))&&(n.set(o.dataset.precedence,o),i=o)}i&&n.set(null,i)}o=(s=r.instance).getAttribute("data-precedence"),(a=n.get(o)||i)===i&&n.set(null,s),n.set(o,s),this.count++,i=hr.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),a?a.parentNode.insertBefore(s,a.nextSibling):(t=9===t.nodeType?t.head:t).insertBefore(s,t.firstChild),r.state.loading|=4}}var ha={$$typeof:C,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function ho(t,r,n,i,s,a,o,l,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ek(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ek(0),this.hiddenUpdates=ek(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function hl(t,r,n,i,s,a,o,l,u,h,c,d){return t=new ho(t,r,n,o,u,h,c,d,l),r=1,!0===a&&(r|=24),a=na(3,null,null,r),t.current=a,a.stateNode=t,r=n8(),r.refCount++,t.pooledCache=r,r.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:r},iF(a),t}function hu(t,r,n,i,s,a){s=s?ni:ni,null===i.context?i.context=s:i.pendingContext=s,(i=iI(r)).payload={element:n},null!==(a=void 0===a?null:a)&&(i.callback=a),null!==(n=iB(t,i,r))&&(lp(n,t,r),iP(n,t,r))}function hh(t,r){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<r?n:r}}function hc(t,r){hh(t,r),(t=t.alternate)&&hh(t,r)}function hd(t){if(13===t.tag||31===t.tag){var r=nt(t,0x4000000);null!==r&&lp(r,t,0x4000000),hc(t,0x4000000)}}function hp(t){if(13===t.tag||31===t.tag){var r=lc(),n=nt(t,r=eB(r));null!==n&&lp(n,t,r),hc(t,r)}}var hf=!0;function hm(t,r,n,i){var s=L.T;L.T=null;var a=N.p;try{N.p=2,hy(t,r,n,i)}finally{N.p=a,L.T=s}}function hg(t,r,n,i){var s=L.T;L.T=null;var a=N.p;try{N.p=8,hy(t,r,n,i)}finally{N.p=a,L.T=s}}function hy(t,r,n,i){if(hf){var s=hv(i);if(null===s)uo(t,r,i,hx,n),hF(t,i);else if(function(t,r,n,i,s){switch(r){case"focusin":return hC=hM(hC,t,r,n,i,s),!0;case"dragenter":return hS=hM(hS,t,r,n,i,s),!0;case"mouseover":return hE=hM(hE,t,r,n,i,s),!0;case"pointerover":var a=s.pointerId;return hD.set(a,hM(hD.get(a)||null,t,r,n,i,s)),!0;case"gotpointercapture":return a=s.pointerId,hA.set(a,hM(hA.get(a)||null,t,r,n,i,s)),!0}return!1}(s,t,r,n,i))i.stopPropagation();else if(hF(t,i),4&r&&-1<hT.indexOf(t)){for(;null!==s;){var a=eY(s);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=eS(a.pendingLanes);if(0!==o){var l=a;for(l.pendingLanes|=2,l.entangledLanes|=2;o;){var u=1<<31-ev(o);l.entanglements[1]|=u,o&=~u}lZ(a),0==(6&oj)&&(o7=ea()+500,lQ(0,!1))}}break;case 31:case 13:null!==(l=nt(a,2))&&lp(l,a,2),ly(),hc(a,2)}if(null===(a=hv(i))&&uo(t,r,i,hx,n),a===s)break;s=a}null!==s&&i.stopPropagation()}else uo(t,r,i,null,n)}}function hv(t){return hb(t=tw(t))}var hx=null;function hb(t){if(hx=null,null!==(t=eq(t))){var r=c(t);if(null===r)t=null;else{var n=r.tag;if(13===n){if(null!==(t=d(r)))return t;t=null}else if(31===n){if(null!==(t=p(r)))return t;t=null}else if(3===n){if(r.stateNode.current.memoizedState.isDehydrated)return 3===r.tag?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return hx=t,null}function hw(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(eo()){case el:return 2;case eu:return 8;case eh:case ec:return 32;case ed:return 0x10000000;default:return 32}default:return 32}}var h_=!1,hC=null,hS=null,hE=null,hD=new Map,hA=new Map,hk=[],hT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hF(t,r){switch(t){case"focusin":case"focusout":hC=null;break;case"dragenter":case"dragleave":hS=null;break;case"mouseover":case"mouseout":hE=null;break;case"pointerover":case"pointerout":hD.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":hA.delete(r.pointerId)}}function hM(t,r,n,i,s,a){return null===t||t.nativeEvent!==a?(t={blockedOn:r,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},null!==r&&null!==(r=eY(r))&&hd(r)):(t.eventSystemFlags|=i,r=t.targetContainers,null!==s&&-1===r.indexOf(s)&&r.push(s)),t}function hI(t){var r=eq(t.target);if(null!==r){var n=c(r);if(null!==n){if(13===(r=n.tag)){if(null!==(r=d(n))){t.blockedOn=r,eN(t.priority,function(){hp(n)});return}}else if(31===r){if(null!==(r=p(n))){t.blockedOn=r,eN(t.priority,function(){hp(n)});return}}else if(3===r&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=3===n.tag?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hB(t){if(null!==t.blockedOn)return!1;for(var r=t.targetContainers;0<r.length;){var n=hv(t.nativeEvent);if(null!==n)return null!==(r=eY(n))&&hd(r),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);tb=i,n.target.dispatchEvent(i),tb=null,r.shift()}return!0}function hP(t,r,n){hB(t)&&n.delete(r)}function hL(){h_=!1,null!==hC&&hB(hC)&&(hC=null),null!==hS&&hB(hS)&&(hS=null),null!==hE&&hB(hE)&&(hE=null),hD.forEach(hP),hA.forEach(hP)}function hN(t,r){t.blockedOn===r&&(t.blockedOn=null,h_||(h_=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,hL)))}var hO=null;function hR(t){hO!==t&&(hO=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){hO===t&&(hO=null);for(var r=0;r<t.length;r+=3){var n=t[r],i=t[r+1],s=t[r+2];if("function"!=typeof i)if(null===hb(i||n))continue;else break;var a=eY(n);null!==a&&(t.splice(r,3),r-=3,s4(a,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function hV(t){function r(r){return hN(r,t)}null!==hC&&hN(hC,t),null!==hS&&hN(hS,t),null!==hE&&hN(hE,t),hD.forEach(r),hA.forEach(r);for(var n=0;n<hk.length;n++){var i=hk[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<hk.length&&null===(n=hk[0]).blockedOn;)hI(n),null===n.blockedOn&&hk.shift();if(null!=(n=(t.ownerDocument||t).$$reactFormReplay))for(i=0;i<n.length;i+=3){var s=n[i],a=n[i+1],o=s[eV]||null;if("function"==typeof a)o||hR(n);else if(o){var l=null;if(a&&a.hasAttribute("formAction")){if(s=a,o=a[eV]||null)l=o.formAction;else if(null!==hb(s))continue}else l=o.action;"function"==typeof l?n[i+1]=l:(n.splice(i,3),i-=3),hR(n)}}}function hz(){function t(t){t.canIntercept&&"react-transition"===t.info&&t.intercept({handler:function(){return new Promise(function(t){return s=t})},focusReset:"manual",scroll:"manual"})}function r(){null!==s&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var t=navigation.currentEntry;t&&null!=t.url&&navigation.navigate(t.url,{state:t.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var i=!1,s=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),null!==s&&(s(),s=null)}}}function hU(t){this._internalRoot=t}function hj(t){this._internalRoot=t}hj.prototype.render=hU.prototype.render=function(t){var r=this._internalRoot;if(null===r)throw Error(l(409));hu(r.current,lc(),t,r,null,null)},hj.prototype.unmount=hU.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var r=t.containerInfo;hu(t.current,2,null,t,null,null),ly(),r[ez]=null}},hj.prototype.unstable_scheduleHydration=function(t){if(t){var r=eL();t={blockedOn:null,target:t,priority:r};for(var n=0;n<hk.length&&0!==r&&r<hk[n].priority;n++);hk.splice(n,0,t),0===n&&hI(t)}};var hG=a.version;if("19.2.4"!==hG)throw Error(l(527,hG,"19.2.4"));if(N.findDOMNode=function(t){var r=t._reactInternals;if(void 0===r){if("function"==typeof t.render)throw Error(l(188));throw Error(l(268,t=Object.keys(t).join(",")))}return null===(t=null!==(t=function(t){var r=t.alternate;if(!r){if(null===(r=c(t)))throw Error(l(188));return r!==t?null:t}for(var n=t,i=r;;){var s=n.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(i=s.return)){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return f(s),t;if(a===i)return f(s),r;a=a.sibling}throw Error(l(188))}if(n.return!==i.return)n=s,i=a;else{for(var o=!1,u=s.child;u;){if(u===n){o=!0,n=s,i=a;break}if(u===i){o=!0,i=s,n=a;break}u=u.sibling}if(!o){for(u=a.child;u;){if(u===n){o=!0,n=a,i=s;break}if(u===i){o=!0,i=a,n=s;break}u=u.sibling}if(!o)throw Error(l(189))}}if(n.alternate!==i)throw Error(l(190))}if(3!==n.tag)throw Error(l(188));return n.stateNode.current===n?t:r}(r))?function t(r){var n=r.tag;if(5===n||26===n||27===n||6===n)return r;for(r=r.child;null!==r;){if(null!==(n=t(r)))return n;r=r.sibling}return null}(t):null)?null:t.stateNode},"u">typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var h$=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!h$.isDisabled&&h$.supportsFiber)try{em=h$.inject({bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.4"}),eg=h$}catch(t){}}tV=function(t,r){if(!h(t))throw Error(l(299));var n=!1,i="",s=av,a=ax,o=ab;return null!=r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onUncaughtError&&(s=r.onUncaughtError),void 0!==r.onCaughtError&&(a=r.onCaughtError),void 0!==r.onRecoverableError&&(o=r.onRecoverableError)),r=hl(t,1,!1,null,null,n,i,null,s,a,o,hz),t[ez]=r.current,us(t),new hU(r)},tz=function(t,r,n){if(!h(t))throw Error(l(299));var i=!1,s="",a=av,o=ax,u=ab,c=null;return null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(o=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.formState&&(c=n.formState)),(r=hl(t,1,!0,r,null!=n?n:null,i,s,c,a,o,u,hz)).context=ni,n=r.current,(s=iI(i=eB(i=lc()))).callback=null,iB(n,s,i),n=i,r.current.lanes=n,eT(r,n),lZ(r),t[ez]=r.current,us(t),new hj(r)},tU="19.2.4"}),h("6qr1r",function(t,r){t.exports=u("h8XvE")}),h("h8XvE",function(t,r){function n(t,r){var n=t.length;for(t.push(r);0<n;){var i=n-1>>>1,s=t[i];if(0<o(s,r))t[i]=r,t[n]=s,n=i;else break}}function s(t){return 0===t.length?null:t[0]}function a(t){if(0===t.length)return null;var r=t[0],n=t.pop();if(n!==r){t[0]=n;for(var i=0,s=t.length,a=s>>>1;i<a;){var l=2*(i+1)-1,u=t[l],h=l+1,c=t[h];if(0>o(u,n))h<s&&0>o(c,u)?(t[i]=c,t[h]=n,i=h):(t[i]=u,t[l]=n,i=l);else if(h<s&&0>o(c,n))t[i]=c,t[h]=n,i=h;else break}}return r}function o(t,r){var n=t.sortIndex-r.sortIndex;return 0!==n?n:t.id-r.id}if(i(t.exports,"unstable_now",()=>l,t=>l=t),i(t.exports,"unstable_IdlePriority",()=>u,t=>u=t),i(t.exports,"unstable_ImmediatePriority",()=>h,t=>h=t),i(t.exports,"unstable_LowPriority",()=>c,t=>c=t),i(t.exports,"unstable_NormalPriority",()=>d,t=>d=t),i(t.exports,"unstable_Profiling",()=>p,t=>p=t),i(t.exports,"unstable_UserBlockingPriority",()=>f,t=>f=t),i(t.exports,"unstable_cancelCallback",()=>m,t=>m=t),i(t.exports,"unstable_forceFrameRate",()=>g,t=>g=t),i(t.exports,"unstable_getCurrentPriorityLevel",()=>y,t=>y=t),i(t.exports,"unstable_next",()=>v,t=>v=t),i(t.exports,"unstable_requestPaint",()=>x,t=>x=t),i(t.exports,"unstable_runWithPriority",()=>b,t=>b=t),i(t.exports,"unstable_scheduleCallback",()=>w,t=>w=t),i(t.exports,"unstable_shouldYield",()=>_,t=>_=t),i(t.exports,"unstable_wrapCallback",()=>C,t=>C=t),l=void 0,"object"==typeof performance&&"function"==typeof performance.now){var l,u,h,c,d,p,f,m,g,y,v,x,b,w,_,C,S,E=performance;l=function(){return E.now()}}else{var D=Date,A=D.now();l=function(){return D.now()-A}}var k=[],T=[],F=1,M=null,I=3,B=!1,P=!1,L=!1,N=!1,O="function"==typeof setTimeout?setTimeout:null,R="function"==typeof clearTimeout?clearTimeout:null,V="u">typeof setImmediate?setImmediate:null;function z(t){for(var r=s(T);null!==r;){if(null===r.callback)a(T);else if(r.startTime<=t)a(T),r.sortIndex=r.expirationTime,n(k,r);else break;r=s(T)}}function U(t){if(L=!1,z(t),!P)if(null!==s(k))P=!0,j||(j=!0,S());else{var r=s(T);null!==r&&K(U,r.startTime-t)}}var j=!1,G=-1,$=5,H=-1;function W(){return!!N||!(l()-H<$)}function q(){if(N=!1,j){var t=l();H=t;var r=!0;try{e:{P=!1,L&&(L=!1,R(G),G=-1),B=!0;var n=I;try{t:{for(z(t),M=s(k);null!==M&&!(M.expirationTime>t&&W());){var i=M.callback;if("function"==typeof i){M.callback=null,I=M.priorityLevel;var o=i(M.expirationTime<=t);if(t=l(),"function"==typeof o){M.callback=o,z(t),r=!0;break t}M===s(k)&&a(k),z(t)}else a(k);M=s(k)}if(null!==M)r=!0;else{var u=s(T);null!==u&&K(U,u.startTime-t),r=!1}}break e}finally{M=null,I=n,B=!1}}}finally{r?S():j=!1}}}if("function"==typeof V)S=function(){V(q)};else if("u">typeof MessageChannel){var Y=new MessageChannel,X=Y.port2;Y.port1.onmessage=q,S=function(){X.postMessage(null)}}else S=function(){O(q,0)};function K(t,r){G=O(function(){t(l())},r)}u=5,h=1,c=4,d=3,p=null,f=2,m=function(t){t.callback=null},g=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<t?Math.floor(1e3/t):5},y=function(){return I},v=function(t){switch(I){case 1:case 2:case 3:var r=3;break;default:r=I}var n=I;I=r;try{return t()}finally{I=n}},x=function(){N=!0},b=function(t,r){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=I;I=t;try{return r()}finally{I=n}},w=function(t,r,i){var a=l();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?a+i:a,t){case 1:var o=-1;break;case 2:o=250;break;case 5:o=0x3fffffff;break;case 4:o=1e4;break;default:o=5e3}return o=i+o,t={id:F++,callback:r,priorityLevel:t,startTime:i,expirationTime:o,sortIndex:-1},i>a?(t.sortIndex=i,n(T,t),null===s(k)&&t===s(T)&&(L?(R(G),G=-1):L=!0,K(U,i-a))):(t.sortIndex=o,n(k,t),P||B||(P=!0,j||(j=!0,S()))),t},_=W,C=function(t){var r=I;return function(){var n=I;I=r;try{return t.apply(this,arguments)}finally{I=n}}}}),h("fYo6y",function(t,r){t.exports=u("lanIS")}),h("d2L2u",function(t,r){!function t(){if("u">typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=u("hw5nP")}),h("hw5nP",function(t,r){i(t.exports,"__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE",()=>n,t=>n=t),i(t.exports,"createPortal",()=>s,t=>s=t),i(t.exports,"flushSync",()=>a,t=>a=t),i(t.exports,"preconnect",()=>o,t=>o=t),i(t.exports,"prefetchDNS",()=>l,t=>l=t),i(t.exports,"preinit",()=>h,t=>h=t),i(t.exports,"preinitModule",()=>c,t=>c=t),i(t.exports,"preload",()=>d,t=>d=t),i(t.exports,"preloadModule",()=>p,t=>p=t),i(t.exports,"requestFormReset",()=>f,t=>f=t),i(t.exports,"unstable_batchedUpdates",()=>m,t=>m=t),i(t.exports,"useFormState",()=>g,t=>g=t),i(t.exports,"useFormStatus",()=>y,t=>y=t),i(t.exports,"version",()=>v,t=>v=t);var n,s,a,o,l,h,c,d,p,f,m,g,y,v,x=u("fYo6y");function b(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)r+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function w(){}var _={d:{f:w,r:function(){throw Error(b(522))},D:w,C:w,L:w,m:w,X:w,S:w,M:w},p:0,findDOMNode:null},C=Symbol.for("react.portal"),S=x.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function E(t,r){return"font"===t?"":"string"==typeof r?"use-credentials"===r?r:"":void 0}n=_,s=function(t,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!r||1!==r.nodeType&&9!==r.nodeType&&11!==r.nodeType)throw Error(b(299));return function(t,r,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==i?null:""+i,children:t,containerInfo:r,implementation:n}}(t,r,null,n)},a=function(t){var r=S.T,n=_.p;try{if(S.T=null,_.p=2,t)return t()}finally{S.T=r,_.p=n,_.d.f()}},o=function(t,r){"string"==typeof t&&(r=r?"string"==typeof(r=r.crossOrigin)?"use-credentials"===r?r:"":void 0:null,_.d.C(t,r))},l=function(t){"string"==typeof t&&_.d.D(t)},h=function(t,r){if("string"==typeof t&&r&&"string"==typeof r.as){var n=r.as,i=E(n,r.crossOrigin),s="string"==typeof r.integrity?r.integrity:void 0,a="string"==typeof r.fetchPriority?r.fetchPriority:void 0;"style"===n?_.d.S(t,"string"==typeof r.precedence?r.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:a}):"script"===n&&_.d.X(t,{crossOrigin:i,integrity:s,fetchPriority:a,nonce:"string"==typeof r.nonce?r.nonce:void 0})}},c=function(t,r){if("string"==typeof t)if("object"==typeof r&&null!==r){if(null==r.as||"script"===r.as){var n=E(r.as,r.crossOrigin);_.d.M(t,{crossOrigin:n,integrity:"string"==typeof r.integrity?r.integrity:void 0,nonce:"string"==typeof r.nonce?r.nonce:void 0})}}else null==r&&_.d.M(t)},d=function(t,r){if("string"==typeof t&&"object"==typeof r&&null!==r&&"string"==typeof r.as){var n=r.as,i=E(n,r.crossOrigin);_.d.L(t,n,{crossOrigin:i,integrity:"string"==typeof r.integrity?r.integrity:void 0,nonce:"string"==typeof r.nonce?r.nonce:void 0,type:"string"==typeof r.type?r.type:void 0,fetchPriority:"string"==typeof r.fetchPriority?r.fetchPriority:void 0,referrerPolicy:"string"==typeof r.referrerPolicy?r.referrerPolicy:void 0,imageSrcSet:"string"==typeof r.imageSrcSet?r.imageSrcSet:void 0,imageSizes:"string"==typeof r.imageSizes?r.imageSizes:void 0,media:"string"==typeof r.media?r.media:void 0})}},p=function(t,r){if("string"==typeof t)if(r){var n=E(r.as,r.crossOrigin);_.d.m(t,{as:"string"==typeof r.as&&"script"!==r.as?r.as:void 0,crossOrigin:n,integrity:"string"==typeof r.integrity?r.integrity:void 0})}else _.d.m(t)},f=function(t){_.d.r(t)},m=function(t,r){return t(r)},g=function(t,r,n){return S.H.useFormState(t,r,n)},y=function(){return S.H.useHostTransitionStatus()},v="19.2.4"});var c={};c=u("59OBb");var d=u("fYo6y"),p={};!function t(){if("u">typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),p=u("bgXWC");var d=(u("fYo6y"),u("fYo6y")),f={},m=function(){let t,r,n,i,s=Math.PI,o="2.2.0",l="webgl",u="webgl2",h="default",c="simple",d="full",p="crosshair",f="pointer",g="move",y="text",v="wait",x=s/2,b=2*s,w=s/180,_=180/s,C="corner",S="corners",E="radius",D="right",A="left",k="center",T="bottom",F="alphabetic",M="quads",I="quad_strip",B="close",P="open",L="chord",N="square",O="butt",R="round",V="bevel",z="miter",U="auto",j="source-over",G="destination-out",$="lighter",H="darken",W="lighten",q="difference",Y="subtract",X="exclusion",K="multiply",Z="screen",Q="copy",J="overlay",ee="hard-light",et="soft-light",er="color-dodge",en="color-burn",ei="threshold",es="gray",ea="opaque",eo="invert",el="posterize",eu="dilate",eh="erode",ec="blur",ed="normal",ep="WORD",ef="linear",em="fill",eg="texture",ey="image",ev="linear_mipmap",ex="nearest",eb="repeat",ew="clamp",e_="mirror",eC="flat",eS="smooth",eE="#000000",eD="#FFFFFF",eA="grid",ek="axes",eT="contain",eF="cover",eM="unsigned-byte",eI="unsigned-int",eB="float",eP="half-float",eL=Symbol("include"),eN=Symbol("exclude"),eO=Symbol("join");var eR=Object.freeze({__proto__:null,ADD:$,ALT:"Alt",ARROW:h,AUTO:U,AXES:ek,BACKSPACE:"Backspace",BASELINE:F,BEVEL:V,BEZIER:"bezier",BLEND:j,BLUR:ec,BOLD:"bold",BOLDITALIC:"bold italic",BOTTOM:T,BURN:en,CENTER:k,CHAR:"CHAR",CHORD:L,CLAMP:ew,CLOSE:B,CONTAIN:eT,CONTROL:"Control",CORNER:C,CORNERS:S,COVER:eF,CROSS:p,CURVE:"curve",DARKEST:H,DEG_TO_RAD:w,DELETE:"Delete",DIFFERENCE:q,DILATE:eu,DODGE:er,DOWN_ARROW:"ArrowDown",EMPTY_PATH:7,ENTER:"Enter",ERODE:eh,ESCAPE:"Escape",EXCLUDE:eN,EXCLUSION:X,FALLBACK:"fallback",FILL:em,FLAT:eC,FLOAT:eB,FULL:d,GRAY:es,GRID:eA,HALF_FLOAT:eP,HALF_PI:x,HAND:f,HARD_LIGHT:ee,IMAGE:ey,IMMEDIATE:"immediate",INCLUDE:eL,INVERT:eo,ITALIC:"italic",JOIN:eO,LABEL:"label",LANDSCAPE:"landscape",LEFT:A,LEFT_ARROW:"ArrowLeft",LIGHTEST:W,LINEAR:ef,LINEAR_MIPMAP:ev,LINES:1,LINE_LOOP:2,LINE_STRIP:3,MIRROR:e_,MITER:z,MOVE:g,MULTIPLY:K,NEAREST:ex,NORMAL:ed,OPAQUE:ea,OPEN:P,OPTION:"Alt",OVERLAY:J,P2D:"p2d",P2DHDR:"p2d-hdr",PATH:8,PI:s,PIE:"pie",POINTS:0,PORTRAIT:"portrait",POSTERIZE:el,PROJECT:N,QUADRATIC:"quadratic",QUADS:M,QUAD_STRIP:I,QUARTER_PI:s/4,RADIUS:E,RAD_TO_DEG:_,REMOVE:G,REPEAT:eb,REPLACE:Q,RETURN:"Enter",RIGHT:D,RIGHT_ARROW:"ArrowRight",ROUND:R,SCREEN:Z,SHIFT:"Shift",SIMPLE:c,SMOOTH:eS,SOFT_LIGHT:et,SQUARE:O,STROKE:"stroke",SUBTRACT:Y,TAB:"Tab",TAU:2*s,TESS:"tess",TEXT:y,TEXTURE:eg,THRESHOLD:ei,TOP:"top",TRIANGLES:4,TRIANGLE_FAN:6,TRIANGLE_STRIP:5,TWO_PI:b,UNSIGNED_BYTE:eM,UNSIGNED_INT:eI,UP_ARROW:"ArrowUp",VERSION:o,WAIT:v,WEBGL:l,WEBGL2:u,WEBGPU:"webgpu",WORD:ep,_CTX_MIDDLE:"middle",_DEFAULT_FILL:eD,_DEFAULT_LEADMULT:1.25,_DEFAULT_STROKE:eE,_DEFAULT_TEXT_FILL:"#000000"});function eV(t,r){r.applyMatrix=function(...t){let r=t[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(t[0])||r?this._renderer.applyMatrix(...t[0]):this._renderer.applyMatrix(...t),this},r.resetMatrix=function(){return this._renderer.resetMatrix(),this},r.rotate=function(t,r){return this._renderer.rotate(this._toRadians(t),r),this},r.rotateX=function(t){return this._assert3d("rotateX"),this._renderer.rotateX(this._toRadians(t)),this},r.rotateY=function(t){return this._assert3d("rotateY"),this._renderer.rotateY(this._toRadians(t)),this},r.rotateZ=function(t){return this._assert3d("rotateZ"),this._renderer.rotateZ(this._toRadians(t)),this},r.scale=function(r,n,i){if(r instanceof t.Vector){let t=r;r=t.x,n=t.y,i=t.z}else if(Array.isArray(r)){let t=r;r=t[0],n=t[1],i=t[2]||1}return isNaN(n)?n=i=r:isNaN(i)&&(i=1),this._renderer.scale(r,n,i),this},r.shearX=function(t){let r=this._toRadians(t);return this._renderer.applyMatrix(1,0,Math.tan(r),1,0,0),this},r.shearY=function(t){let r=this._toRadians(t);return this._renderer.applyMatrix(1,Math.tan(r),0,1,0,0),this},r.translate=function(t,r,n){return this._renderer.isP3D?this._renderer.translate(t,r,n):this._renderer.translate(t,r),this},r.push=function(){this._renderer.push()},r.pop=function(){this._renderer.pop()}}function ez(t,r){r.noLoop=function(){this._loop=!1},r.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},r.isLooping=function(){return this._loop},r.redraw=async function(t){if(this._inUserDraw||!this._setupDone)return;let r=parseInt(t);(isNaN(r)||r<1)&&(r=1);let n=this._isGlobal?window:this;if("function"==typeof n.draw){void 0===n.setup&&n.scale(n._pixelDensity,n._pixelDensity);for(let t=0;t<r;t++){n.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),this._renderer.isP3D&&this._renderer._update(),this.frameCount=n.frameCount+1,await this._runLifecycleHook("predraw"),this._inUserDraw=!0;try{await n.draw()}finally{this._inUserDraw=!1}await this._runLifecycleHook("postdraw")}await this._renderer.finishDraw?.()}}}function eU(t,r,n){let i=[h,p,f,g,y,v];r._frameRate=0,r._lastFrameTime=window.performance.now(),r._targetFrameRate=60;let s=window.print,a=!1;function o(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function l(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}n.presetup=function(){for(let t of["resize"])window.addEventListener(t,this[`_on${t}`].bind(this),{passive:!1,signal:this._removeSignal})},r.print=function(...t){t.length?console.log(...t):a||(s(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(a=!0))},r.frameCount=0,r.deltaTime=0,r.focused=document.hasFocus(),r.cursor=function(t,r,n){let s="auto",a=this._curElement.elt;if(i.includes(t))s=t;else if("string"==typeof t){let i="";"number"==typeof r&&(n="number"==typeof n?n:0,i=`${Math.max(r,0)} ${Math.max(n,0)}`),s="http://"===t.substring(0,7)||"https://"===t.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(t)?`url(${t}) ${i}, auto`:t}a.style.cursor=s},r.frameRate=function(t){return"number"!=typeof t||t<0?this._frameRate:(this._targetFrameRate=t,0===t&&(this._frameRate=t),this)},r.getFrameRate=function(){return this.frameRate()},r.setFrameRate=function(t){return this.frameRate(t)},r.getTargetFrameRate=function(){return this._targetFrameRate},r.noCursor=function(){this._curElement.elt.style.cursor="none"},r.webglVersion="p2d",r.displayWidth=screen.width,r.displayHeight=screen.height,r.windowWidth=0,r.windowHeight=0,r._onresize=function(t){let r;this.windowWidth=o(),this.windowHeight=l(),"function"==typeof this._customActions.windowResized&&(void 0===(r=this._customActions.windowResized(t))||r||t.preventDefault())},r._updateWindowSize=function(){this.windowWidth=o(),this.windowHeight=l()},Object.defineProperty(r,"width",{get(){return this._renderer.width}}),Object.defineProperty(r,"height",{get(){return this._renderer.height}}),r.fullscreen=function(t){if(void 0===t)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;t?function(t){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw Error("Fullscreen not enabled in this browser.");t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}(document.documentElement):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},r.pixelDensity=function(t){let r;return"number"==typeof t?(t!==this._renderer._pixelDensity&&(this._renderer._pixelDensity=t),r=this,this.resizeCanvas(this.width,this.height,!0)):r=this._renderer._pixelDensity,r},r.displayDensity=()=>window.devicePixelRatio,r.getURL=()=>location.href,r.getURLPath=()=>location.pathname.split("/").filter(t=>""!==t),r.getURLParams=function(){let t,r=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,n={};for(;null!=(t=r.exec(location.search));)t.index===r.lastIndex&&r.lastIndex++,n[t[1]]=t[2];return n},r.worldToScreen=function(t){return"number"==typeof t&&(t=this.createVector(...arguments)),this._renderer.getWorldToScreenMatrix().multiplyAndNormalizePoint(t)},r.screenToWorld=function(t){"number"==typeof t&&(t=this.createVector(...arguments));let r=this._renderer.getWorldToScreenMatrix();if(2===t.dimensions){let n=r.mat4[14]/r.mat4[15];t=this.createVector(t.x,t.y,n)}return r.invert(r).multiplyAndNormalizePoint(t)}}function ej(t,r){let n=t.length;Array.isArray(t[0])||(t=[t]),Array.isArray(r[0])||(r=r.map(t=>[t]));let i=r[0].length,s=r[0].map((t,n)=>r.map(t=>t[n])),a=t.map(t=>s.map(r=>{let n=0;if(!Array.isArray(t)){for(let i of r)n+=t*i;return n}for(let i=0;i<t.length;i++)n+=t[i]*(r[i]||0);return n}));return 1===n&&(a=a[0]),1===i?a.map(t=>t[0]):a}function eG(t){return"string"===e$(t)}function e$(t){return(Object.prototype.toString.call(t).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function eH(t,{precision:r,unit:n}){return eW(t)?"none":function(t,r){if(0===t)return 0;let n=~~t,i=0;n&&r&&(i=1+~~Math.log10(Math.abs(n)));let s=10**(r-i);return Math.floor(t*s+.5)/s}(t,r)+(n??"")}function eW(t){return Number.isNaN(t)||t instanceof Number&&t?.none}void 0!==m&&eV(m,m.prototype),void 0!==m&&ez(0,m.prototype),void 0!==m&&eU(0,m.prototype);let eq={deg:1,grad:.9,rad:180/Math.PI,turn:360};function eY(t,r,n){return isNaN(t)?r:isNaN(r)?t:t+(r-t)*n}function eX(t,r,n){var i;return eY(r[0],r[1],(i=t[0],(n-i)/(t[1]-i)))}function eK(t,r){return Math.sign(t)===Math.sign(r)?t:-t}function eZ(t,r){return eK(Math.abs(t)**r,t)}let eQ=new class{add(t,r,n){if("string"==typeof arguments[0])(Array.isArray(t)?t:[t]).forEach(function(t){this[t]=this[t]||[],r&&this[t][n?"unshift":"push"](r)},this);else for(var t in arguments[0])this.add(t,arguments[0][t],arguments[1])}run(t,r){this[t]=this[t]||[],this[t].forEach(function(t){t.call(r&&r.context?r.context:r,r)})}},eJ={D50:[.3457/.3585,1,.2958/.3585],D65:[.3127/.329,1,.3583/.329]};function e0(t){return Array.isArray(t)?t:eJ[t]}function e1(t,r,n,i={}){if(t=e0(t),r=e0(r),!t||!r)throw TypeError(`Missing white point to convert ${t?"":"from"}${t||r?"":"/"}${r?"":"to"}`);if(t===r)return n;let s={W1:t,W2:r,XYZ:n,options:i};if(eQ.run("chromatic-adaptation-start",s),s.M||(s.W1===eJ.D65&&s.W2===eJ.D50?s.M=[[1.0479297925449969,.022946870601609652,-.05019226628920524],[.02962780877005599,.9904344267538799,-.017073799063418826],[-.009243040646204504,.015055191490298152,.7518742814281371]]:s.W1===eJ.D50&&s.W2===eJ.D65&&(s.M=[[.955473421488075,-.02309845494876471,.06325924320057072],[-.0283697093338637,1.0099953980813041,.021041441191917323],[.012314014864481998,-.020507649298898964,1.330365926242124]])),eQ.run("chromatic-adaptation-end",s),s.M)return ej(s.M,s.XYZ);throw TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}var e2={gamut_mapping:"css",precision:5,deltaE:"76",verbose:"test"!==globalThis?.process?.env?.NODE_ENV?.toLowerCase(),warn:function(t){this.verbose&&globalThis?.console?.warn?.(t)}};let e5=new Set(["<number>","<percentage>","<angle>"]);function e3(t,r,n,i){return Object.entries(t.coords).map(([t,s],a)=>{let o,l=r.coordGrammar[a],u=i[a],h=u?.type;if(!(o=u.none?l.find(t=>e5.has(t)):l.find(t=>t==h))){let r=s.name||t;throw TypeError(`${h??u.raw} not allowed for ${r} in ${n}()`)}let c=o.range;"<percentage>"===h&&(c||=[0,1]);let d=s.range||s.refRange;return c&&d&&(i[a]=eX(c,d,i[a])),o})}function e4(t,{meta:r}={}){let n={str:String(t)?.trim()};if(eQ.run("parse-start",n),n.color)return n.color;if(n.parsed=function(t){if(!t)return;t=t.trim();let r=/^-?[\d.]+$/,n=/%|deg|g?rad|turn$/,i=t.match(/^([a-z]+)\((.+?)\)$/i);if(i){let t=[];return i[2].replace(/\/?\s*(none|[-\w.]+(?:%|deg|g?rad|turn)?)/g,(i,s)=>{let a=s.match(n),o=s;if(a){let t=a[0],r=o.slice(0,-t.length);"%"===t?(o=new Number(r/100)).type="<percentage>":((o=new Number(r*eq[t])).type="<angle>",o.unit=t)}else r.test(o)?(o=new Number(o)).type="<number>":"none"===o&&((o=new Number(NaN)).none=!0);i.startsWith("/")&&((o=o instanceof Number?o:new Number(o)).alpha=!0),"object"==typeof o&&o instanceof Number&&(o.raw=s),t.push(o)}),{name:i[1].toLowerCase(),rawName:i[1],rawArgs:i[2],args:t}}}(n.str),n.parsed){let t=n.parsed.name;if("color"===t){let t=n.parsed.args.shift(),i=t.startsWith("--")?t.substring(2):`--${t}`,s=[t,i],a=n.parsed.rawArgs.indexOf("/")>0?n.parsed.args.pop():1;for(let i of e8.all){let o=i.getFormat("color");if(o&&(s.includes(o.id)||o.ids?.filter(t=>s.includes(t)).length)){let s,l=Object.keys(i.coords).map((t,r)=>n.parsed.args[r]||0);return o.coordGrammar&&(s=e3(i,o,"color",l)),r&&Object.assign(r,{formatId:"color",types:s}),o.id.startsWith("--")&&!t.startsWith("--")&&e2.warn(`${i.name} is a non-standard space and not currently supported in the CSS spec. Use prefixed color(${o.id}) instead of color(${t}).`),t.startsWith("--")&&!o.id.startsWith("--")&&e2.warn(`${i.name} is a standard space and supported in the CSS spec. Use color(${o.id}) instead of prefixed color(${t}).`),{spaceId:i.id,coords:l,alpha:a}}}let o="",l=t in e8.registry?t:i;if(l in e8.registry){let t=e8.registry[l].formats?.color?.id;t&&(o=`Did you mean color(${t})?`)}throw TypeError(`Cannot parse color(${t}). `+(o||"Missing a plugin?"))}for(let s of e8.all){let a=s.getFormat(t);if(a&&"function"===a.type){var i;let o=1;(a.lastAlpha||(i=n.parsed.args)[i.length-1].alpha)&&(o=n.parsed.args.pop());let l,u=n.parsed.args;return a.coordGrammar&&(l=e3(s,a,t,u)),r&&Object.assign(r,{formatId:a.name,types:l}),{spaceId:s.id,coords:u,alpha:o}}}}else for(let t of e8.all)for(let i in t.formats){let s=t.formats[i];if("custom"!==s.type||s.test&&!s.test(n.str))continue;let a=s.parse(n.str);if(a)return a.alpha??=1,r&&(r.formatId=i),a}throw TypeError(`Could not parse ${t} as a color. Missing a plugin?`)}function e6(t){if(Array.isArray(t))return t.map(e6);if(!t)throw TypeError("Empty color reference");eG(t)&&(t=e4(t));let r=t.space||t.spaceId;return r instanceof e8||(t.space=e8.get(r)),void 0===t.alpha&&(t.alpha=1),t}class e8{constructor(t){this.id=t.id,this.name=t.name,this.base=t.base?e8.get(t.base):null,this.aliases=t.aliases,this.base&&(this.fromBase=t.fromBase,this.toBase=t.toBase);let r=t.coords??this.base.coords;for(let t in r)"name"in r[t]||(r[t].name=t);this.coords=r;let n=t.white??this.base.white??"D65";for(let r in this.white=e0(n),this.formats=t.formats??{},this.formats){let t=this.formats[r];t.type||="function",t.name||=r}this.formats.color?.id||(this.formats.color={...this.formats.color??{},id:t.cssId||this.id}),t.gamutSpace?this.gamutSpace="self"===t.gamutSpace?this:e8.get(t.gamutSpace):this.isPolar?this.gamutSpace=this.base:this.gamutSpace=this,this.gamutSpace.isUnbounded&&(this.inGamut=(t,r)=>!0),this.referred=t.referred,Object.defineProperty(this,"path",{value:(function(t){let r=[t];for(let n=t;n=n.base;)r.push(n);return r})(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),eQ.run("colorspace-init-end",this)}inGamut(t,{epsilon:r=75e-6}={}){if(!this.equals(this.gamutSpace))return t=this.to(this.gamutSpace,t),this.gamutSpace.inGamut(t,{epsilon:r});let n=Object.values(this.coords);return t.every((t,i)=>{let s=n[i];if("angle"!==s.type&&s.range){if(Number.isNaN(t))return!0;let[n,i]=s.range;return(void 0===n||t>=n-r)&&(void 0===i||t<=i+r)}return!0})}get isUnbounded(){return Object.values(this.coords).every(t=>!("range"in t))}get cssId(){return this.formats?.color?.id||this.id}get isPolar(){for(let t in this.coords)if("angle"===this.coords[t].type)return!0;return!1}getFormat(t){let r;return"object"==typeof t?t=e9(t,this):(r="default"===t?Object.values(this.formats)[0]:this.formats[t])?r=e9(r,this):null}equals(t){return!!t&&(this===t||this.id===t||this.id===t.id)}to(t,r){if(1==arguments.length){let n=e6(t);[t,r]=[n.space,n.coords]}if(t=e8.get(t),this.equals(t))return r;r=r.map(t=>Number.isNaN(t)?0:t);let n,i,s=this.path,a=t.path;for(let t=0;t<s.length&&s[t].equals(a[t]);t++)n=s[t],i=t;if(!n)throw Error(`Cannot convert between color spaces ${this} and ${t}: no connection space was found`);for(let t=s.length-1;t>i;t--)r=s[t].toBase(r);for(let t=i+1;t<a.length;t++)r=a[t].fromBase(r);return r}from(t,r){if(1==arguments.length){let n=e6(t);[t,r]=[n.space,n.coords]}return(t=e8.get(t)).to(this,r)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let t=[];for(let r in this.coords){let n=this.coords[r],i=n.range||n.refRange;t.push(i?.min??0)}return t}static registry={};static get all(){return[...new Set(Object.values(e8.registry))]}static register(t,r){if(1==arguments.length&&(t=(r=arguments[0]).id),r=this.get(r),this.registry[t]&&this.registry[t]!==r)throw Error(`Duplicate color space registration: '${t}'`);if(this.registry[t]=r,1==arguments.length&&r.aliases)for(let t of r.aliases)this.register(t,r);return r}static get(t,...r){if(!t||t instanceof e8)return t;if("string"===e$(t)){let r=e8.registry[t.toLowerCase()];if(!r)throw TypeError(`No color space found with id = "${t}"`);return r}if(r.length)return e8.get(...r);throw TypeError(`${t} is not a valid color space`)}static resolveCoord(t,r){let n,i,s=e$(t);if("string"===s?t.includes(".")?[n,i]=t.split("."):[n,i]=[,t]:Array.isArray(t)?[n,i]=t:(n=t.space,i=t.coordId),(n=e8.get(n))||(n=r),!n)throw TypeError(`Cannot resolve coordinate reference ${t}: No color space specified and relative references are not allowed here`);if("number"===(s=e$(i))||"string"===s&&i>=0){let t=Object.entries(n.coords)[i];if(t)return{space:n,id:t[0],index:i,...t[1]}}n=e8.get(n);let a=i.toLowerCase(),o=0;for(let t in n.coords){let r=n.coords[t];if(t.toLowerCase()===a||r.name?.toLowerCase()===a)return{space:n,id:t,index:o,...r};o++}throw TypeError(`No "${i}" coordinate found in ${n.name}. Its coordinates are: ${Object.keys(n.coords).join(", ")}`)}static DEFAULT_FORMAT={type:"functions",name:"color"}}function e9(t,{coords:r}={}){if(t.coords&&!t.coordGrammar){t.type||="function",t.name||="color",t.coordGrammar=t.coords.map(t=>t.split("|").map(t=>{let r=(t=t.trim()).match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(r){let t=new String(r[1]);return t.range=[+r[2],+r[3]],t}return t}));let n=Object.entries(r).map(([r,n],i)=>{let s=t.coordGrammar[i][0],a=n.range||n.refRange,o=s.range,l="";return"<percentage>"==s?(o=[0,100],l="%"):"<angle>"==s&&(l="deg"),{fromRange:a,toRange:o,suffix:l}});t.serializeCoords=(t,r)=>t.map((t,i)=>{let{fromRange:s,toRange:a,suffix:o}=n[i];return s&&a&&(t=eX(s,a,t)),t=eH(t,{precision:r,unit:o})})}return t}var e7=new e8({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]});class te extends e8{constructor(t){t.coords||(t.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),t.base||(t.base=e7),t.toXYZ_M&&t.fromXYZ_M&&(t.toBase??=r=>{let n=ej(t.toXYZ_M,r);return this.white!==this.base.white&&(n=e1(this.white,this.base.white,n)),n},t.fromBase??=r=>(r=e1(this.base.white,this.white,r),ej(t.fromXYZ_M,r))),t.referred??="display",super(t)}}function tt(t,r){return t=e6(t),!r||t.space.equals(r)?t.coords.slice():(r=e8.get(r)).from(t)}function tr(t,r){t=e6(t);let{space:n,index:i}=e8.resolveCoord(r,t.space);return tt(t,n)[i]}function tn(t,r,n){return t=e6(t),r=e8.get(r),t.coords=r.to(t.space,n),t}function ti(t,r,n){if(t=e6(t),2==arguments.length&&"object"===e$(arguments[1])){let r=arguments[1];for(let n in r)ti(t,n,r[n])}else{"function"==typeof n&&(n=n(tr(t,r)));let{space:i,index:s}=e8.resolveCoord(r,t.space),a=tt(t,i);a[s]=n,tn(t,i,a)}return t}tn.returns="color",ti.returns="color";var ts=new e8({id:"xyz-d50",name:"XYZ D50",white:"D50",base:e7,fromBase:t=>e1(e7.white,"D50",t),toBase:t=>e1("D50",e7.white,t)});let ta=216/24389,to=24/116,tl=24389/27,tu=eJ.D50;var th=new e8({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:tu,base:ts,fromBase(t){let r=t.map((t,r)=>t/tu[r]).map(t=>t>ta?Math.cbrt(t):(tl*t+16)/116);return[116*r[1]-16,500*(r[0]-r[1]),200*(r[1]-r[2])]},toBase(t){let r=[];return r[1]=(t[0]+16)/116,r[0]=t[1]/500+r[1],r[2]=r[1]-t[2]/200,[r[0]>to?Math.pow(r[0],3):(116*r[0]-16)/tl,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/tl,r[2]>to?Math.pow(r[2],3):(116*r[2]-16)/tl].map((t,r)=>t*tu[r])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function tc(t){return(t%360+360)%360}var td=new e8({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:th,fromBase(t){let r,[n,i,s]=t;return r=.02>Math.abs(i)&&.02>Math.abs(s)?NaN:180*Math.atan2(s,i)/Math.PI,[n,Math.sqrt(i**2+s**2),tc(r)]},toBase(t){let[r,n,i]=t;return n<0&&(n=0),isNaN(i)&&(i=0),[r,n*Math.cos(i*Math.PI/180),n*Math.sin(i*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}});let tp=Math.PI,tf=180/tp,tm=tp/180;function tg(t){let r=t*t;return r*r*r*t}function ty(t,r,{kL:n=1,kC:i=1,kH:s=1}={}){[t,r]=e6([t,r]);let[a,o,l]=th.from(t),u=td.from(th,[a,o,l])[1],[h,c,d]=th.from(r),p=td.from(th,[h,c,d])[1];u<0&&(u=0),p<0&&(p=0);let f=tg((u+p)/2),m=.5*(1-Math.sqrt(f/(f+0x16bcc41e9))),g=(1+m)*o,y=(1+m)*c,v=Math.sqrt(g**2+l**2),x=Math.sqrt(y**2+d**2),b=0===g&&0===l?0:Math.atan2(l,g),w=0===y&&0===d?0:Math.atan2(d,y);b<0&&(b+=2*tp),w<0&&(w+=2*tp),b*=tf;let _,C=h-a,S=x-v,E=(w*=tf)-b,D=b+w,A=Math.abs(E);v*x==0?_=0:A<=180?_=E:E>180?_=E-360:E<-180?_=E+360:e2.warn("the unthinkable has happened");let k,T=2*Math.sqrt(x*v)*Math.sin(_*tm/2),F=(a+h)/2,M=(v+x)/2,I=tg(M),B=(F-50)**2,P=1+.015*B/Math.sqrt(20+B),L=1+.045*M,N,O=1+.015*M*(N=1-.17*Math.cos(((k=v*x==0?D:A<=180?D/2:D<360?(D+360)/2:(D-360)/2)-30)*tm)+(.24*Math.cos(2*k*tm)+.32*Math.cos((3*k+6)*tm))-.2*Math.cos((4*k-63)*tm)),R=(C/(n*P))**2;return Math.sqrt(R+=(S/(i*L))**2+(T/(s*O))**2+-1*Math.sin(2*(30*Math.exp(-1*((k-275)/25)**2))*tm)*(2*Math.sqrt(I/(I+0x16bcc41e9)))*(S/(i*L))*(T/(s*O)))}let tv=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],tx=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],tb=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],tw=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]];var t_=new e8({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"Lightness"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:e7,fromBase(t){let r=ej(tv,t).map(t=>Math.cbrt(t));return ej(tb,r)},toBase(t){let r=ej(tw,t).map(t=>t**3);return ej(tx,r)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function tC(t,r){[t,r]=e6([t,r]);let[n,i,s]=t_.from(t),[a,o,l]=t_.from(r);return Math.sqrt((n-a)**2+(i-o)**2+(s-l)**2)}function tS(t,r,{epsilon:n=75e-6}={}){t=e6(t),r||(r=t.space),r=e8.get(r);let i=t.coords;return r!==t.space&&(i=r.from(t)),r.inGamut(i,{epsilon:n})}function tE(t){return{space:t.space,coords:t.coords.slice(),alpha:t.alpha}}let tD=Math.PI/180;var tA=new e8({id:"xyz-abs-d65",cssId:"--xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:e7,fromBase:t=>t.map(t=>Math.max(203*t,0)),toBase:t=>t.map(t=>Math.max(t/203,0))});let tk=2610/16384,tT=16384/2610,tF=2413/128,tM=1.7*2523/32,tI=32/(1.7*2523),tB=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],tP=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],tL=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],tN=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]];var tO=new e8({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:tA,fromBase(t){let[r,n,i]=t,s=ej(tB,[1.15*r-(1.15-1)*i,.66*n-(.66-1)*r,i]).map(function(t){return((.8359375+tF*(t/1e4)**tk)/(1+18.6875*(t/1e4)**tk))**tM}),[a,o,l]=ej(tL,s);return[.43999999999999995*a/(1+-.56*a)-16295499532821565e-27,o,l]},toBase(t){let[r,n,i]=t,s=ej(tN,[(r+16295499532821565e-27)/(.43999999999999995- -.56*(r+16295499532821565e-27)),n,i]).map(function(t){return 1e4*((.8359375-t**tI)/(18.6875*t**tI-tF))**tT}),[a,o,l]=ej(tP,s),u=(a+(1.15-1)*l)/1.15;return[u,(o+(.66-1)*u)/.66,l]},formats:{color:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),tR=new e8({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:tO,fromBase(t){let r,[n,i,s]=t;return r=2e-4>Math.abs(i)&&2e-4>Math.abs(s)?NaN:180*Math.atan2(s,i)/Math.PI,[n,Math.sqrt(i**2+s**2),tc(r)]},toBase:t=>[t[0],t[1]*Math.cos(t[2]*Math.PI/180),t[1]*Math.sin(t[2]*Math.PI/180)]});let tV=2413/128,tz=2610/16384,tU=2523/32,tj=16384/2610,tG=32/2523,t$=[[.3592832590121217,.6976051147779502,-.035891593232029],[-.1920808463704993,1.100476797037432,.0753748658519118],[.0070797844607479,.0748396662186362,.8433265453898765]],tH=[[.5,.5,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],tW=[[.9999999999999998,.0086090370379328,.111029625003026],[.9999999999999998,-.0086090370379328,-.1110296250030259],[.9999999999999998,.5600313357106791,-.3206271749873188]],tq=[[2.0701522183894223,-1.3263473389671563,.2066510476294053],[.3647385209748072,.6805660249472273,-.0453045459220347],[-.0497472075358123,-.0492609666966131,1.1880659249923042]];var tY=new e8({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:tA,fromBase:t=>{var r;return r=ej(t$,t),ej(tH,r.map(function(t){return((.8359375+tV*(t/1e4)**tz)/(1+18.6875*(t/1e4)**tz))**tU}))},toBase(t){let r=ej(tW,t).map(function(t){return 1e4*(Math.max(t**tG-.8359375,0)/(tV-18.6875*t**tG))**tj});return ej(tq,r)}});let tX=eJ.D65,tK=1/.42,tZ=2*Math.PI,tQ=[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],tJ=[[1.8620678550872327,-1.0112546305316843,.14918677544445175],[.38752654323613717,.6214474419314753,-.008973985167612518],[-.015841498849333856,-.03412293802851557,1.0499644368778496]],t0=[[460,451,288],[460,-891,-261],[460,-220,-6300]],t1={dark:[.8,.525,.8],dim:[.9,.59,.9],average:[1,.69,1]},t2=[20.14,90,164.25,237.53,380.14],t5=[.8,.7,1,1.2,.8],t3=[0,100,200,300,400],t4=180/Math.PI,t6=Math.PI/180;function t8(t,r){return t.map(t=>{let n=eZ(r*Math.abs(t)*.01,.42);return 400*eK(n,t)/(n+27.13)})}function t9(t,r,n,i,s){let a={};a.discounting=s,a.refWhite=t,a.surround=i;let o=t.map(t=>100*t);a.la=r,a.yb=n;let l=o[1],u=ej(tQ,o),h=(i=t1[a.surround])[0];a.c=i[1],a.nc=i[2];let c=(1/(5*a.la+1))**4;a.fl=c*a.la+.1*(1-c)*(1-c)*Math.cbrt(5*a.la),a.flRoot=a.fl**.25,a.n=a.yb/l,a.z=1.48+Math.sqrt(a.n),a.nbb=.725*a.n**-.2,a.ncb=a.nbb;let d=Math.max(Math.min(h*(1-1/3.6*Math.exp((-a.la-42)/92)),1),0);a.dRgb=u.map(t=>eY(1,l/t,d)),a.dRgbInv=a.dRgb.map(t=>1/t);let p=t8(u.map((t,r)=>t*a.dRgb[r]),a.fl);return a.aW=a.nbb*(2*p[0]+p[1]+.05*p[2]),a}let t7=t9(tX,64/Math.PI*.2,20,"average",!1);function re(t,r){var n,i;let s;if(!(void 0!==t.J^void 0!==t.Q))throw Error("Conversion requires one and only one: 'J' or 'Q'");if(!(void 0!==t.C^void 0!==t.M^void 0!==t.s))throw Error("Conversion requires one and only one: 'C', 'M' or 's'");if(!(void 0!==t.h^void 0!==t.H))throw Error("Conversion requires one and only one: 'h' or 'H'");if(0===t.J||0===t.Q)return[0,0,0];let a=0,o=Math.cos(a=void 0!==t.h?tc(t.h)*t6:function(t){let r=(t%400+400)%400,n=Math.floor(.01*r);r%=100;let[i,s]=t2.slice(n,n+2),[a,o]=t5.slice(n,n+2);return tc((r*(o*i-a*s)-100*i*o)/(r*(o-a)-100*o))}(t.H)*t6),l=Math.sin(a),u=0;void 0!==t.J?u=.1*eZ(t.J,.5):void 0!==t.Q&&(u=.25*r.c*t.Q/((r.aW+4)*r.flRoot));let h=0;void 0!==t.C?h=t.C/u:void 0!==t.M?h=t.M/r.flRoot/u:void 0!==t.s&&(h=4e-4*t.s**2*(r.aW+4)/r.c);let c=eZ(h*Math.pow(1.64-Math.pow(.29,r.n),-.73),10/9),d=.25*(Math.cos(a+2)+3.8),p=r.aW*eZ(u,2/r.c/r.z),f=5e4/13*r.nc*r.ncb*d,m=p/r.nbb,g=23*(m+.305)*(0==(n=23*f+c*(11*o+108*l))?0:c/n),y=(i=ej(t0,[m,g*o,g*l]).map(t=>t/1403),s=100/r.fl*2588.068098016295,i.map(t=>{let r=Math.abs(t);return eK(s*eZ(r/(400-r),tK),t)}));return ej(tJ,y.map((t,n)=>t*r.dRgbInv[n])).map(t=>t/100)}function rt(t,r){var n,i;let s=t8(ej(tQ,t.map(t=>100*t)).map((t,n)=>t*r.dRgb[n]),r.fl),a=s[0]+(-12*s[1]+s[2])/11,o=(s[0]+s[1]-2*s[2])/9,l=(Math.atan2(o,a)%tZ+tZ)%tZ,u=.25*(Math.cos(l+2)+3.8),h=eZ(5e4/13*r.nc*r.ncb*(n=u*Math.sqrt(a**2+o**2),0===(i=s[0]+s[1]+1.05*s[2]+.305)?0:n/i),.9)*Math.pow(1.64-Math.pow(.29,r.n),.73),c=eZ(r.nbb*(2*s[0]+s[1]+.05*s[2])/r.aW,.5*r.c*r.z),d=100*eZ(c,2),p=4/r.c*c*(r.aW+4)*r.flRoot,f=h*c,m=f*r.flRoot,g=tc(l*t4),y=function(t){let r=tc(t);r<=t2[0]&&(r+=360);let n=function(t,r,n=0,i=t.length){for(;n<i;){let s=n+i>>1;t[s]<r?n=s+1:i=s}return n}(t2,r)-1,[i,s]=t2.slice(n,n+2),[a,o]=t5.slice(n,n+2),l=(r-i)/a;return t3[n]+100*l/(l+(s-r)/o)}(g);return{J:d,C:f,h:g,s:50*eZ(r.c*h/(r.aW+4),.5),Q:p,M:m,H:y}}new e8({id:"cam16-jmh",cssId:"--cam16-jmh",name:"CAM16-JMh",coords:{j:{refRange:[0,100],name:"J"},m:{refRange:[0,105],name:"Colorfulness"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:e7,fromBase(t){let r=rt(t,t7);return[r.J,r.M,r.h]},toBase:t=>re({J:t[0],M:t[1],h:t[2]},t7)});let rr=216/24389,rn=24389/27;function ri(t){return t>8?Math.pow((t+16)/116,3):t/rn}let rs=t9(eJ.D65,200/Math.PI*ri(50),100*ri(50),"average",!1);var ra=new e8({id:"hct",name:"HCT",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},c:{refRange:[0,145],name:"Colorfulness"},t:{refRange:[0,100],name:"Tone"}},base:e7,fromBase:t=>(function(t){var r;let n=116*((r=t[1])>rr?Math.cbrt(r):(rn*r+16)/116)-16;if(0===n)return[0,0,0];let i=rt(t,rs);return[tc(i.h),i.C,n]})(t),toBase:t=>(function(t,r){let[n,i,s]=t,a=[],o=0;if(0===s)return[0,0,0];let l=ri(s);o=s>0?.00379058511492914*s**2+.608983189401032*s+.9155088574762233:9514440756550361e-21*s**2+.08693057439788597*s-21.928975842194614;let u=0,h=1/0;for(;u<=15;){let t=Math.abs((a=re({J:o,C:i,h:n},r))[1]-l);if(t<h){if(t<=2e-12)return a;h=t}o-=(a[1]-l)*o/(2*a[1]),u+=1}return re({J:o,C:i,h:n},r)})(t,rs),formats:{color:{id:"--hct",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});let ro=Math.PI/180;function rl(t){t[1]<0&&(t=ra.fromBase(ra.toBase(t)));let r=Math.log(Math.max(1+.0228*t[1]*rs.flRoot,1))/.0228,n=t[0]*ro,i=r*Math.cos(n),s=r*Math.sin(n);return[t[2],i,s]}var ru={deltaE76:function(t,r){return function(t,r,n="lab"){let i=(n=e8.get(n)).from(t),s=n.from(r);return Math.sqrt(i.reduce((t,r,n)=>{let i=s[n];return isNaN(r)||isNaN(i)?t:t+(i-r)**2},0))}(t,r,"lab")},deltaECMC:function(t,r,{l:n=2,c:i=1}={}){[t,r]=e6([t,r]);let[s,a,o]=th.from(t),[,l,u]=td.from(th,[s,a,o]),[h,c,d]=th.from(r),p=td.from(th,[h,c,d])[1];l<0&&(l=0),p<0&&(p=0);let f=s-h,m=l-p,g=(a-c)**2+(o-d)**2-m**2,y=.511;s>=16&&(y=.040975*s/(1+.01765*s));let v=.0638*l/(1+.0131*l)+.638;Number.isNaN(u)&&(u=0);let x=Math.pow(l,4),b=Math.sqrt(x/(x+1900)),w=(f/(n*y))**2;return Math.sqrt(w+=(m/(i*v))**2+g/(v*(b*(u>=164&&u<=345?.56+Math.abs(.2*Math.cos((u+168)*tD)):.36+Math.abs(.4*Math.cos((u+35)*tD)))+1-b))**2)},deltaE2000:ty,deltaEJz:function(t,r){[t,r]=e6([t,r]);let[n,i,s]=tR.from(t),[a,o,l]=tR.from(r);Number.isNaN(s)&&Number.isNaN(l)?(s=0,l=0):Number.isNaN(s)?s=l:Number.isNaN(l)&&(l=s);let u=2*Math.sqrt(i*o)*Math.sin((s-l)/2*(Math.PI/180));return Math.sqrt((n-a)**2+(i-o)**2+u**2)},deltaEITP:function(t,r){[t,r]=e6([t,r]);let[n,i,s]=tY.from(t),[a,o,l]=tY.from(r);return 720*Math.sqrt((n-a)**2+.25*(i-o)**2+(s-l)**2)},deltaEOK:tC,deltaEHCT:function(t,r){[t,r]=e6([t,r]);let[n,i,s]=rl(ra.from(t)),[a,o,l]=rl(ra.from(r));return Math.sqrt((n-a)**2+(i-o)**2+(s-l)**2)}};let rh={hct:{method:"hct.c",jnd:2,deltaEMethod:"hct",blackWhiteClamp:{}},"hct-tonal":{method:"hct.c",jnd:0,deltaEMethod:"hct",blackWhiteClamp:{channel:"hct.t",min:0,max:100}}};function rc(t,{method:r=e2.gamut_mapping,space:n,deltaEMethod:i="",jnd:s=2,blackWhiteClamp:a={}}={}){let o;if(t=e6(t),eG(arguments[1])?n=arguments[1]:n||(n=t.space),tS(t,n=e8.get(n),{epsilon:0}))return t;if("css"===r)o=function(t,{space:r}={}){t=e6(t),r||(r=t.space),r=e8.get(r);let n=e8.get("oklch");if(r.isUnbounded)return rp(t,r);let i=rp(t,n),s=i.coords[0];if(s>=1){let n=rp(rd.WHITE,r);return n.alpha=t.alpha,rp(n,r)}if(s<=0){let n=rp(rd.BLACK,r);return n.alpha=t.alpha,rp(n,r)}if(tS(i,r,{epsilon:0}))return rp(i,r);function a(t){let n=rp(t,r),i=Object.values(r.coords);return n.coords=n.coords.map((t,r)=>{if("range"in i[r]){let[n,s]=i[r].range;return Math.max(Math.min(s,t),n)}return t}),n}let o=0,l=i.coords[1],u=!0,h=tE(i),c=a(h),d=tC(c,h);if(d<.02)return c;for(;l-o>1e-4;){let t=(o+l)/2;if(h.coords[1]=t,u&&tS(h,r,{epsilon:0}))o=t;else if((d=tC(c=a(h),h))<.02){if(.02-d<1e-4)break;u=!1,o=t}else l=t}return c}(t,{space:n});else{if("clip"===r||tS(t,n))o=rp(t,n);else{Object.prototype.hasOwnProperty.call(rh,r)&&({method:r,jnd:s,deltaEMethod:i,blackWhiteClamp:a}=rh[r]);let u=ty;if(""!==i){for(let t in ru)if("deltae"+i.toLowerCase()===t.toLowerCase()){u=ru[t];break}}let h=rc(rp(t,n),{method:"clip",space:n});if(u(t,h)>s){var l;if(3===Object.keys(a).length){let r=e8.resolveCoord(a.channel),n=tr(rp(t,r.space),r.id);if(eW(n)&&(n=0),n>=a.max)return rp({space:"xyz-d65",coords:eJ.D65},t.space);if(n<=a.min)return rp({space:"xyz-d65",coords:[0,0,0]},t.space)}let i=e8.resolveCoord(r),h=i.space,c=i.id,d=rp(t,h);d.coords.forEach((t,r)=>{eW(t)&&(d.coords[r]=0)});let p=(i.range||i.refRange)[0],f=Math.max(parseFloat("1e"+(((l=s)?Math.floor(Math.log10(Math.abs(l))):0)-2)),1e-6),m=p,g=tr(d,c);for(;g-m>f;){let t=tE(d);u(d,t=rc(t,{space:n,method:"clip"}))-s<f?m=tr(d,c):g=tr(d,c),ti(d,c,(m+g)/2)}o=rp(d,n)}else o=h}if("clip"===r||!tS(o,n,{epsilon:0})){let t=Object.values(n.coords).map(t=>t.range||[]);o.coords=o.coords.map((r,n)=>{let[i,s]=t[n];return void 0!==i&&(r=Math.max(i,r)),void 0!==s&&(r=Math.min(r,s)),r})}}return n!==t.space&&(o=rp(o,t.space)),t.coords=o.coords,t}rc.returns="color";let rd={WHITE:{space:t_,coords:[1,0,0]},BLACK:{space:t_,coords:[0,0,0]}};function rp(t,r,{inGamut:n}={}){t=e6(t);let i=(r=e8.get(r)).from(t),s={space:r,coords:i,alpha:t.alpha};return n&&(s=rc(s,!0===n?void 0:n)),s}rp.returns="color";var rf=new te({id:"p3-linear",cssId:"--display-p3-linear",name:"Linear P3",white:"D65",toXYZ_M:[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],fromXYZ_M:[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]]}),rm=new te({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],fromXYZ_M:[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]]}),rg={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[.6,50/255,.8],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,.6],lightslategrey:[119/255,136/255,.6],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[.4,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,.8],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[.4,.2,.6],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]};let ry=[,,,].fill("<percentage> | <number>[0, 255]"),rv=[,,,].fill("<number>[0, 255]");var rx=new te({id:"srgb",name:"sRGB",base:rm,fromBase:t=>t.map(t=>{let r=t<0?-1:1,n=t*r;return n>.0031308?r*(1.055*n**(1/2.4)-.055):12.92*t}),toBase:t=>t.map(t=>{let r=t<0?-1:1,n=t*r;return n<=.04045?t/12.92:r*((n+.055)/1.055)**2.4}),formats:{rgb:{coords:ry},rgb_number:{name:"rgb",commas:!0,coords:rv,noAlpha:!0},color:{},rgba:{coords:ry,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:rv},hex:{type:"custom",toGamut:!0,test:t=>/^#([a-f0-9]{3,4}){1,2}$/i.test(t),parse(t){t.length<=5&&(t=t.replace(/[a-f0-9]/gi,"$&$&"));let r=[];return t.replace(/[a-f0-9]{2}/gi,t=>{r.push(parseInt(t,16)/255)}),{spaceId:"srgb",coords:r.slice(0,3),alpha:r.slice(3)[0]}},serialize:(t,r,{collapse:n=!0}={})=>{r<1&&t.push(r),t=t.map(t=>Math.round(255*t));let i=n&&t.every(t=>t%17==0);return"#"+t.map(t=>i?(t/17).toString(16):t.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:t=>/^[a-z]+$/i.test(t),parse(t){let r={spaceId:"srgb",coords:null,alpha:1};if("transparent"===(t=t.toLowerCase())?(r.coords=rg.black,r.alpha=0):r.coords=rg[t],r.coords)return r}}}}),rb=new te({id:"p3",cssId:"display-p3",name:"P3",base:rf,fromBase:rx.fromBase,toBase:rx.toBase});function rw(t){return tr(t,[e7,"y"])}function r_(t,r){t=e6(t),r=e6(r);let n=Math.max(rw(t),0),i=Math.max(rw(r),0);return i>n&&([n,i]=[i,n]),(n+.05)/(i+.05)}function rC(t){return t>=.022?t:t+(.022-t)**1.414}function rS(t){let r=Math.abs(t);return(t<0?-1:1)*Math.pow(r,2.4)}function rE(t,r){let n,i,s,a;r=e6(r),t=e6(t),r=rp(r,"srgb"),[i,s,a]=r.coords;let o=.2126729*rS(i)+.7151522*rS(s)+.072175*rS(a);t=rp(t,"srgb"),[i,s,a]=t.coords;let l=.2126729*rS(i)+.7151522*rS(s)+.072175*rS(a),u=rC(o),h=rC(l);return 100*(.1>Math.abs(n=5e-4>Math.abs(h-u)?0:h>u?1.14*(h**.56-u**.57):1.14*(h**.65-u**.62))?0:n>0?n-.027:n+.027)}e2.interpolationSpace="lab";var rD=new e8({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:rx,fromBase:t=>{let r=Math.max(...t),n=Math.min(...t),[i,s,a]=t,[o,l,u]=[NaN,0,(n+r)/2],h=r-n;if(0!==h){switch(l=0===u||1===u?0:(r-u)/Math.min(u,1-u),r){case i:o=(s-a)/h+6*(s<a);break;case s:o=(a-i)/h+2;break;case a:o=(i-s)/h+4}o*=60}return l<0&&(o+=180,l=Math.abs(l)),o>=360&&(o-=360),[o,100*l,100*u]},toBase:t=>{let[r,n,i]=t;function s(t){let s=(t+r/30)%12,a=n*Math.min(i,1-i);return i-a*Math.max(-1,Math.min(s-3,9-s,1))}return(r%=360)<0&&(r+=360),n/=100,i/=100,[s(0),s(8),s(4)]},formats:{hsl:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),rA=new e8({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:rD,fromBase(t){let[r,n,i]=t,s=(i/=100)+(n/=100)*Math.min(i,1-i);return[r,0===s?0:200*(1-i/s),100*s]},toBase(t){let[r,n,i]=t,s=(i/=100)*(1-(n/=100)/2);return[r,0===s||1===s?0:(i-s)/Math.min(s,1-s)*100,100*s]},formats:{color:{id:"--hsv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),rk=new e8({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:rA,fromBase(t){let[r,n,i]=t;return[r,i*(100-n)/100,100-i]},toBase(t){let[r,n,i]=t,s=(n/=100)+(i/=100);if(s>=1)return[r,0,n/s*100];let a=1-i;return[r,100*(0===a?0:1-n/a),100*a]},formats:{hwb:{coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),rT=new e8({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:t_,fromBase(t){let r,[n,i,s]=t;return r=2e-4>Math.abs(i)&&2e-4>Math.abs(s)?NaN:180*Math.atan2(s,i)/Math.PI,[n,Math.sqrt(i**2+s**2),tc(r)]},toBase(t){let r,n,[i,s,a]=t;return isNaN(a)?(r=0,n=0):(r=s*Math.cos(a*Math.PI/180),n=s*Math.sin(a*Math.PI/180)),[i,r,n]},formats:{oklch:{coords:["<percentage> | <number>","<number> | <percentage>[0,1]","<number> | <angle>"]}}}),rF=new e8({id:"hsb",name:"HSB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},b:{range:[0,100],name:"Brightness"}},base:rx,fromBase:t=>{let r=Math.max(...t),n=r-Math.min(...t),i,s,[a,o,l]=t;return 0===n?(i=0,s=0):(s=n/r,a===r?i=(o-l)/n:o===r?i=2+(l-a)/n:l===r&&(i=4+(a-o)/n),i<0?i+=6:i>=6&&(i-=6)),[i/6*360,100*s,100*r]},toBase:rM,formats:{default:{type:"custom",serialize:(t,r)=>{let n=rM(t),i=`rgb(${Math.round(100*n[0]*100)/100}% ${Math.round(100*n[1]*100)/100}% ${Math.round(100*n[2]*100)/100}%`;return r<1&&(i+=` / ${r}`),i+=")"}},hsb:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsba:{coords:["<number> | <angle>","<percentage>","<percentage>"],commans:!0,lastAlpha:!0}}});function rM(t){let r=t[0]/360*6,n=t[1]/100,i=t[2]/100,s=[];if(0===n)s=[i,i,i];else{let t,a,o,l=Math.floor(r),u=i*(1-n),h=i*(1-n*(r-l)),c=i*(1-n*(1+l-r));1===l?(t=h,a=i,o=u):2===l?(t=u,a=i,o=c):3===l?(t=u,a=h,o=i):4===l?(t=c,a=u,o=i):5===l?(t=i,a=u,o=h):(t=i,a=c,o=u),s=[t,a,o]}return s}let rI=(t,r,n,i,s,a)=>{let o=(t-r)/(n-r)*(s-i)+i;return a&&(o=Math.min(o=Math.max(o,Math.min(i,s)),Math.max(i,s))),o},rB={};class rP{_color;mode;static colorMap={};static #e={};static #t={};static addColorMode(t,r){e8.register(r),rP.colorMap[t]=r.id,rP.#e[t]=Object.values(r.coords).reduce((t,r)=>(t.push(r.refRange||r.range),t),[]),rP.#e[t].push([0,1]),rP.#t[t]=r.fromGray}constructor(t,r,n,{clamp:i=!1}={}){if(this.mode=r||rN,t instanceof rP){let n=r?rP.colorMap[r]:rP.colorMap[t.mode];this._color=rp(t._color,n),this.mode=n}else if("object"!=typeof t||Array.isArray(t)||null===t)if("string"==typeof t[0])try{this._color=e4(t[0]);let[r]=Object.entries(rP.colorMap).find(([t,r])=>r===this._color.spaceId);this.mode=r,this._color=rp(this._color,this._color.spaceId)}catch(t){throw Error("Invalid color string")}else{let r;if(n)if(4===t.length)r=rP.mapColorRange(t,this.mode,n,i);else if(3===t.length)(r=rP.mapColorRange([t[0],t[1],t[2]],this.mode,n,i)).push(1);else if(2===t.length){r=rP.#t[this.mode]?rP.#t[this.mode](t[0],n,i):rP.mapColorRange([t[0],t[0],t[0]],this.mode,n,i);let s=Array.isArray(n[n.length-1])?n[n.length-1]:[0,n[n.length-1]];r.push(rI(t[1],s[0],s[1],0,1,i))}else{if(1!==t.length)throw Error("Invalid color");(r=rP.#t[this.mode]?rP.#t[this.mode](t[0],n,i):rP.mapColorRange([t[0],t[0],t[0]],this.mode,n,i)).push(1)}else r=t;let s=rP.colorMap[this.mode]||console.error("Invalid color mode"),a={space:s,coords:r.slice(0,3),alpha:r[3]};this._color=rp(a,s)}else{let n=r?rP.colorMap[r]:t.spaceId;this._color=rp(t,n),this.mode=r||Object.entries(rP.colorMap).find(([t,r])=>r===this._color.spaceId)}}static mapColorRange(t,r,n,i){let s=n.map(t=>Array.isArray(t)?t:[0,t]),a=rP.#e[r];return t.map((t,r)=>rI(t,s[r][0],s[r][1],a[r][0],a[r][1],i))}static unmapColorRange(t,r,n){let i=n.map(t=>Array.isArray(t)?t:[0,t]),s=rP.#e[r];return t.map((t,r)=>rI(t,s[r][0],s[r][1],i[r][0],i[r][1]))}#r(t){return new rP(this._color,t)}get _array(){return this._getRGBA()}array(){return this._array}lerp(t,r,n){let i=-1;for(;(i+1<this._color.space.path.length||i+1<t._color.space.path.length)&&this._color.space.path[i+1]===t._color.space.path[i+1];)i+=1;if(-1===i)throw Error("Cannot lerp colors. No common color space found");return new rP((function t(r,n,i={}){var s;if("function"===e$(s=r)&&s.rangeArgs){let[i,s]=[r,n];return t(...i.rangeArgs.colors,{...i.rangeArgs.options,...s})}let{space:a,outputSpace:o,progression:l,premultiplied:u}=i;r=e6(r),n=e6(n),r=tE(r),n=tE(n);let h={colors:[r,n],options:i};if(a=a?e8.get(a):e8.registry[e2.interpolationSpace]||r.space,o=o?e8.get(o):a,r=rp(r,a),n=rp(n,a),r=rc(r),n=rc(n),a.coords.h&&"angle"===a.coords.h.type){let t=i.hue=i.hue||"shorter",s=[a,"h"],[o,l]=[tr(r,s),tr(n,s)];isNaN(o)&&!isNaN(l)?o=l:isNaN(l)&&!isNaN(o)&&(l=o),[o,l]=function(t,r){if("raw"===t)return r;let[n,i]=r.map(tc),s=i-n;return"increasing"===t?s<0&&(i+=360):"decreasing"===t?s>0&&(n+=360):"longer"===t?-180<s&&s<180&&(s>0?n+=360:i+=360):"shorter"===t&&(s>180?n+=360:s<-180&&(i+=360)),[n,i]}(t,[o,l]),ti(r,s,o),ti(n,s,l)}return u&&(r.coords=r.coords.map(t=>t*r.alpha),n.coords=n.coords.map(t=>t*n.alpha)),Object.assign(t=>{t=l?l(t):t;let i=r.coords.map((r,i)=>eY(r,n.coords[i],t)),s=eY(r.alpha,n.alpha,t),h={space:a,coords:i,alpha:s};return u&&(h.coords=h.coords.map(t=>t/s)),o!==a&&(h=rp(h,o)),h},{rangeArgs:h})})(this._color,t._color,{space:this._color.space.path[i].id})(r),n||this.mode)}toString(t){let r=`${this._color.space.id}-${this._color.coords.join(",")}-${this._color.alpha}-${t}`,n=rB[r];return n||(n=function(t,{precision:r=e2.precision,format:n="default",inGamut:i=!0,...s}={}){let a,o=n;n=(t=e6(t)).space.getFormat(n)??t.space.getFormat("default")??e8.DEFAULT_FORMAT;let l=t.coords.slice();if((i||=n.toGamut)&&!tS(t)&&(l=rc(tE(t),!0===i?void 0:i).coords),"custom"===n.type){if(s.precision=r,!n.serialize)throw TypeError(`format ${o} can only be used to parse colors, not for serialization`);a=n.serialize(l,t.alpha,s)}else{let i=n.name||"color";n.serializeCoords?l=n.serializeCoords(l,r):null!==r&&(l=l.map(t=>eH(t,{precision:r})));let s=[...l];if("color"===i){let r=n.id||n.ids?.[0]||t.space.id;s.unshift(r)}let o=t.alpha;null!==r&&(o=eH(o,{precision:r}));let u=t.alpha>=1||n.noAlpha?"":`${n.commas?",":" /"} ${o}`;a=`${i}(${s.join(n.commas?", ":" ")}${u})`}return a}(this._color,{format:t}),rB[r]=n),n}contrast(t,r="WCAG21"){if("all"!==r){let n,i;switch(r){case"WCAG21":n=r_(this._color,t._color),i=4.5;break;case"APCA":n=Math.abs(rE(this._color,t._color)),i=75;break;default:return null}return n>=i}{let r=r_(this._color,t._color),n=rE(this._color,t._color);return{WCAG21:{value:r,passedMinimum:r>=4.5,passedAAA:r>=7},APCA:{value:n,passedMinimum:Math.abs(n)>=75}}}}setRed(t,r=[0,1]){Array.isArray(r)||(r=[0,r]);let n=rP.#e[rN][0],i=rI(t,r[0],r[1],n[0],n[1]);if(this.mode===rN||this.mode===rO)this._color.coords[0]=i;else{let t=this._color.space.id,r=rp(this._color,"srgb");r.coords[0]=i,this._color=rp(r,t)}}setGreen(t,r=[0,1]){Array.isArray(r)||(r=[0,r]);let n=rP.#e[rN][1],i=rI(t,r[0],r[1],n[0],n[1]);if(this.mode===rN||this.mode===rO)this._color.coords[1]=i;else{let t=this._color.space.id,r=rp(this._color,"srgb");r.coords[1]=i,this._color=rp(r,t)}}setBlue(t,r=[0,1]){Array.isArray(r)||(r=[0,r]);let n=rP.#e[rN][2],i=rI(t,r[0],r[1],n[0],n[1]);if(this.mode===rN||this.mode===rO)this._color.coords[2]=i;else{let t=this._color.space.id,r=rp(this._color,"srgb");r.coords[2]=i,this._color=rp(r,t)}}setAlpha(t,r=[0,1]){Array.isArray(r)||(r=[0,r]);let n=rP.#e[this.mode][3],i=rI(t,r[0],r[1],n[0],n[1]);this._color.alpha=i}_getRGBA(t=[1,1,1,1]){let r=rP.#e[rN],n=structuredClone(rp(this._color,"srgb").coords);n.push(this._color.alpha);let i=t.map(t=>Array.isArray(t)?t:[0,t]);return n.map((t,n)=>rI(t,r[n][0],r[n][1],i[n][0],i[n][1]))}_getMode(){return this.mode}_getRed(t=[0,1]){if(Array.isArray(t)||(t=[0,t]),this.mode===rN||this.mode===rO){let r=rP.#e[this.mode][0];return rI(this._color.coords[0],r[0],r[1],t[0],t[1])}{let r=rP.#e[rN][0];return rI(rp(this._color,"srgb").coords[0],r[0],r[1],t[0],t[1])}}_getGreen(t=[0,1]){if(Array.isArray(t)||(t=[0,t]),this.mode===rN||this.mode===rO){let r=rP.#e[this.mode][1];return rI(this._color.coords[1],r[0],r[1],t[0],t[1])}{let r=rP.#e[rN][1];return rI(rp(this._color,"srgb").coords[1],r[0],r[1],t[0],t[1])}}_getBlue(t=[0,1]){if(Array.isArray(t)||(t=[0,t]),this.mode===rN||this.mode===rO){let r=rP.#e[this.mode][2];return rI(this._color.coords[2],r[0],r[1],t[0],t[1])}{let r=rP.#e[rN][2];return rI(rp(this._color,"srgb").coords[2],r[0],r[1],t[0],t[1])}}_getAlpha(t=[0,1]){Array.isArray(t)||(t=[0,t]);let r=rP.#e[this.mode][3];return rI(this._color.alpha,r[0],r[1],t[0],t[1])}_getHue(t=[0,360]){if(Array.isArray(t)||(t=[0,t]),this.mode===rR||this.mode===rV){let r=rP.#e[this.mode][0];return rI(this._color.coords[0],r[0],r[1],t[0],t[1])}{let r=rP.#e[rV][0];return rI(rp(this._color,"hsl").coords[0],r[0],r[1],t[0],t[1])}}_getSaturation(t=[0,100]){if(Array.isArray(t)||(t=[0,t]),this.mode===rR||this.mode===rV){let r=rP.#e[this.mode][1];return rI(this._color.coords[1],r[0],r[1],t[0],t[1])}{let r=rP.#e[rV][1];return rI(rp(this._color,"hsl").coords[1],r[0],r[1],t[0],t[1])}}_getBrightness(t=[0,100]){if(Array.isArray(t)||(t=[0,t]),this.mode===rR){let r=rP.#e[this.mode][2];return rI(this._color.coords[2],r[0],r[1],t[0],t[1])}{let r=rP.#e[rR][2];return rI(rp(this._color,"hsb").coords[2],r[0],r[1],t[0],t[1])}}_getLightness(t=[0,100]){if(Array.isArray(t)||(t=[0,t]),this.mode===rV){let r=rP.#e[this.mode][2];return rI(this._color.coords[2],r[0],r[1],t[0],t[1])}{let r=rP.#e[rV][2];return rI(rp(this._color,"hsl").coords[2],r[0],r[1],t[0],t[1])}}}function rL(t,r,n){t.Color=rP,rx.fromGray=rb.fromGray=function(t,r,n){let i=r.map(t=>Array.isArray(t)?t:[0,t]),s=rI(t,i[2][0],i[2][1],0,1,n);return[s,s,s]},rF.fromGray=rD.fromGray=function(t,r,n){let i=r.map(t=>Array.isArray(t)?t:[0,t]);return[0,0,rI(t,i[2][0],i[2][1],0,100,n)]},rk.fromGray=function(t,r,n){let i,s,a=r.map(t=>Array.isArray(t)?t:[0,t]),o=rI(t,0,Math.abs(a[1][0]-a[1][1])/2+Math.abs(a[2][0]-a[2][1])/2,0,100);return o<50?(s=o,i=100-o):o>=50&&(i=o,s=100-o),[0,i,s]},th.fromGray=td.fromGray=t_.fromGray=rT.fromGray=function(t,r,n){let i=r.map(t=>Array.isArray(t)?t:[0,t]);return[rI(t,i[0][0],i[0][1],0,100,n),0,0]},t.Color.addColorMode(rN,rx),t.Color.addColorMode(rO,rb),t.Color.addColorMode(rR,rF),t.Color.addColorMode(rV,rD),t.Color.addColorMode(rz,rk),t.Color.addColorMode(rU,th),t.Color.addColorMode(rj,td),t.Color.addColorMode(rG,t_),t.Color.addColorMode(r$,rT),n.presetup=function(){let r=this,n=["Red","Green","Blue","Alpha"];for(let i in n){let s=n[i],a=t.Color.prototype["set"+s];t.Color.prototype["set"+s]=function(t,n){return n=n||r?._renderer?.states?.colorMaxes?.[rN][i],a.call(this,t,n)}}function i(n,i){let s=t.Color.prototype["_get"+n];t.Color.prototype["_get"+n]=function(t){if(Object.keys(i).includes(this.mode))t=t||r?._renderer?.states?.colorMaxes?.[this.mode][i[this.mode]];else{let n=Object.keys(i)[0];t=t||r?._renderer?.states?.colorMaxes?.[n][i[n]]}return s.call(this,t)}}i("Red",{[rN]:0,[rO]:0}),i("Green",{[rN]:1,[rO]:1}),i("Blue",{[rN]:2,[rO]:2}),i("Alpha",{[rN]:3,[rO]:3,[rR]:3,[rV]:3,[rz]:3,[rU]:3,[rj]:3,[rG]:3,[r$]:3}),i("Hue",{[rV]:0,[rR]:0,[rz]:0,[rj]:2,[r$]:2}),i("Saturation",{[rV]:1,[rR]:1}),i("Brightness",{[rR]:2}),i("Lightness",{[rV]:2})}}void 0!==m&&rL(m);let rN="rgb",rO="rgbhdr",rR="hsb",rV="hsl",rz="hwb",rU="lab",rj="lch",rG="oklab",r$="oklch",rH="rgba";function rW(t,r){r.RGB=rN,r.RGBHDR=rO,r.HSB=rR,r.HSL=rV,r.HWB=rz,r.LAB=rU,r.LCH=rj,r.OKLAB=rG,r.OKLCH=r$,r.RGBA=rH,t.Renderer.states.colorMode=rN,t.Renderer.states.colorMaxes={[rN]:[255,255,255,255],[rO]:[255,255,255,255],[rR]:[360,100,100,1],[rV]:[360,100,100,1],[rz]:[360,100,100,1],[rU]:[100,[-125,125],[-125,125],1],[rj]:[100,150,360,1],[rG]:[100,[-125,125],[-125,125],1],[r$]:[100,150,360,1],clone:function(){let t={...this};for(let r in t)t[r]instanceof Array&&(t[r]=[...t[r]]);return t}},r.color=function(...t){return t[0]instanceof rP?t[0]:new rP(Array.isArray(t[0])?t[0]:t,this._renderer.states.colorMode,this._renderer.states.colorMaxes[this._renderer.states.colorMode],{clamp:!0})},r.red=function(t){return this.color(t)._getRed()},r.green=function(t){return this.color(t)._getGreen()},r.blue=function(t){return this.color(t)._getBlue()},r.alpha=function(t){return this.color(t)._getAlpha()},r.hue=function(t){let r=rV,n=0;return this._renderer.states.colorMode===rR||this._renderer.states.colorMode===rV?r=this._renderer.states.colorMode:this._renderer.states.colorMode!==rj&&this._renderer.states.colorMode!==r$||(r=this._renderer.states.colorMode,n=2),this.color(t)._getHue(this._renderer.states.colorMaxes[r][n])},r.saturation=function(t){let r=this._renderer.states.colorMode===rR?rR:rV;return this.color(t)._getSaturation(this._renderer.states.colorMaxes[r][1])},r.brightness=function(t){return this.color(t)._getBrightness(this._renderer.states.colorMaxes.hsb[2])},r.lightness=function(t){return this.color(t)._getLightness(this._renderer.states.colorMaxes.hsl[2])},r.lerpColor=function(t,r,n){return t.lerp(r,n,this._renderer.states.colorMode)},r.paletteLerp=function(t,r){let n=t[0];if(r<n[1])return this.color(n[0]);for(let n=1;n<t.length;n++){let i=t[n];if(r<i[1]){let s=t[n-1];return this.lerpColor(this.color(s[0]),this.color(i[0]),(r-s[1])/(i[1]-s[1]))}}return this.color(t[t.length-1][0])}}void 0!==m&&rW(m,m.prototype);class rq{constructor(t){if(t)this.DOM=t;else{let t=document.implementation.createDocument(null,"doc");this.DOM=t.createElement("root")}}getParent(){return new rq(this.DOM.parentElement)}getName(){return this.DOM.tagName}setName(t){let r=this.DOM.innerHTML,n=this.DOM.attributes,i=document.implementation.createDocument(null,"default").createElement(t);i.innerHTML=r;for(let t=0;t<n.length;t++)i.setAttribute(n[t].nodeName,n[t].nodeValue);this.DOM=i}hasChildren(){return this.DOM.children.length>0}listChildren(){let t=[];for(let r=0;r<this.DOM.childNodes.length;r++)t.push(this.DOM.childNodes[r].nodeName);return t}getChildren(t){var r=t?this.DOM.getElementsByTagName(t):this.DOM.children;let n=[];for(let t=0;t<r.length;t++)n.push(new rq(r[t]));return n}getChild(t){if("string"!=typeof t)return new rq(this.DOM.children[t]);for(let r of this.DOM.children)if(r.tagName===t)return new rq(r)}addChild(t){t instanceof rq&&this.DOM.appendChild(t.DOM)}removeChild(t){let r=-1;if("string"==typeof t){for(let n=0;n<this.DOM.children.length;n++)if(this.DOM.children[n].tagName===t){r=n;break}}else r=t;-1!==r&&this.DOM.removeChild(this.DOM.children[r])}getAttributeCount(){return this.DOM.attributes.length}listAttributes(){let t=[];for(let r of this.DOM.attributes)t.push(r.nodeName);return t}hasAttribute(t){let r={};for(let t of this.DOM.attributes)r[t.nodeName]=t.nodeValue;return!!r[t]}getNum(t,r){let n={};for(let t of this.DOM.attributes)n[t.nodeName]=t.nodeValue;return Number(n[t])||r||0}getString(t,r){let n={};for(let t of this.DOM.attributes)n[t.nodeName]=t.nodeValue;return n[t]?String(n[t]):r||null}setAttribute(t,r){this.DOM.setAttribute(t,r)}getContent(t){return this.DOM.textContent.replace(/\s\s+/g,",")||t||null}setContent(t){this.DOM.children.length||(this.DOM.textContent=t)}serialize(){return(new XMLSerializer).serializeToString(this.DOM)}}function rY(t,r){t.XML=rq}void 0!==m&&rY(m);class rX{constructor(t,r){this.file=t,this._pInst=r;let n=t.type.split("/");this.type=n[0],this.subtype=n[1],this.name=t.name,this.size=t.size,this.data=void 0}static _createLoader(t,r){let n=new FileReader;return n.onload=function(n){let i=new rX(t);"application/json"===i.file.type?i.data=JSON.parse(n.target.result):"text/xml"===i.file.type?i.data=new rq((new DOMParser).parseFromString(n.target.result,"text/xml").documentElement):i.data=n.target.result,r(i)},n}static _load(t,r){if(/^text\//.test(t.type)||"application/json"===t.type)rX._createLoader(t,r).readAsText(t);else if(/^(video|audio)\//.test(t.type)){let n=new rX(t);n.data=URL.createObjectURL(t),r(n)}else rX._createLoader(t,r).readAsDataURL(t)}}function rK(t,r){t.File=rX}void 0!==m&&rK(m);class rZ{width;height;elt;constructor(t,r){this.elt=t,this._pInst=this._pixelsState=r,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}remove(){if(this.stop){this.stop();let t=this.elt.srcObject;null!==t&&t.getTracks().forEach(t=>{t.stop()})}let t=this._pInst;if(t&&!t._elements&&t._pInst&&(t=t._pInst),t&&t._elements){let r=t._elements.indexOf(this);-1!==r&&t._elements.splice(r,1)}for(let t in this._events)this.elt.removeEventListener(t,this._events[t]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)}parent(t){return void 0===t?this.elt.parentNode:("string"==typeof t?("#"===t[0]&&(t=t.substring(1)),t=document.getElementById(t)):t instanceof rZ&&(t=t.elt),t.appendChild(this.elt),this)}child(t){return void 0===t?this.elt.childNodes:("string"==typeof t?("#"===t[0]&&(t=t.substring(1)),t=document.getElementById(t)):t instanceof rZ&&(t=t.elt),t instanceof HTMLElement&&this.elt.appendChild(t),this)}html(...t){return 0===t.length?this.elt.innerHTML:(t[1]?this.elt.insertAdjacentHTML("beforeend",t[0]):this.elt.innerHTML=t[0],this)}id(t){return void 0===t?this.elt.id:(this.elt.id=t,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}class(t){return void 0===t?this.elt.className:(this.elt.className=t,this)}addClass(t){return this.elt.className?this.hasClass(t)||(this.elt.className=this.elt.className+" "+t):this.elt.className=t,this}removeClass(t){return this.elt.classList.remove(t),this}hasClass(t){return this.elt.classList.contains(t)}toggleClass(t){return this.elt.classList.contains(t)?this.elt.classList.remove(t):this.elt.classList.add(t),this}center(t){let r=this.elt.style.display,n="none"===this.elt.style.display,i="none"===this.parent().style.display,s={x:this.elt.offsetLeft,y:this.elt.offsetTop};n&&this.show(),i&&this.parent().show(),this.elt.style.display="block",this.position(0,0);let a=Math.abs(this.parent().offsetWidth-this.elt.offsetWidth),o=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return"both"===t||void 0===t?this.position(a/2+this.parent().offsetLeft,o/2+this.parent().offsetTop):"horizontal"===t?this.position(a/2+this.parent().offsetLeft,s.y):"vertical"===t&&this.position(s.x,o/2+this.parent().offsetTop),this.style("display",r),n&&this.hide(),i&&this.parent().hide(),this}position(...t){if(0===t.length)return{x:this.elt.offsetLeft,y:this.elt.offsetTop};{let r="absolute";return"static"!==t[2]&&"fixed"!==t[2]&&"relative"!==t[2]&&"sticky"!==t[2]&&"initial"!==t[2]&&"inherit"!==t[2]||(r=t[2]),this.elt.style.position=r,this.elt.style.left=t[0]+"px",this.elt.style.top=t[1]+"px",this.x=t[0],this.y=t[1],this}}show(){return this.elt.style.display="block",this}hide(){return this.elt.style.display="none",this}size(t,r){if(0==arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};{let n=t,i=r;if(n!==U||i!==U){if(n===U?n=r*this.width/this.height:i===U&&(i=t*this.height/this.width),this.elt instanceof HTMLCanvasElement){let t,r={},s=this.elt.getContext("2d");for(t in s)r[t]=s[t];for(t in this.elt.setAttribute("width",n*this._pInst._pixelDensity),this.elt.setAttribute("height",i*this._pInst._pixelDensity),this.elt.style.width=n+"px",this.elt.style.height=i+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),r)this.elt.getContext("2d")[t]=r[t]}else this.elt.style.width=n+"px",this.elt.style.height=i+"px",this.elt.width=n,this.elt.height=i;this.width=n,this.height=i,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst.width=n,this._pInst.height=i)}return this}}style(t,r){if(r instanceof rP&&(r=r.toString()),void 0===r){if(-1===t.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(t);{let r=t.split(";");for(let t=0;t<r.length;t++){let n=r[t].split(":");n[0]&&n[1]&&(this.elt.style[n[0].trim()]=n[1].trim())}}}else if(this.elt.style[t]=r,"width"===t||"height"===t||"left"===t||"top"===t){let r=window.getComputedStyle(this.elt).getPropertyValue(t).replace(/[^\d.]/g,"");this[t]=Math.round(parseFloat(r,10))}return this}_translate(...t){this.elt.style.position="absolute";let r="";return this.elt.style.transform&&(r=(r=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===t.length?this.elt.style.transform="translate("+t[0]+"px, "+t[1]+"px)":t.length>2&&(this.elt.style.transform="translate3d("+t[0]+"px,"+t[1]+"px,"+t[2]+"px)",3===t.length?this.elt.parentElement.style.perspective="1000px":this.elt.parentElement.style.perspective=t[3]+"px"),this.elt.style.transform+=r,this}_rotate(...t){let r="";return this.elt.style.transform&&(r=(r=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===t.length?this.elt.style.transform="rotate("+t[0]+"deg)":2===t.length?this.elt.style.transform="rotate("+t[0]+"deg, "+t[1]+"deg)":3===t.length&&(this.elt.style.transform="rotateX("+t[0]+"deg)",this.elt.style.transform+="rotateY("+t[1]+"deg)",this.elt.style.transform+="rotateZ("+t[2]+"deg)"),this.elt.style.transform+=r,this}attribute(t,r){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===r?this.elt.getAttribute(t):(this.elt.setAttribute(t,r),this);if(void 0===r)return this.elt.firstChild.getAttribute(t);for(let n=0;n<this.elt.childNodes.length;n++)this.elt.childNodes[n].setAttribute(t,r)}removeAttribute(t){if(null!=this.elt.firstChild&&("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(let r=0;r<this.elt.childNodes.length;r++)this.elt.childNodes[r].removeAttribute(t);return this.elt.removeAttribute(t),this}value(...t){return t.length>0?(this.elt.value=t[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value}mousePressed(t){return rZ._adjustListener("pointerdown",function(r){return this._pInst.mouseIsPressed=!0,this._pInst._activePointers.set(r.pointerId,r),this._pInst._setMouseButton(r),this._pInst._updatePointerCoords(r),t.call(this,r)},this),this}doubleClicked(t){return rZ._adjustListener("dblclick",t,this),this}mouseWheel(t){return rZ._adjustListener("wheel",t,this),this}mouseReleased(t){return rZ._adjustListener("pointerup",t,this),this}mouseClicked(t){return rZ._adjustListener("click",t,this),this}mouseMoved(t){return rZ._adjustListener("pointermove",t,this),this}mouseOver(t){return rZ._adjustListener("pointerover",t,this),this}mouseOut(t){return rZ._adjustListener("pointerout",t,this),this}dragOver(t){return rZ._adjustListener("dragover",t,this),this}dragLeave(t){return rZ._adjustListener("dragleave",t,this),this}changed(t){return rZ._adjustListener("change",t,this),this}input(t){return rZ._adjustListener("input",t,this),this}drop(t,r){if(window.File&&window.FileReader&&window.FileList&&window.Blob){if(!this._dragDisabled){this._dragDisabled=!0;let t=function(t){t.preventDefault()};this.elt.addEventListener("dragover",t),this.elt.addEventListener("dragleave",t)}rZ._attachListener("drop",function(n){for(let i of(n.preventDefault(),"function"==typeof r&&r.call(this,n),n.dataTransfer.files))rX._load(i,t)},this)}else console.log("The File APIs are not fully supported in this browser.");return this}draggable(t){let r,n="ontouchstart"in window,i=0,s=0,a=0,o=0,l=n?"touchend":"mouseup",u=n?"touchmove":"mousemove";function h(r){if(r=r||window.event,n){let t=r.changedTouches;i=a-parseInt(t[0].clientX),s=o-parseInt(t[0].clientY),a=parseInt(t[0].clientX),o=parseInt(t[0].clientY)}else i=a-parseInt(r.clientX),s=o-parseInt(r.clientY),a=parseInt(r.clientX),o=parseInt(r.clientY);t.style.left=t.offsetLeft-i+"px",t.style.top=t.offsetTop-s+"px"}function c(){document.removeEventListener(l,c,!1),document.removeEventListener(u,h,!1)}return void 0===t?r=t=this.elt:t!==this.elt&&t.elt!==this.elt&&(t=t.elt,r=this.elt),r.addEventListener(n?"touchstart":"mousedown",function(t){if(t=t||window.event,n){let r=t.changedTouches;a=parseInt(r[0].clientX),o=parseInt(r[0].clientY)}else a=parseInt(t.clientX),o=parseInt(t.clientY);return document.addEventListener(l,c,!1),document.addEventListener(u,h,!1),!1},!1),r.style.cursor="move",this}static _adjustListener(t,r,n){return!1===r?rZ._detachListener(t,n):rZ._attachListener(t,r,n),this}static _attachListener(t,r,n){n._events[t]&&rZ._detachListener(t,n);let i=r.bind(n);n.elt.addEventListener(t,i,{capture:!1,signal:n._pInst._removeSignal}),n._events[t]=i}static _detachListener(t,r){let n=r._events[t];r.elt.removeEventListener(t,n,!1),r._events[t]=null}}function rQ(t,r){t.Element=rZ}void 0!==m&&rQ(m);let rJ={_toPixels(t){if(t instanceof ImageData)return t.data;if(t.getContext("2d"))return t.getContext("2d").getImageData(0,0,t.width,t.height).data;if(t.getContext("webgl")){let r=t.getContext("webgl"),n=new Uint8Array(r.drawingBufferWidth*r.drawingBufferHeight*4);return r.readPixels(0,0,t.width,t.height,r.RGBA,r.UNSIGNED_BYTE,n),n}},_getARGB(t,r){let n=4*r;return t[n+3]<<24&0xff000000|t[n]<<16&0xff0000|t[n+1]<<8&65280|255&t[n+2]},_setPixels(t,r){let n=0;for(let i=0,s=t.length;i<s;i++)t[(n=4*i)+0]=(0xff0000&r[i])>>>16,t[n+1]=(65280&r[i])>>>8,t[n+2]=255&r[i],t[n+3]=(0xff000000&r[i])>>>24},_toImageData:t=>t instanceof ImageData?t:t.getContext("2d").getImageData(0,0,t.width,t.height),_createImageData(t,r){return rJ._tmpCanvas=document.createElement("canvas"),rJ._tmpCtx=rJ._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(t,r)},apply(t,r,n){let i=t.getContext("2d"),s=i.getImageData(0,0,t.width,t.height),a=r(s,n);a instanceof ImageData?i.putImageData(a,0,0,0,0,t.width,t.height):i.putImageData(s,0,0,0,0,t.width,t.height)},threshold(t,r=.5){let n=rJ._toPixels(t),i=Math.floor(255*r);for(let t=0;t<n.length;t+=4){let r;r=255*(.2126*n[t]+.7152*n[t+1]+.0722*n[t+2]>=i),n[t]=n[t+1]=n[t+2]=r}},gray(t){let r=rJ._toPixels(t);for(let t=0;t<r.length;t+=4){let n=.2126*r[t]+.7152*r[t+1]+.0722*r[t+2];r[t]=r[t+1]=r[t+2]=n}},opaque(t){let r=rJ._toPixels(t);for(let t=0;t<r.length;t+=4)r[t+3]=255;return r},invert(t){let r=rJ._toPixels(t);for(let t=0;t<r.length;t+=4)r[t]=255-r[t],r[t+1]=255-r[t+1],r[t+2]=255-r[t+2]},posterize(t,r=4){let n=rJ._toPixels(t);if(r<2||r>255)throw Error("Level must be greater than 2 and less than 255 for posterize");let i=r-1;for(let t=0;t<n.length;t+=4){let s=n[t],a=n[t+1],o=n[t+2];n[t]=255*(s*r>>8)/i,n[t+1]=255*(a*r>>8)/i,n[t+2]=255*(o*r>>8)/i}},dilate(t){let r,n,i,s,a,o,l,u,h,c,d,p,f,m,g,y,v,x=rJ._toPixels(t),b=0,w=x.length?x.length/4:0,_=new Int32Array(w);for(;b<w;)for(r=b,n=b+t.width;b<n;)i=s=rJ._getARGB(x,b),l=b-1,o=b+1,u=b-t.width,h=b+t.width,l<r&&(l=b),o>=n&&(o=b),u<0&&(u=0),h>=w&&(h=b),p=rJ._getARGB(x,u),d=rJ._getARGB(x,l),f=rJ._getARGB(x,h),c=rJ._getARGB(x,o),a=77*(i>>16&255)+151*(i>>8&255)+28*(255&i),g=77*(d>>16&255)+151*(d>>8&255)+28*(255&d),m=77*(c>>16&255)+151*(c>>8&255)+28*(255&c),y=77*(p>>16&255)+151*(p>>8&255)+28*(255&p),v=77*(f>>16&255)+151*(f>>8&255)+28*(255&f),g>a&&(s=d,a=g),m>a&&(s=c,a=m),y>a&&(s=p,a=y),v>a&&(s=f,a=v),_[b++]=s;rJ._setPixels(x,_)},erode(t){let r,n,i,s,a,o,l,u,h,c,d,p,f,m,g,y,v,x=rJ._toPixels(t),b=0,w=x.length?x.length/4:0,_=new Int32Array(w);for(;b<w;)for(r=b,n=b+t.width;b<n;)i=s=rJ._getARGB(x,b),l=b-1,o=b+1,u=b-t.width,h=b+t.width,l<r&&(l=b),o>=n&&(o=b),u<0&&(u=0),h>=w&&(h=b),p=rJ._getARGB(x,u),d=rJ._getARGB(x,l),f=rJ._getARGB(x,h),c=rJ._getARGB(x,o),a=77*(i>>16&255)+151*(i>>8&255)+28*(255&i),g=77*(d>>16&255)+151*(d>>8&255)+28*(255&d),m=77*(c>>16&255)+151*(c>>8&255)+28*(255&c),y=77*(p>>16&255)+151*(p>>8&255)+28*(255&p),v=77*(f>>16&255)+151*(f>>8&255)+28*(255&f),g<a&&(s=d,a=g),m<a&&(s=c,a=m),y<a&&(s=p,a=y),v<a&&(s=f,a=v),_[b++]=s;rJ._setPixels(x,_)},blur(s,a){!function(s,a){let o,l,u,h,c,d,p,f,m,g,y=rJ._toPixels(s),v=s.width,x=s.height,b=v*x,w=new Int32Array(b);for(let t=0;t<b;t++)w[t]=rJ._getARGB(y,t);let _=new Int32Array(b),C=new Int32Array(b),S=new Int32Array(b),E=new Int32Array(b),D,A,k,T,F=0;for(function(s){let a=3.5*s|0;if(t!==(a=a<1?1:a<248?a:248)){let s,o,l,u;n=new Int32Array(r=1+(t=a)<<1),i=Array(r);for(let t=0;t<r;t++)i[t]=new Int32Array(256);for(let t=1,r=a-1;t<a;t++){n[a+t]=n[r]=o=r*r,l=i[a+t],u=i[r--];for(let t=0;t<256;t++)l[t]=u[t]=o*t}s=n[a]=a*a,l=i[a];for(let t=0;t<256;t++)l[t]=s*t}}(a),A=0;A<x;A++){for(D=0;D<v;D++){if(h=u=l=c=o=0,(d=D-t)<0)g=-d,d=0;else{if(d>=v)break;g=0}for(k=g;k<r&&!(d>=v);k++){let t=w[d+F];c+=(T=i[k])[(-0x1000000&t)>>>24],l+=T[(0xff0000&t)>>16],u+=T[(65280&t)>>8],h+=T[255&t],o+=n[k],d++}_[p=F+D]=c/o,C[p]=l/o,S[p]=u/o,E[p]=h/o}F+=v}for(F=0,m=(f=-t)*v,A=0;A<x;A++){for(D=0;D<v;D++){if(h=u=l=c=o=0,f<0)g=p=-f,d=D;else{if(f>=x)break;g=0,p=f,d=D+m}for(k=g;k<r&&!(p>=x);k++)c+=(T=i[k])[_[d]],l+=T[C[d]],u+=T[S[d]],h+=T[E[d]],o+=n[k],p++,d+=v;w[D+F]=c/o<<24|l/o<<16|u/o<<8|h/o}F+=v,m+=v,f++}rJ._setPixels(y,w)}(s,a)}};var r0="u">typeof globalThis?globalThis:"u">typeof window?window:void 0!==a?a:"u">typeof self?self:{};function r1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r2,r5={};r2=r2||function(t){if(!(void 0===t||"u">typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var r=t.document,n=function(){return t.URL||t.webkitURL||t},i=r.createElementNS("http://www.w3.org/1999/xhtml","a"),s="download"in i,a=/constructor/i.test(t.HTMLElement)||t.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(r){(t.setImmediate||t.setTimeout)(function(){throw r},0)},u=function(t){setTimeout(function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()},4e4)},h=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},c=function(r,c,d){d||(r=h(r));var p,f=this,m="application/octet-stream"===r.type,g=function(){for(var t="writestart progress write writeend".split(" "),r=(t=[].concat(t)).length;r--;){var n=f["on"+t[r]];if("function"==typeof n)try{n.call(f,f)}catch(t){l(t)}}};(f.readyState=f.INIT,s)?(p=n().createObjectURL(r),setTimeout(function(){var t;i.href=p,i.download=c,t=new MouseEvent("click"),i.dispatchEvent(t),g(),u(p),f.readyState=f.DONE})):function(){if((o||m&&a)&&t.FileReader){var i=new FileReader;return i.onloadend=function(){var r=o?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(r,"_blank")||(t.location.href=r),r=void 0,f.readyState=f.DONE,g()},i.readAsDataURL(r),f.readyState=f.INIT}p||(p=n().createObjectURL(r)),m?t.location.href=p:t.open(p,"_blank")||(t.location.href=p),f.readyState=f.DONE,g(),u(p)}()},d=c.prototype;return"u">typeof navigator&&navigator.msSaveOrOpenBlob?function(t,r,n){return r=r||t.name||"download",n||(t=h(t)),navigator.msSaveOrOpenBlob(t,r)}:(d.abort=function(){},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,function(t,r,n){return new c(t,r||t.name||"download",n)})}}("u">typeof self&&self||"u">typeof window&&window||r0.content),r5&&(r5.saveAs=r2);function r3(t,r,n){let i=r4(r,n)[0],s=t;s instanceof Blob||(s=new Blob([t])),r5.saveAs(s,i)}function r4(t,r){r&&!0!==r&&"true"!==r||(r=""),t||(t="untitled");let n="";return t&&t.includes(".")&&(n=t.split(".").pop()),r&&n!==r&&(n=r,t=`${t}.${n}`),[t,n]}class r6{constructor(t,r){this.width=t,this.height=r,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),this._pixelsState=this,this._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}pixelDensity(t){return void 0!==t?(t<=0&&(t=1),this._pixelDensity=t,this.width/=t,this.height/=t,this):this._pixelDensity}_animateGif(t){let r=this.gifProperties,n=t._lastRealFrameTime||window.performance.now();if(0===r.lastChangeTime&&(r.lastChangeTime=n),r.playing){r.timeDisplayed=n-r.lastChangeTime;let t=r.frames[r.displayIndex].delay;if(r.timeDisplayed>=t){let i=Math.floor(r.timeDisplayed/t);if(r.timeDisplayed=0,r.lastChangeTime=n,r.displayIndex+=i,r.loopCount=Math.floor(r.displayIndex/r.numFrames),null!==r.loopLimit&&r.loopCount>=r.loopLimit)r.playing=!1;else{let t=r.displayIndex%r.numFrames;this.drawingContext.putImageData(r.frames[t].image,0,0),r.displayIndex=t,this.setModified(!0)}}}}loadPixels(){let t=this._pixelsState,r=this._pixelDensity,n=this.width*r,i=this.height*r,s=this.drawingContext.getImageData(0,0,n,i);t.imageData=s,this.pixels=t.pixels=s.data,this.setModified(!0)}updatePixels(t,r,n,i){let s=this._pixelsState,a=this._pixelDensity;void 0===t&&void 0===r&&void 0===n&&void 0===i&&(t=0,r=0,n=this.width,i=this.height),t*=a,r*=a,n*=a,i*=a,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=s.imageData),this.drawingContext.putImageData(s.imageData,t,r,0,0,n,i),this.setModified(!0)}get(t,r,n,i){let s=this._pixelsState,a=this._pixelDensity,o=this.canvas;if(void 0===t&&void 0===r)t=r=0,n=s.width,i=s.height;else if(t*=a,r*=a,void 0===n&&void 0===i)return t<0||r<0||t>=o.width||r>=o.height?[0,0,0,0]:this._getPixel(t,r);let l=new r6(n*a,i*a);return l.pixelDensity(a),l.canvas.getContext("2d").drawImage(o,t,r,n*a,i*a,0,0,n*a,i*a),l}_getPixel(t,r){let n;return[(n=this.drawingContext.getImageData(t,r,1,1).data)[0],n[1],n[2],n[3]]}set(t,r,n){t=Math.floor(t),r=Math.floor(r);let i=this._pixelsState;if(n instanceof r6)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pixelDensity,this._pixelDensity),this.drawingContext.clearRect(t,r,n.width,n.height),this.drawingContext.drawImage(n.canvas,t,r),this.drawingContext.restore();else{let s=0,a=0,o=0,l=0,u=4*(r*this._pixelDensity*(this.width*this._pixelDensity)+t*this._pixelDensity);if(i.imageData||i.loadPixels(),"number"==typeof n)u<i.pixels.length&&(s=n,a=n,o=n,l=255);else if(Array.isArray(n)){if(n.length<4)throw Error("pixel array must be of the form [R, G, B, A]");u<i.pixels.length&&(s=n[0],a=n[1],o=n[2],l=n[3])}else n instanceof m.Color&&u<i.pixels.length&&([s,a,o,l]=n._getRGBA([255,255,255,255]));for(let n=0;n<this._pixelDensity;n++)for(let h=0;h<this._pixelDensity;h++)u=4*((r*this._pixelDensity+h)*this.width*this._pixelDensity+(t*this._pixelDensity+n)),i.pixels[u]=s,i.pixels[u+1]=a,i.pixels[u+2]=o,i.pixels[u+3]=l}this.setModified(!0)}resize(t,r){0===t&&0===r?(t=this.canvas.width,r=this.canvas.height):0===t?t=this.canvas.width*r/this.canvas.height:0===r&&(r=this.canvas.height*t/this.canvas.width),t=Math.floor(t),r=Math.floor(r);let n=document.createElement("canvas");if(n.width=t,n.height=r,this.gifProperties){let n=this.gifProperties,i=(t,r)=>{let n=0;for(let i=0;i<r.height;i++)for(let s=0;s<r.width;s++){let a=Math.floor(s*t.width/r.width),o=4*(Math.floor(i*t.height/r.height)*t.width+a);r.data[n++]=t.data[o++],r.data[n++]=t.data[o++],r.data[n++]=t.data[o++],r.data[n++]=t.data[o++]}};for(let s=0;s<n.numFrames;s++){let a=this.drawingContext.createImageData(t,r);i(n.frames[s].image,a),n.frames[s].image=a}}n.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,n.width,n.height),this.canvas.width=this.width=t,this.canvas.height=this.height=r,this.drawingContext.drawImage(n,0,0,t,r,0,0,t,r),this.pixels.length>0&&this.loadPixels(),this.setModified(!0)}copy(...t){let r,n,i,s,a,o,l,u,h;if(9===t.length)r=t[0],n=t[1],i=t[2],s=t[3],a=t[4],o=t[5],l=t[6],u=t[7],h=t[8];else{if(8!==t.length)throw Error("Signature not supported");r=this,n=t[0],i=t[1],s=t[2],a=t[3],o=t[4],l=t[5],u=t[6],h=t[7]}this._copyHelper(this,r,n,i,s,a,o,l,u,h)}_copyHelper(t,r,n,i,s,a,o,l,u,h){let c=r.canvas.width/r.width,d=0,p=0;r._renderer&&r._renderer.isP3D&&(d=r.width/2,p=r.height/2),t._renderer&&t._renderer.isP3D?(t.push(),t.resetMatrix(),t.noLights(),t.blendMode(t.BLEND),t.imageMode(t.CORNER),t._renderer.image(r,n+d,i+p,s,a,o,l,u,h),t.pop()):t.drawingContext.drawImage(r.canvas,c*(n+d),c*(i+p),c*s,c*a,o,l,u,h)}mask(t){void 0===t&&(t=this);let r=this.drawingContext.globalCompositeOperation,n=this._pixelDensity,i=1;t instanceof nA&&(i=t._pInst._renderer._pixelDensity);let s=[t,0,0,i*t.width,i*t.height,0,0,n*this.width,n*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(let t=0;t<this.gifProperties.frames.length;t++)this.drawingContext.putImageData(this.gifProperties.frames[t].image,0,0),this.copy(...s),this.gifProperties.frames[t].image=this.drawingContext.getImageData(0,0,n*this.width,n*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy(...s);this.drawingContext.globalCompositeOperation=r,this.setModified(!0)}filter(t,r){rJ.apply(this.canvas,rJ[t],r),this.setModified(!0)}blend(...t){let r=this.drawingContext.globalCompositeOperation,n=t[t.length-1],i=Array.prototype.slice.call(t,0,t.length-1);this.drawingContext.globalCompositeOperation=n,this.copy(...i),this.drawingContext.globalCompositeOperation=r,this.setModified(!0)}setModified(t){this._modified=t}isModified(){return this._modified}save(t,r){if(this.gifProperties)!function(t,r){let n=t.gifProperties,i=n.loopLimit;1===i?i=null:null===i&&(i=0);let s=new Uint8Array(t.width*t.height*n.numFrames),a=[],o={};for(let r=0;r<n.numFrames;r++){let i=new Set,s=n.frames[r].image.data,l=s.length,u=new Uint32Array(t.width*t.height);for(let t=0,r=0;t<l;t+=4,r++){let n=s[t+0]<<16|s[t+1]<<8|s[t+2];i.add(n),u[r]=n}let h=[...i].sort().toString();void 0===o[h]?o[h]={freq:1,frames:[r]}:(o[h].freq+=1,o[h].frames.push(r)),a.push(u)}let l=[],u=Object.keys(o).sort(function(t,r){return o[r].freq-o[t].freq}),h=u[0].split(",").map(t=>parseInt(t));l=l.concat(o[h].frames);let c=new Set(h);for(let t=1;t<u.length;t++){let r=u[t].split(",").map(t=>parseInt(t)).filter(t=>!c.has(t));if(h.length+r.length<=256){for(let t=0;t<r.length;t++)h.push(r[t]),c.add(r[t]);l=l.concat(o[u[t]].frames)}}l=new Set(l);let d={};for(let t=0;t<h.length;t++)d[h[t]]||(d[h[t]]=t);let p=1;for(;p<h.length;)p<<=1;h.length=p;let f={loop:i,palette:new Uint32Array(h)},m=new omggif.GifWriter(s,t.width,t.height,f),g={};for(let r=0;r<n.numFrames;r++){let i=!l.has(r),s=i?[]:h,o=new Uint8Array(t.width*t.height),u={},c=new Set;a[r].forEach((t,n)=>{i?(void 0===u[t]&&(u[t]=s.length,s.push(t)),o[n]=u[t]):o[n]=d[t],r>0&&a[r-1][n]!==t&&c.add(t)});let p={},f=s.filter(t=>!c.has(t));if(f.length>0){let t=f[0],n=i?u[t]:d[t];if(r>0){for(let t=0;t<a[r].length;t++)a[r-1][t]===a[r][t]&&(o[t]=n);p.transparent=n,g.frameOpts.disposal=1}}if(p.delay=n.frames[r].delay/10,i){let t=1;for(;t<s.length;)t<<=1;s.length=t,p.palette=new Uint32Array(s)}r>0&&m.addFrame(0,0,t.width,t.height,g.pixelPaletteIndex,g.frameOpts),g={pixelPaletteIndex:o,frameOpts:p}}g.frameOpts.disposal=1,m.addFrame(0,0,t.width,t.height,g.pixelPaletteIndex,g.frameOpts),r3(new Blob([s.slice(0,m.end())],{type:"image/gif"}),r,"gif")}(this,t);else{let n,i=this.canvas;switch(r=r||r4(t,r)[1]||"png"){default:n="image/png";break;case"webp":n="image/webp";break;case"jpeg":case"jpg":n="image/jpeg"}i.toBlob(n=>{r3(n,t,r)},n)}}async toBlob(){return new Promise(t=>{this.canvas.toBlob(t)})}reset(){if(this.gifProperties){let t=this.gifProperties;t.playing=!0,t.timeSinceStart=0,t.timeDisplayed=0,t.lastChangeTime=0,t.loopCount=0,t.displayIndex=0,this.drawingContext.putImageData(t.frames[0].image,0,0)}}getCurrentFrame(){if(this.gifProperties){let t=this.gifProperties;return t.displayIndex%t.numFrames}}setFrame(t){if(this.gifProperties){let r=this.gifProperties;t<r.numFrames&&t>=0?(r.timeDisplayed=0,r.lastChangeTime=0,r.displayIndex=t,this.drawingContext.putImageData(r.frames[t].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero.")}}numFrames(){if(this.gifProperties)return this.gifProperties.numFrames}play(){this.gifProperties&&(this.gifProperties.playing=!0)}pause(){this.gifProperties&&(this.gifProperties.playing=!1)}delay(t,r){if(this.gifProperties){let n=this.gifProperties;if(r<n.numFrames&&r>=0)n.frames[r].delay=t;else for(let r of n.frames)r.delay=t}}}function r8(t,r){t.Image=r6}void 0!==m&&r8(m);let r9=function(t,r){return 0!==t&&(this.x=this.x%t),0!==r&&(this.y=this.y%r),this},r7=function(t,r,n){return 0!==t&&(this.x=this.x%t),0!==r&&(this.y=this.y%r),0!==n&&(this.z=this.z%n),this};class ne{constructor(...t){let r=t;"function"==typeof t[0]&&(this.isPInst=!0,this._fromRadians=t[0],this._toRadians=t[1],r=t.slice(2));let n=r.length;0===n?(this.dimensions=2,this._values=[0,0,0]):(this.dimensions=n,this._values=r)}get values(){return this._values}set values(t){let r=t.length;0===r?(this.dimensions=2,this._values=[0,0,0]):(this.dimensions=r,this._values=t.slice())}get x(){return this._values[0]||0}getValue(t){if(t<this._values.length)return this._values[t];m._friendlyError("The index parameter is trying to set a value outside the bounds of the vector","p5.Vector.setValue")}setValue(t,r){t<this._values.length?this._values[t]=r:m._friendlyError("The index parameter is trying to set a value outside the bounds of the vector","p5.Vector.setValue")}get y(){return this._values[1]||0}get z(){return this._values[2]||0}get w(){return this._values[3]||0}set x(t){this._values.length>1&&(this._values[0]=t)}set y(t){this._values.length>1&&(this._values[1]=t)}set z(t){this._values.length>2&&(this._values[2]=t)}set w(t){this._values.length>3&&(this._values[3]=t)}toString(){return`vector[${this._values.join(", ")}]`}set(...t){return t[0]instanceof ne?this._values=t[0].values.slice():Array.isArray(t[0])?this._values=t[0].map(t=>t||0):this._values=t.map(t=>t||0),this.dimensions=this._values.length,this}copy(){return this.isPInst?new ne(this._fromRadians,this._toRadians,...this._values):new ne(...this._values)}add(...t){return t[0]instanceof ne?t=t[0].values:Array.isArray(t[0])&&(t=t[0]),t.forEach((t,r)=>{this._values[r]=(this._values[r]||0)+(t||0)}),this}rem(t,r,n){if(t instanceof ne){if([t.x,t.y,t.z].every(Number.isFinite)){let r=parseFloat(t.x),n=parseFloat(t.y),i=parseFloat(t.z);return r7.call(this,r,n,i)}}else if(Array.isArray(t)){if(t.every(t=>Number.isFinite(t))){if(2===t.length)return r9.call(this,t[0],t[1]);if(3===t.length)return r7.call(this,t[0],t[1],t[2])}}else if(1==arguments.length){if(Number.isFinite(arguments[0])&&0!==arguments[0])return this.x=this.x%arguments[0],this.y=this.y%arguments[0],this.z=this.z%arguments[0],this}else if(2==arguments.length){let t=[...arguments];if(t.every(t=>Number.isFinite(t))&&2===t.length)return r9.call(this,t[0],t[1])}else if(3==arguments.length){let t=[...arguments];if(t.every(t=>Number.isFinite(t))&&3===t.length)return r7.call(this,t[0],t[1],t[2])}}sub(...t){return t[0]instanceof ne?t[0].values.forEach((t,r)=>{this._values[r]-=t||0}):Array.isArray(t[0])?t[0].forEach((t,r)=>{this._values[r]-=t||0}):t.forEach((t,r)=>{this._values[r]-=t||0}),this}mult(...t){if(1===t.length&&t[0]instanceof ne){let r=t[0],n=Math.min(this._values.length,r.values.length);for(let t=0;t<n;t++){if(!Number.isFinite(r.values[t])||"number"!=typeof r.values[t])return console.warn("p5.Vector.prototype.mult:","v contains components that are either undefined or not finite numbers"),this;this._values[t]*=r.values[t]}}else if(1===t.length&&Array.isArray(t[0])){let r=t[0],n=Math.min(this._values.length,r.length);for(let t=0;t<n;t++){if(!Number.isFinite(r[t])||"number"!=typeof r[t])return console.warn("p5.Vector.prototype.mult:","arr contains elements that are either undefined or not finite numbers"),this;this._values[t]*=r[t]}}else if(1===t.length&&"number"==typeof t[0]&&Number.isFinite(t[0]))for(let r=0;r<this._values.length;r++)this._values[r]*=t[0];return this}div(...t){if(0===t.length)return this;if(1===t.length&&t[0]instanceof ne){let r=t[0];if(r._values.every(t=>Number.isFinite(t)&&"number"==typeof t)){if(r._values.some(t=>0===t))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this._values=this._values.map((t,n)=>t/r._values[n])}else console.warn("p5.Vector.prototype.div:","vector contains components that are either undefined or not finite numbers");return this}if(1===t.length&&Array.isArray(t[0])){let r=t[0];if(r.every(t=>Number.isFinite(t)&&"number"==typeof t)){if(r.some(t=>0===t))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this._values=this._values.map((t,n)=>t/r[n])}else console.warn("p5.Vector.prototype.div:","array contains components that are either undefined or not finite numbers");return this}if(t.every(t=>Number.isFinite(t)&&"number"==typeof t)){if(t.some(t=>0===t))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this._values=this._values.map((r,n)=>r/t[0])}else console.warn("p5.Vector.prototype.div:","arguments contain components that are either undefined or not finite numbers");return this}mag(){return Math.sqrt(this.magSq())}magSq(){return this._values.reduce((t,r)=>t+r*r,0)}dot(...t){return t[0]instanceof ne?this.dot(...t[0]._values):this._values.reduce((r,n,i)=>r+n*(t[i]||0),0)}cross(t){let r=this.y*t.z-this.z*t.y,n=this.z*t.x-this.x*t.z,i=this.x*t.y-this.y*t.x;return this.isPInst?new ne(this._fromRadians,this._toRadians,r,n,i):new ne(r,n,i)}dist(t){return t.copy().sub(this).mag()}normalize(){let t=this.mag();return 0!==t&&this.mult(1/t),this}limit(t){let r=this.magSq();return r>t*t&&this.div(Math.sqrt(r)).mult(t),this}setMag(t){return this.normalize().mult(t)}heading(){let t=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(t):t}setHeading(t){this.isPInst&&(t=this._toRadians(t));let r=this.mag();return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this}rotate(t){let r=this.heading()+t;this.isPInst&&(r=this._toRadians(r));let n=this.mag();return this.x=Math.cos(r)*n,this.y=Math.sin(r)*n,this}angleBetween(t){if(0==this.magSq()*t.magSq())return NaN;let r=this.cross(t),n=Math.atan2(r.mag(),this.dot(t))*Math.sign(r.z||1);return this.isPInst&&(n=this._fromRadians(n)),n}lerp(t,r,n,i){return t instanceof ne?this.lerp(t.x,t.y,t.z,r):(this.x+=(t-this.x)*i||0,this.y+=(r-this.y)*i||0,this.z+=(n-this.z)*i||0,this)}slerp(t,r){if(0===r)return this;if(1===r)return this.set(t);let n=this.mag(),i=t.mag();if(0==n*i)return this.mult(1-r).add(t.x*r,t.y*r,t.z*r),this;let s=this.cross(t),a=s.mag(),o=Math.atan2(a,this.dot(t));if(a>0)s.x/=a,s.y/=a,s.z/=a;else{if(o<.5*Math.PI)return this.mult(1-r).add(t.x*r,t.y*r,t.z*r),this;0===this.z&&0===t.z?s.set(0,0,1):0!==this.x?s.set(this.y,-this.x,0).normalize():s.set(1,0,0)}let l=s.cross(this),u=1-r+r*i/n,h=u*Math.cos(r*o),c=u*Math.sin(r*o);return this.x=this.x*h+l.x*c,this.y=this.y*h+l.y*c,this.z=this.z*h+l.z*c,this}reflect(t){let r=ne.normalize(t);return this.sub(r.mult(2*this.dot(r)))}array(){return[this.x||0,this.y||0,this.z||0]}equals(...t){let r;r=t[0]instanceof ne?t[0]._values:Array.isArray(t[0])?t[0]:t;for(let t=0;t<this._values.length;t++)if(this._values[t]!==(r[t]||0))return!1;return!0}clampToZero(){for(let t=0;t<this._values.length;t++)this._values[t]=this._clampToZero(this._values[t]);return this}_clampToZero(t){return Math.abs((t||0)-0)<=Number.EPSILON?0:t}static fromAngle(t,r){return void 0===r&&(r=1),new ne(r*Math.cos(t),r*Math.sin(t))}static fromAngles(t,r,n){void 0===n&&(n=1);let i=Math.cos(r),s=Math.cos(t),a=Math.sin(t);return new ne(n*a*Math.sin(r),-n*s,n*a*i)}static random2D(){return this.fromAngle(Math.random()*b)}static random3D(){let t=Math.random()*b,r=2*Math.random()-1,n=Math.sqrt(1-r*r);return new ne(n*Math.cos(t),n*Math.sin(t),r)}static copy(t){return t.copy(t)}static add(t,r,n){return n?n.set(t):(n=t.copy(),3==arguments.length&&m._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),n.add(r),n}static rem(t,r){if(t instanceof ne&&r instanceof ne){let n=t.copy();return n.rem(r),n}}static sub(t,r,n){return n?n.set(t):(n=t.copy(),3==arguments.length&&m._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),n.sub(r),n}static mult(t,r,n){return n?n.set(t):(n=t.copy(),3==arguments.length&&m._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),n.mult(r),n}static rotate(t,r,n){return 2==arguments.length?n=t.copy():(n instanceof ne||m._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),n.set(t)),n.rotate(r),n}static div(t,r,n){return n?n.set(t):(n=t.copy(),3==arguments.length&&m._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),n.div(r),n}static dot(t,r){return t.dot(r)}static cross(t,r){return t.cross(r)}static dist(t,r){return t.dist(r)}static lerp(t,r,n,i){return i?i.set(t):(i=t.copy(),4==arguments.length&&m._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),i.lerp(r,n),i}static slerp(t,r,n,i){return i?i.set(t):(i=t.copy(),4==arguments.length&&m._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),i.slerp(r,n),i}static mag(t){return t.mag()}static magSq(t){return t.magSq()}static normalize(t,r){return arguments.length<2?r=t.copy():(r instanceof ne||m._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),r.set(t)),r.normalize()}static limit(t,r,n){return arguments.length<3?n=t.copy():(n instanceof ne||m._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),n.set(t)),n.limit(r)}static setMag(t,r,n){return arguments.length<3?n=t.copy():(n instanceof ne||m._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),n.set(t)),n.setMag(r)}static heading(t){return t.heading()}static angleBetween(t,r){return t.angleBetween(r)}static reflect(t,r,n){return arguments.length<3?n=t.copy():(n instanceof ne||m._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),n.set(t)),n.reflect(r)}static array(t){return t.array()}static equals(t,r){let n;return t instanceof ne?n=t:t instanceof Array?n=(new ne).set(t):m._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),n.equals(r)}}function nt(t,r){t.Vector=ne}function nr(t){let r=0;for(let n=1;n<t.length;n++)r+=t[n-1].position.dist(t[n].position);return r}void 0!==m&&nt(m);class nn{constructor(t){for(let[r,n]of Object.entries(t))this[r]=n}}class ni{vertices;_shape=null;_primitivesIndex=null;_contoursIndex=null;isClosing=!1;constructor(...t){if(this.constructor===ni)throw Error("ShapePrimitive is an abstract class: it cannot be instantiated.");if(!(t.length>0))throw Error("At least one vertex must be passed to the constructor.");this.vertices=t}get vertexCount(){return this.vertices.length}get vertexCapacity(){throw Error("Getter vertexCapacity must be implemented.")}get _firstInterpolatedVertex(){return this.startVertex()}get canOverrideAnchor(){return!1}accept(t){throw Error("Method accept() must be implemented.")}addToShape(t){let r=t.at(-1);if(0===r.primitives.length)r.primitives.push(this);else{let n,i,s=t.at(-1,-1),a=s instanceof this.constructor,o=s.vertexCapacity-s.vertexCount;a&&o>0?(n=this.vertices.splice(0,o),i=this.vertices,s.vertices.push(...n),i.length>0&&r.primitives.push(this)):r.primitives.push(this)}if(this.vertices.length>0){let r=t.at(-1);this._primitivesIndex=r.primitives.length-1,this._contoursIndex=t.contours.length-1,this._shape=t}return t.at(-1,-1)}get _nextPrimitive(){return this._belongsToShape?this._shape.at(this._contoursIndex,this._primitivesIndex+1):null}get _belongsToShape(){return null!==this._shape}handlesClose(){return!1}close(t){throw Error("Unimplemented!")}}class ns{#n;primitives;constructor(t=8){this.#n=t,this.primitives=[]}get kind(){let t=0===this.primitives.length,r=8===this.#n;return t&&r?7:this.#n}accept(t){for(let r of this.primitives)r.accept(t)}}class na extends ni{#i=1;get vertexCapacity(){return this.#i}accept(t){t.visitAnchor(this)}getEndVertex(){return this.vertices[0]}}class no extends ni{constructor(...t){if(super(...t),this.constructor===no)throw Error("Segment is an abstract class: it cannot be instantiated.")}get _previousPrimitive(){return this._belongsToShape?this._shape.at(this._contoursIndex,this._primitivesIndex-1):null}getStartVertex(){return this._previousPrimitive.getEndVertex()}getEndVertex(){return this.vertices.at(-1)}}class nl extends no{#i=1;get vertexCapacity(){return this.#i}accept(t){t.visitLineSegment(this)}}class nu extends no{#s;#i;constructor(t,...r){super(...r);let n=Array.isArray(t)?t[0]:t;this.#s=n,this.#i=n}get order(){return this.#s}get vertexCapacity(){return this.#i}#a;hullLength(){return void 0===this.#a&&(this.#a=nr([this.getStartVertex(),...this.vertices])),this.#a}accept(t){t.visitBezierSegment(this)}}class nh extends no{#i=1/0;_splineProperties={ends:eL,tightness:0};get vertexCapacity(){return this.#i}accept(t){t.visitSplineSegment(this)}get _comesAfterSegment(){return this._previousPrimitive instanceof no}get canOverrideAnchor(){return this._splineProperties.ends===eN}get _firstInterpolatedVertex(){return this._splineProperties.ends===eN?this._comesAfterSegment?this.vertices[1]:this.vertices[0]:this.getStartVertex()}get _chainedToSegment(){if(this._belongsToShape&&this._comesAfterSegment){let t=this._firstInterpolatedVertex.position;return this.getStartVertex().position.equals(t)}return!1}addToShape(t){var r,n;let i=super.addToShape(t);if(this._splineProperties.ends=t._splineProperties.ends,this._splineProperties.tightness=t._splineProperties.tightness,this._splineProperties.ends!==eN)return i;let s=!this._belongsToShape,a=t.at(-1,-1);if(s&&2===a.vertices.length&&a._comesAfterSegment&&!a._chainedToSegment){let t=a._firstInterpolatedVertex.position,i=a.getStartVertex().position;console.warn((r=t.array(),n=i.array(),`Spline does not start where previous path segment ends:
      second spline vertex at (${r})
      expected to be at (${n}).`))}return i}getEndVertex(){return this._splineProperties.ends===eL?super.getEndVertex():this._splineProperties.ends===eN?this.vertices.at(-2):this.getStartVertex()}getControlPoints(){let t=[];for(let r of(this._comesAfterSegment&&t.push(this.getStartVertex()),t.push(this.getStartVertex()),this.vertices))t.push(r);let r=this.getStartVertex();return this._splineProperties.ends===eL?(t.unshift(r),t.push(this.vertices.at(-1))):this._splineProperties.ends===eO&&(t.unshift(this.vertices.at(-1)),t.push(r,this.vertices.at(0))),t}handlesClose(){return!!this._belongsToShape&&2===this._shape.at(this._contoursIndex).primitives.length&&1===this._primitivesIndex}close(){this._splineProperties.ends=eO}}class nc extends ni{#i=1;get vertexCapacity(){return this.#i}accept(t){t.visitPoint(this)}}class nd extends ni{#i=2;get vertexCapacity(){return this.#i}accept(t){t.visitLine(this)}}class np extends ni{#i=3;get vertexCapacity(){return this.#i}accept(t){t.visitTriangle(this)}}class nf extends ni{#i=4;get vertexCapacity(){return this.#i}accept(t){t.visitQuad(this)}}class nm extends ni{#i=1/0;get vertexCapacity(){return this.#i}accept(t){t.visitTriangleFan(this)}}class ng extends ni{#i=1/0;get vertexCapacity(){return this.#i}accept(t){t.visitTriangleStrip(this)}}class ny extends ni{#i=1/0;get vertexCapacity(){return this.#i}accept(t){t.visitQuadStrip(this)}}class nv{creators;constructor(){let t=new Map;t.set("vertex-7",(...t)=>new na(...t)),t.set("vertex-8",(...t)=>new nl(...t)),t.set("vertex-0",(...t)=>new nc(...t)),t.set("vertex-1",(...t)=>new nd(...t)),t.set("vertex-4",(...t)=>new np(...t)),t.set(`vertex-${M}`,(...t)=>new nf(...t)),t.set("vertex-6",(...t)=>new nm(...t)),t.set("vertex-5",(...t)=>new ng(...t)),t.set(`vertex-${I}`,(...t)=>new ny(...t)),t.set("bezierVertex-7",(t,...r)=>new na(...r)),t.set("bezierVertex-8",(t,...r)=>new nu(t,...r)),t.set("splineVertex-7",(...t)=>new na(...t)),t.set("splineVertex-8",(...t)=>new nh(...t)),this.creators=t}get(t,r){let n=`${t}-${r}`;return this.creators.get(n)}set(t,r,n){let i=`${t}-${r}`;this.creators.set(i,n)}clear(){this.creators.clear()}}class nx{#o;#l;#u;#h=3;kind=null;contours=[];_splineProperties={tightness:0,ends:eL};userVertexProperties=null;constructor(t,r=new nv){for(let n in this.#l=t,this.#o=t,this.#u=r,this.#o)"position"!==n&&"textureCoordinates"!==n&&(this[n]=function(t){this.#o[n]=t})}serializeToArray(t){if(null==t)return[];if(t instanceof Number)return[t];if(t instanceof Array)return t;if(t.array instanceof Function)return t.array();throw Error(`Can't convert ${t} to array!`)}vertexToArray(t){let r=[];for(let n in this.#o){if(this.userVertexProperties&&n in this.userVertexProperties)continue;let i=t[n];r.push(...this.serializeToArray(i))}for(let n in this.userVertexProperties)n in t?r.push(...this.serializeToArray(t[n])):r.push(...Array(this.userVertexProperties[n]).fill(0));return r}hydrateValue(t,r){if(null===r)return null;if(r instanceof Number)return t.shift();if(r instanceof Array){let n=[];for(let i=0;i<r.length;i++)n.push(t.shift());return n}return r instanceof ne?new ne(t.shift(),t.shift(),t.shift()):r instanceof rP?new rP([t.shift(),t.shift(),t.shift(),t.shift()]):void 0}arrayToVertex(t){let r={},n=[...t];for(let t in this.#o){if(this.userVertexProperties&&t in this.userVertexProperties)continue;let i=this.#o[t];r[t]=this.hydrateValue(n,i)}for(let t in this.userVertexProperties){let i=this.#o[t];r[t]=this.hydrateValue(n,i)}return r}arrayScale(t,r){return t.map(t=>t*r)}arraySum(t,...r){return t.map((t,n)=>{let i=t;for(let t=0;t<r.length;t++)i+=r[t][n];return i})}arrayMinus(t,r){return t.map((t,n)=>t-r[n])}evaluateCubicBezier([t,r,n,i],s){return this.arraySum(this.arrayScale(t,Math.pow(1-s,3)),this.arrayScale(r,3*Math.pow(1-s,2)*s),this.arrayScale(n,3*(1-s)*Math.pow(s,2)),this.arrayScale(i,Math.pow(s,3)))}evaluateQuadraticBezier([t,r,n],i){return this.arraySum(this.arrayScale(t,Math.pow(1-i,2)),this.arrayScale(r,2*(1-i)*i),this.arrayScale(n,i*i))}catmullRomToBezier(t,r){let n=1-r,i=[];for(let r=0;r+3<t.length;r++){let[s,a,o,l]=t.slice(r,r+4),u=this.arraySum(a,this.arrayScale(this.arrayMinus(o,s),n/6)),h=this.arraySum(o,this.arrayScale(this.arrayMinus(a,l),n/6));i.push([u,h,o])}return i}at(t,r,n){let i;switch(i=this.contours.at(t),arguments.length){case 1:return i;case 2:return i.primitives.at(r);case 3:return i.primitives.at(r).vertices.at(n)}}reset(){this.#o={...this.#l},this.kind=null,this.contours=[],this.userVertexProperties=null}vertexProperty(t,r){this.userVertexProperties=this.userVertexProperties||{};let n=this.vertexPropertyKey(t),i=Array.isArray(r)?r:[r];this.userVertexProperties[n]||(this.userVertexProperties[n]=i.length),this.#o[n]=i}vertexPropertyName(t){return t.replace(/Src$/,"")}vertexPropertyKey(t){return t+"Src"}bezierOrder(...t){this.#h=t}splineProperty(t,r){this._splineProperties[t]=r}splineProperties(t){if(!t)return this._splineProperties;for(let r in t)this.splineProperty(r,t[r])}#c(t,r){return this.#o.position=t,void 0!==r&&(this.#o.textureCoordinates=r),new nn(this.#o)}#d(t,r,...n){let i=this.#u.get(t,r);return"bezierVertex"===t?i(this.#h,...n):i(...n)}#p(t,r,n){let i=this.at(-1).kind,s=this.#c(r,n);return this.#d(t,i,s).addToShape(this)}vertex(t,r,{isClosing:n=!1}={}){this.#p("vertex",t,r).isClosing=n}bezierVertex(t,r){this.#p("bezierVertex",t,r)}splineVertex(t,r){this.#p("splineVertex",t,r)}arcVertex(t,r){this.#p("arcVertex",t,r)}beginContour(t=8){7===this.at(-1)?.kind&&this.contours.pop(),this.contours.push(new ns(t))}endContour(t=P,r=this.contours.length-1){let n=this.at(r);if(t===B){let t=8===n.kind,i=this.at(r,0,0),s=Object.hasOwn(i,"position"),a=this.at(r,-1);if(t&&s)if(a.handlesClose())a.close(i);else{let t=this.contours.splice(r+1,this.contours.length-r-1),n=this.#o;for(let t in this.#o={...n},i)["position","textureCoordinates"].includes(t)||(this.#o[t]=i[t]);this.vertex(i.position,i.textureCoordinates,{isClosing:!0}),this.#o=n,this.contours.push(...t)}}}beginShape(t=8){this.kind=t,this.beginContour(t)}endShape(t=P){t===B&&this.endContour(t,0)}accept(t){for(let r of this.contours)r.accept(t)}}class nb{constructor(){if(this.constructor===nb)throw Error("PrimitiveVisitor is an abstract class: it cannot be instantiated.")}visitAnchor(t){throw Error("Method visitAnchor() has not been implemented.")}visitLineSegment(t){throw Error("Method visitLineSegment() has not been implemented.")}visitBezierSegment(t){throw Error("Method visitBezierSegment() has not been implemented.")}visitSplineSegment(t){throw Error("Method visitSplineSegment() has not been implemented.")}visitArcSegment(t){throw Error("Method visitArcSegment() has not been implemented.")}visitPoint(t){throw Error("Method visitPoint() has not been implemented.")}visitLine(t){throw Error("Method visitLine() has not been implemented.")}visitTriangle(t){throw Error("Method visitTriangle() has not been implemented.")}visitQuad(t){throw Error("Method visitQuad() has not been implemented.")}visitTriangleFan(t){throw Error("Method visitTriangleFan() has not been implemented.")}visitTriangleStrip(t){throw Error("Method visitTriangleStrip() has not been implemented.")}visitQuadStrip(t){throw Error("Method visitQuadStrip() has not been implemented.")}}class nw extends nb{path=new Path2D;strokeWeight;constructor({strokeWeight:t}){super(),this.strokeWeight=t}visitAnchor(t){let r=t.getEndVertex();this.path.moveTo(r.position.x,r.position.y)}visitLineSegment(t){if(t.isClosing)this.path.closePath();else{let r=t.getEndVertex();this.path.lineTo(r.position.x,r.position.y)}}visitBezierSegment(t){let[r,n,i]=t.vertices;switch(t.order){case 2:this.path.quadraticCurveTo(r.position.x,r.position.y,n.position.x,n.position.y);break;case 3:this.path.bezierCurveTo(r.position.x,r.position.y,n.position.x,n.position.y,i.position.x,i.position.y)}}visitSplineSegment(t){let r=t._shape;if(t._splineProperties.ends===eN&&!t._comesAfterSegment){let r=t._firstInterpolatedVertex;this.path.moveTo(r.position.x,r.position.y)}let n=t.getControlPoints().map(t=>r.vertexToArray(t));for(let i of r.catmullRomToBezier(n,t._splineProperties.tightness).map(t=>t.map(t=>r.arrayToVertex(t)))){let t=i.flatMap(t=>[t.position.x,t.position.y]);this.path.bezierCurveTo(...t)}}visitPoint(t){let{x:r,y:n}=t.vertices[0].position;this.path.moveTo(r,n),this.path.lineTo(r+1e-5,n)}visitLine(t){let{x:r,y:n}=t.vertices[0].position,{x:i,y:s}=t.vertices[1].position;this.path.moveTo(r,n),this.path.lineTo(i,s)}visitTriangle(t){let[r,n,i]=t.vertices;this.path.moveTo(r.position.x,r.position.y),this.path.lineTo(n.position.x,n.position.y),this.path.lineTo(i.position.x,i.position.y),this.path.closePath()}visitQuad(t){let[r,n,i,s]=t.vertices;this.path.moveTo(r.position.x,r.position.y),this.path.lineTo(n.position.x,n.position.y),this.path.lineTo(i.position.x,i.position.y),this.path.lineTo(s.position.x,s.position.y),this.path.closePath()}visitTriangleFan(t){let[r,...n]=t.vertices;for(let t=0;t<n.length-1;t++){let i=n[t],s=n[t+1];this.path.moveTo(r.position.x,r.position.y),this.path.lineTo(i.position.x,i.position.y),this.path.lineTo(s.position.x,s.position.y),this.path.closePath()}}visitTriangleStrip(t){for(let r=0;r<t.vertices.length-2;r++){let n=t.vertices[r],i=t.vertices[r+1],s=t.vertices[r+2];this.path.moveTo(n.position.x,n.position.y),this.path.lineTo(i.position.x,i.position.y),this.path.lineTo(s.position.x,s.position.y),this.path.closePath()}}visitQuadStrip(t){for(let r=0;r<t.vertices.length-3;r+=2){let n=t.vertices[r],i=t.vertices[r+1],s=t.vertices[r+2],a=t.vertices[r+3];this.path.moveTo(n.position.x,n.position.y),this.path.lineTo(i.position.x,i.position.y),this.path.lineTo(a.position.x,a.position.y),this.path.lineTo(s.position.x,s.position.y),this.path.closePath()}}}class n_ extends nb{contours=[];curveDetail;pointsToLines;constructor({curveDetail:t=1,pointsToLines:r=!0}={}){super(),this.curveDetail=t,this.pointsToLines=r}lastContour(){return this.contours[this.contours.length-1]}visitAnchor(t){this.contours.push([]);let r=t._nextPrimitive;r?.canOverrideAnchor?this.lastContour().push(r._firstInterpolatedVertex):this.lastContour().push(t.getEndVertex())}visitLineSegment(t){this.lastContour().push(t.getEndVertex())}visitBezierSegment(t){let r=this.lastContour(),n=Math.max(1,Math.ceil(t.hullLength()*this.curveDetail)),i=[t.getStartVertex(),...t.vertices].map(r=>t._shape.vertexToArray(r));for(let s=0;s<n;s++){let a=(s+1)/n;r.push(t._shape.arrayToVertex(3===t.order?t._shape.evaluateCubicBezier(i,a):t._shape.evaluateQuadraticBezier(i,a)))}}visitSplineSegment(t){let r=t._shape,n=this.lastContour(),i=t.getControlPoints().map(t=>r.vertexToArray(t)),s=r.catmullRomToBezier(i,t._splineProperties.tightness),a=r.vertexToArray(t._firstInterpolatedVertex);for(let t of s){let i=[a,...t],s=Math.max(1,Math.ceil(nr(i.map(t=>r.arrayToVertex(t)))*this.curveDetail));for(let t=0;t<s;t++){let a=(t+1)/s;n.push(r.arrayToVertex(r.evaluateCubicBezier(i,a)))}a=t[2]}}visitPoint(t){this.pointsToLines?this.contours.push(...t.vertices.map(t=>[t,t])):this.contours.push(t.vertices.slice())}visitLine(t){this.contours.push(t.vertices.slice())}visitTriangle(t){this.contours.push(t.vertices.slice())}visitQuad(t){this.contours.push(t.vertices.slice())}visitTriangleFan(t){this.contours.push(t.vertices.slice())}visitTriangleStrip(t){this.contours.push(t.vertices.slice())}visitQuadStrip(t){this.contours.push(t.vertices.slice())}}class nC extends nb{constructor(){super()}}function nS(t,r){t.Shape=nx,t.Contour=ns,t.ShapePrimitive=ni,t.Vertex=nn,t.Anchor=na,t.Segment=no,t.LineSegment=nl,t.BezierSegment=nu,t.SplineSegment=nh,t.Point=nc,t.Line=nd,t.Triangle=np,t.Quad=nf,t.TriangleFan=nm,t.TriangleStrip=ng,t.QuadStrip=ny,t.PrimitiveVisitor=nb,t.PrimitiveToPath2DConverter=nw,t.PrimitiveToVerticesConverter=n_,t.PointAtLengthGetter=nC,r.bezierOrder=function(t){return this._renderer.bezierOrder(t)},r.splineVertex=function(...t){let r=0,n=0,i=0,s=0,a=0;2===t.length?[r,n]=t:4===t.length?[r,n,s,a]=t:3===t.length?[r,n,i]=t:5===t.length&&([r,n,i,s,a]=t),this._renderer.splineVertex(r,n,i,s,a)},r.splineProperty=function(t,r){return this._renderer.splineProperty(t,r)},r.splineProperties=function(t){return this._renderer.splineProperties(t)},r.vertex=function(t,r){let n,i,s;n=i=s=0,3==arguments.length?n=arguments[2]:4==arguments.length?(i=arguments[2],s=arguments[3]):5==arguments.length&&(n=arguments[2],i=arguments[3],s=arguments[4]),this._renderer.vertex(t,r,n,i,s)},r.beginContour=function(t){this._renderer.beginContour(t)},r.endContour=function(t=P){this._renderer.endContour(t)}}void 0!==m&&nS(m,m.prototype);class nE{#f={};constructor(t){for(let r in t)this[r]=t[r]}setValue(t,r){t in this.#f||(this.#f[t]=this[t]),this[t]=r}getDiff(){let t=this.#f;return this.#f={},t}getModified(){return this.#f}applyDiff(t){for(let t in this.#f)this[t]=this.#f[t];this.#f=t}}class nD{constructor(t={}){for(let r in t)this[r]=t[r]}clone(){return new nD(this)}}class nA{static states={strokeColor:null,strokeSet:!1,fillColor:null,fillSet:!1,tint:null,imageMode:C,rectMode:C,ellipseMode:k,strokeWeight:1,textFont:{family:"sans-serif"},textLeading:15,leadingSet:!1,textSize:12,textAlign:A,textBaseline:F,bezierOrder:3,splineProperties:new nD({ends:eL,tightness:0}),textWrap:ep,fontStyle:ed,fontStretch:ed,fontWeight:ed,lineHeight:ed,fontVariant:ed,direction:"inherit"};constructor(t,r,n,i){this._pInst=t,this._isMainCanvas=i,this.pixels=[],this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this.width=r,this.height=n,this._events={},i&&(this._isMainCanvas=!0),this.states=new nE(nA.states),this.states.strokeColor=new rP([0,0,0]),this.states.fillColor=new rP([1,1,1]),this._pushPopStack=[],this._pushPopDepth=0,this._clipping=!1,this._clipInvert=!1,this._currentShape=void 0}get currentShape(){return this._currentShape||(this._currentShape=new nx(this.getCommonVertexProperties())),this._currentShape}remove(){}pixelDensity(t){let r;return"number"==typeof t?(t!==this._pixelDensity&&(this._pixelDensity=t),r=this,this.resize(this.width,this.height)):r=this._pixelDensity,r}push(){this._pushPopDepth++,this._pushPopStack.push(this.states.getDiff())}pop(){this._pushPopDepth--;let t=this._pushPopStack.pop()||{},r=this.states.getModified();this.states.applyDiff(t),this.updateShapeVertexProperties(r),this.updateShapeProperties(r)}bezierOrder(t){if(void 0===t)return this.states.bezierOrder;this.states.setValue("bezierOrder",t),this.updateShapeProperties()}bezierVertex(t,r,n=0,i=0,s=0){let a=new ne(t,r,n),o=this.getSupportedIndividualVertexProperties().textureCoordinates?new ne(i,s):void 0;this.currentShape.bezierVertex(a,o)}splineProperty(t,r){if(void 0===r)return this.states.splineProperties[t];this.states.setValue("splineProperties",this.states.splineProperties.clone()),this.states.splineProperties[t]=r,this.updateShapeProperties()}splineProperties(t){if(!t)return{...this.states.splineProperties};for(let r in t)this.splineProperty(r,t[r])}splineVertex(t,r,n=0,i=0,s=0){let a=new ne(t,r,n),o=this.getSupportedIndividualVertexProperties().textureCoordinates?new ne(i,s):void 0;this.currentShape.splineVertex(a,o)}curveDetail(t){if(void 0===t)return this.states.curveDetail;this.states.setValue("curveDetail",t)}beginShape(...t){this.currentShape.reset(),this.updateShapeVertexProperties(),this.currentShape.beginShape(...t)}endShape(...t){this.currentShape.endShape(...t),this.drawShape(this.currentShape)}beginContour(t){this.currentShape.beginContour(t)}endContour(t){this.currentShape.endContour(t)}drawShape(t,r){throw Error("Unimplemented")}vertex(t,r,n=0,i=0,s=0){let a=new ne(t,r,n),o=this.getSupportedIndividualVertexProperties().textureCoordinates?new ne(i,s):void 0;this.currentShape.vertex(a,o)}bezier(t,r,n,i,s,a,o,l){let u=this._pInst.bezierOrder();return this._pInst.bezierOrder(u),this._pInst.beginShape(),this._pInst.bezierVertex(t,r),this._pInst.bezierVertex(n,i),this._pInst.bezierVertex(s,a),this._pInst.bezierVertex(o,l),this._pInst.endShape(),this}spline(...t){if(8===t.length){let[r,n,i,s,a,o,l,u]=t;this._pInst.beginShape(),this._pInst.splineVertex(r,n),this._pInst.splineVertex(i,s),this._pInst.splineVertex(a,o),this._pInst.splineVertex(l,u),this._pInst.endShape()}else if(12===t.length){let[r,n,i,s,a,o,l,u,h,c,d,p]=t;this._pInst.beginShape(),this._pInst.splineVertex(r,n,i),this._pInst.splineVertex(s,a,o),this._pInst.splineVertex(l,u,h),this._pInst.splineVertex(c,d,p),this._pInst.endShape()}return this}beginClip(t={}){if(this._clipping)throw Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=t.invert}endClip(){if(!this._clipping)throw Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}resize(t,r){this.width=t,this.height=r}get(t,r,n,i){let s=this._pixelDensity,a=this.canvas;if(void 0===t&&void 0===r)t=r=0,n=this.width,i=this.height;else if(t*=s,r*=s,void 0===n&&void 0===i)return t<0||r<0||t>=a.width||r>=a.height?[0,0,0,0]:this._getPixel(t,r);let o=new r6(n*s,i*s);return o.pixelDensity(s),o.canvas.getContext("2d").drawImage(a,t,r,n*s,i*s,0,0,n*s,i*s),o}scale(t,r){}fill(...t){this.states.setValue("fillSet",!0),this.states.setValue("fillColor",this._pInst.color(...t)),this.updateShapeVertexProperties()}noFill(){this.states.setValue("fillColor",null)}strokeWeight(t){if(void 0===t)return this.states.strokeWeight;this.states.setValue("strokeWeight",t)}stroke(...t){this.states.setValue("strokeSet",!0),this.states.setValue("strokeColor",this._pInst.color(...t)),this.updateShapeVertexProperties()}noStroke(){this.states.setValue("strokeColor",null)}getCommonVertexProperties(){return{}}getSupportedIndividualVertexProperties(){return{textureCoordinates:!1}}updateShapeProperties(t){if(!t||t.bezierOrder||t.splineProperties){let t=this.currentShape;t.bezierOrder(this.states.bezierOrder),t.splineProperty("ends",this.states.splineProperties.ends),t.splineProperty("tightness",this.states.splineProperties.tightness)}}updateShapeVertexProperties(t){let r=this.getCommonVertexProperties();if(!t||Object.keys(t).some(t=>t in r)){let t=this.currentShape;for(let n in r)t[n](r[n])}}_applyDefaults(){return this}finishDraw(){}_middleAlignOffset=function(){let{textFont:t,textSize:r}=this.states,n=t?.font,i=this.textDrawingContext().measureText("X"),s=(n?.data||{})["OS/2"]?.sCapHeight;return s?s*=r/n.data.head.unitsPerEm:s=i.fontBoundingBoxAscent,i.alphabeticBaseline+s/2}}let nk="video",nT="audio";class nF{constructor(t,r,n,i){this.callback=t,this.time=r,this.id=n,this.val=i}}class nM extends rZ{constructor(t,r){super(t,r);let n=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],this.pixels=[],this._pixelsState=this,this._pixelDensity=1,this._modified=!1,this._frameOnCanvas=-1,Object.defineProperty(n,"src",{get(){let t=n.elt.children[0].src,r=n.elt.src===window.location.href?"":n.elt.src;return t===window.location.href?r:t},set(r){for(let t=0;t<n.elt.children.length;t++)n.elt.removeChild(n.elt.children[t]);let i=document.createElement("source");i.src=r,t.appendChild(i),n.elt.src=r,n.modified=!0}}),n._onended=function(){},n.elt.onended=function(){n._onended(n)}}play(){let t;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),this.elt.readyState>1||this.elt.load(),(t=this.elt.play())&&t.catch&&t.catch(t=>{"NotAllowedError"===t.name?console.error(t):console.error("Media play method encountered an unexpected error",t)}),this}stop(){return this.elt.pause(),this.elt.currentTime=0,this}pause(){return this.elt.pause(),this}loop(){return this.elt.setAttribute("loop",!0),this.play(),this}noLoop(){return this.elt.removeAttribute("loop"),this}_setupAutoplayFailDetection(){let t=setTimeout(()=>{console.error(e)},500);this.elt.addEventListener("play",()=>clearTimeout(t),{passive:!0,once:!0})}autoplay(t){let r=this.elt.getAttribute("autoplay");if(this.elt.setAttribute("autoplay",t),t&&!r){let t=()=>this._setupAutoplayFailDetection();4===this.elt.readyState?t():this.elt.addEventListener("canplay",t,{passive:!0,once:!0})}return this}volume(t){if(void 0===t)return this.elt.volume;this.elt.volume=t}speed(t){if(void 0===t)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=t:this.presetPlaybackRate=t}time(t){return void 0!==t&&(this.elt.currentTime=t),this.elt.currentTime}duration(){return this.elt.duration}_ensureCanvas(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));let t=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&t&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),!0===this.flipped&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}loadPixels(...t){return this._ensureCanvas(),m.Renderer2D.prototype.loadPixels.apply(this,t)}updatePixels(t,r,n,i){return this.loadedmetadata&&(this._ensureCanvas(),m.Renderer2D.prototype.updatePixels.call(this,t,r,n,i)),this.setModified(!0),this}get(...t){return this._ensureCanvas(),m.Renderer2D.prototype.get.apply(this,t)}_getPixel(...t){return this.loadPixels(),m.Renderer2D.prototype._getPixel.apply(this,t)}set(t,r,n){this.loadedmetadata&&(this._ensureCanvas(),m.Renderer2D.prototype.set.call(this,t,r,n),this.setModified(!0))}copy(...t){this._ensureCanvas(),m.prototype.copy.apply(this,t)}mask(...t){this.loadPixels(),this.setModified(!0),m.Image.prototype.mask.apply(this,t)}isModified(){return this._modified}setModified(t){this._modified=t}onended(t){return this._onended=t,this}_getAudioContext(){}_getSoundOut(){}connect(t){let r,n;if(this._getAudioContext()&&this._getSoundOut())r=this._getAudioContext(),n=this._getSoundOut().input;else try{n=(r=t.context).destination}catch(t){throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=r.createMediaElementSource(this.elt),this.audioSourceNode.connect(n)),t?t.input?this.audioSourceNode.connect(t.input):this.audioSourceNode.connect(t):this.audioSourceNode.connect(n)}disconnect(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}showControls(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}hideControls(){this.elt.controls=!1}addCue(t,r,n){let i=this._cueIDCounter++,s=new nF(r,t,i,n);return this._cues.push(s),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),i}removeCue(t){for(let r=0;r<this._cues.length;r++)this._cues[r].id===t&&(console.log(t),this._cues.splice(r,1));0===this._cues.length&&(this.elt.ontimeupdate=null)}clearCues(){this._cues=[],this.elt.ontimeupdate=null}_onTimeUpdate(){let t=this.time();for(let r=0;r<this._cues.length;r++){let n=this._cues[r].time,i=this._cues[r].val;this._prevTime<n&&n<=t&&this._cues[r].callback(i)}this._prevTime=t}}function nI(t,r){function n(t,r,n){(r._userNode?r._userNode:document.body).appendChild(t);let i=n?new nM(t,r):new rZ(t,r);return r._elements.push(i),i}function i(t,r,i,s){let a=document.createElement(r);for(let t of("string"==typeof(i=i||"")&&(i=[i]),i)){let r=document.createElement("source");r.setAttribute("src",t),a.appendChild(r)}let o=n(a,t,!0);if(o.loadedmetadata=!1,a.addEventListener("loadedmetadata",()=>{o.width=a.videoWidth,o.height=a.videoHeight,0===o.elt.width&&(o.elt.width=a.videoWidth),0===o.elt.height&&(o.elt.height=a.videoHeight),o.presetPlaybackRate&&(o.elt.playbackRate=o.presetPlaybackRate,delete o.presetPlaybackRate),o.loadedmetadata=!0}),"function"==typeof s){let t=()=>{s(o),a.removeEventListener("canplaythrough",t)};a.addEventListener("canplaythrough",t)}return o}r.createVideo=function(t,r){return i(this,nk,t,r)},r.createAudio=function(t,r){return i(this,nT,t,r)},r.VIDEO=nk,r.AUDIO=nT,void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(t){let r=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return r?new Promise(function(n,i){r.call(navigator,t,n,i)}):Promise.reject(Error("getUserMedia is not implemented in this browser"))}),r.createCapture=function(...i){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");let s,a,o=!0,l=!0,u=!1;for(let t of i)t===r.VIDEO?l=!1:t===r.AUDIO?o=!1:"object"==typeof t?(void 0!==t.flipped&&(u=t.flipped,delete t.flipped),s=Object.assign({},s,t)):"function"==typeof t&&(a=t);s=Object.assign({},{video:o,audio:l},s);let h=document.createElement(nk);h.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(s).then(function(t){try{"srcObject"in h?h.srcObject=t:h.src=window.URL.createObjectURL(t)}catch(r){h.src=t}}).catch(r=>{"NotFoundError"===r.name&&t._friendlyError("No webcam found on this device","createCapture"),"NotAllowedError"===r.name&&t._friendlyError("Access to the camera was denied","createCapture"),console.error(r)});let c=n(h,this,!0);return c.loadedmetadata=!1,h.addEventListener("loadedmetadata",function(){h.play(),h.width?(c.width=h.width,c.height=h.height,u&&(c.elt.style.transform="scaleX(-1)")):(c.width=c.elt.width=h.videoWidth,c.height=c.elt.height=h.videoHeight),c.loadedmetadata=!0,a&&a(h.srcObject)}),c.flipped=u,c},t.MediaElement=nM,nM.prototype._getSoundOut=function(){return t.soundOut},nM.prototype._getAudioContext=function(){return"function"==typeof r.getAudioContext?r.getAudioContext():void 0}}void 0!==m&&nI(m,m.prototype);var nB,nP,nL=function(t,r,n,i,s){let a;return s===C?a={x:t,y:r,w:Math.abs(n),h:Math.abs(i)}:s===S?a={x:Math.min(t,n),y:Math.min(r,i),w:Math.abs(n-t),h:Math.abs(i-r)}:s===E?a={x:t-(n=Math.abs(n)),y:r-(i=Math.abs(i)),w:2*n,h:2*i}:s===k&&(a={x:t-.5*(n=Math.abs(n)),y:r-.5*(i=Math.abs(i)),w:n,h:i}),a};function nN(t,r){r._normalizeArcAngles=(t,r,n,i,a)=>{let o;return t-=b*Math.floor(t/b),r-=b*Math.floor(r/b),o=Math.min(Math.abs(t-r),b-Math.abs(t-r)),a&&(t=t<=x?Math.atan(n/i*Math.tan(t)):t>x&&t<=3*x?Math.atan(n/i*Math.tan(t))+s:Math.atan(n/i*Math.tan(t))+b,r=r<=x?Math.atan(n/i*Math.tan(r)):r>x&&r<=3*x?Math.atan(n/i*Math.tan(r))+s:Math.atan(n/i*Math.tan(r))+b),t>r&&(r+=b),{start:t,stop:r,correspondToSamePoint:o<1e-5}},r.arc=function(t,r,n,i,s,a,o,l){if(!this._renderer.states.strokeColor&&!this._renderer.states.fillColor||s===a)return this;s=this._toRadians(s),a=this._toRadians(a);let u=nL(t,r,n,i,this._renderer.states.ellipseMode),h=this._normalizeArcAngles(s,a,u.w,u.h,!0);return h.correspondToSamePoint?this._renderer.ellipse([u.x,u.y,u.w,u.h,l]):(this._renderer.arc(u.x,u.y,u.w,u.h,h.start,h.stop,o,l),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[u.x,u.y,u.w,u.h,h.start,h.stop,o])),this},r.ellipse=function(t,r,n,i,s){return this._renderEllipse(...arguments)},r.circle=function(...t){let r=t.slice(0,2);return r.push(t[2],t[2]),this._renderEllipse(...r)},r._renderEllipse=function(t,r,n,i,s){if(!this._renderer.states.strokeColor&&!this._renderer.states.fillColor)return this;void 0===i&&(i=n);let a=nL(t,r,n,i,this._renderer.states.ellipseMode);return this._renderer.ellipse([a.x,a.y,a.w,a.h,s]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[a.x,a.y,a.w,a.h]),this},r.line=function(...t){return this._renderer.states.strokeColor&&this._renderer.line(...t),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",t),this},r.point=function(...r){return this._renderer.states.strokeColor&&(1===r.length&&r[0]instanceof t.Vector?this._renderer.point.call(this._renderer,r[0].x,r[0].y,r[0].z):(this._renderer.point(...r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",r))),this},r.quad=function(...t){return(this._renderer.states.strokeColor||this._renderer.states.fillColor)&&(this._renderer.isP3D&&t.length<12?this._renderer.quad.call(this._renderer,t[0],t[1],0,t[2],t[3],0,t[4],t[5],0,t[6],t[7],0,t[8],t[9]):(this._renderer.quad(...t),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",t))),this},r.rect=function(...t){return this._renderRect(...t)},r.square=function(t,r,n,i,s,a,o){return this._renderRect.call(this,t,r,n,n,i,s,a,o)},r._renderRect=function(){if(this._renderer.states.strokeColor||this._renderer.states.fillColor){3==arguments.length&&(arguments[3]=arguments[2]);let t=nL(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer.states.rectMode);this._renderer.states.rectMode===C&&(t.w=arguments[2],t.h=arguments[3]);let r=[t.x,t.y,t.w,t.h];for(let t=4;t<arguments.length;t++)r[t]=arguments[t];this._renderer.rect(r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[t.x,t.y,t.w,t.h])}return this},r.triangle=function(...t){return(this._renderer.states.strokeColor||this._renderer.states.fillColor)&&this._renderer.triangle(t),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",t),this}}function nO(t,r){r.ellipseMode=function(t){return t!==C&&t!==S&&t!==E&&t!==k||this._renderer.states.setValue("ellipseMode",t),this},r.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},r.rectMode=function(t){return t!==C&&t!==S&&t!==E&&t!==k||this._renderer.states.setValue("rectMode",t),this},r.smooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!0):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},r.strokeCap=function(t){return t!==R&&t!==O&&t!==N||this._renderer.strokeCap(t),this},r.strokeJoin=function(t){return t!==R&&t!==V&&t!==z||this._renderer.strokeJoin(t),this},r.strokeWeight=function(t){return this._renderer.strokeWeight(t),this}}function nR(t,r){r.bezier=function(...t){return(this._renderer.states.strokeColor||this._renderer.states.fillColor)&&this._renderer.bezier(...t),this},r.bezierPoint=function(t,r,n,i,s){let a=1-s;return Math.pow(a,3)*t+3*Math.pow(a,2)*s*r+3*a*Math.pow(s,2)*n+Math.pow(s,3)*i},r.bezierTangent=function(t,r,n,i,s){let a=1-s;return 3*i*Math.pow(s,2)-3*n*Math.pow(s,2)+6*n*a*s-6*r*a*s+3*r*Math.pow(a,2)-3*t*Math.pow(a,2)},r.spline=function(...t){return(this._renderer.states.strokeColor||this._renderer.states.fillColor)&&this._renderer.spline(...t),this},r.splinePoint=function(t,r,n,i,s){let a=this._renderer.states.splineProperties.tightness,o=s*s*s,l=s*s;return t*((a-1)/2*o+(1-a)*l+(a-1)/2*s)+r*((a+3)/2*o+(-5-a)/2*l+1)+n*((-3-a)/2*o+(a+2)*l+(1-a)/2*s)+i*((1-a)/2*o+(a-1)/2*l)},r.splineTangent=function(t,r,n,i,s){let a=this._renderer.states.splineProperties.tightness,o=s*s*3,l=2*s;return t*((a-1)/2*o+(1-a)*l+(a-1)/2)+r*((a+3)/2*o+(-5-a)/2*l)+n*((-3-a)/2*o+(a+2)*l+(1-a)/2)+i*((1-a)/2*o+(a-1)/2*l)}}function nV(t,r){r.beginShape=function(t){this._renderer.beginShape(...arguments)},r.bezierVertex=function(...t){this._renderer.bezierVertex(...t)},r.endShape=function(t,r=1){r<1&&(console.log(" p5.js says: You can not have less than one instance"),r=1),this._renderer.endShape(t,r)},r.normal=function(t,r,n){return this._assert3d("normal"),this._renderer.normal(...arguments),this},r.vertexProperty=function(t,r){this._renderer.vertexProperty(t,r)}}function nz(t,r){r.beginClip=function(t={}){this._renderer.beginClip(t)},r.endClip=function(){this._renderer.endClip()},r.clip=function(t,r){this._renderer.beginClip(r),t(),this._renderer.endClip(r)},r.background=function(...t){return this._renderer.background(...t),this},r.clear=function(...t){let r=t[0]||0,n=t[1]||0,i=t[2]||0,s=t[3]||0;return this._renderer.clear(r,n,i,s),this},r.colorMode=function(t,r,n,i,s){if([rN,rO,rR,rV,rz,rU,rj,rG,r$].includes(t)){this._renderer.states.setValue("colorMode",t),this._renderer.states.setValue("colorMaxes",this._renderer.states.colorMaxes.clone());let a=this._renderer.states.colorMaxes[t];2==arguments.length?(a[0]=r,a[1]=r,a[2]=r,a[3]=r):4==arguments.length?(a[0]=r,a[1]=n,a[2]=i):5==arguments.length&&(a[0]=r,a[1]=n,a[2]=i,a[3]=s)}return this._renderer.states.colorMode},r.fill=function(...t){return this._renderer.fill(...t),this},r.noFill=function(){return this._renderer.noFill(),this},r.noStroke=function(){return this._renderer.states.setValue("strokeColor",null),this},r.stroke=function(...t){return this._renderer.stroke(...t),this},r.erase=function(t=255,r=255){return this._renderer.erase(t,r),this},r.noErase=function(){return this._renderer.noErase(),this},r.blendMode=function(t){t===ed&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),t=j),this._renderer.blendMode(t)}}function nU(t,r,n,i){for(var s=t[r++],a=1<<s,o=a+1,l=o+1,u=s+1,h=(1<<u)-1,c=0,d=0,p=0,f=t[r++],m=new Int32Array(4096),g=null;;){for(;c<16&&0!==f;)d|=t[r++]<<c,c+=8,1===f?f=t[r++]:--f;if(c<u)break;var y=d&h;if(d>>=u,c-=u,y!==a){if(y===o)break;for(var v=y<l?y:g,x=0,b=v;b>a;)b=m[b]>>8,++x;var w=b;if(p+x+ +(v!==y)>i)return void console.log("Warning, gif stream longer than expected.");n[p++]=w;var _=p+=x;for(v!==y&&(n[p++]=w),b=v;x--;)b=m[b],n[--_]=255&b,b>>=8;null!==g&&l<4096&&(m[l++]=g<<8|w,l>=h+1&&u<12&&(++u,h=h<<1|1)),g=y}else l=o+1,h=(1<<(u=s+1))-1,g=null}return p!==i&&console.log("Warning, gif stream shorter than expected."),n}void 0!==m&&nN(m,m.prototype),void 0!==m&&nO(0,m.prototype),void 0!==m&&nR(0,m.prototype),void 0!==m&&nV(0,m.prototype),void 0!==m&&nz(0,m.prototype);try{nP=function(t,r,n,i){var s=0,a=void 0===(i=void 0===i?{}:i).loop?null:i.loop,o=void 0===i.palette?null:i.palette;if(r<=0||n<=0||r>65535||n>65535)throw Error("Width/Height invalid.");function l(t){var r=t.length;if(r<2||r>256||r&r-1)throw Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return r}t[s++]=71,t[s++]=73,t[s++]=70,t[s++]=56,t[s++]=57,t[s++]=97;var u=0,h=0;if(null!==o){for(var c=l(o);c>>=1;)++u;if(c=1<<u,--u,void 0!==i.background){if((h=i.background)>=c)throw Error("Background index out of range.");if(0===h)throw Error("Background index explicitly passed as 0.")}}if(t[s++]=255&r,t[s++]=r>>8&255,t[s++]=255&n,t[s++]=n>>8&255,t[s++]=128*(null!==o)|u,t[s++]=h,t[s++]=0,null!==o)for(var d=0,p=o.length;d<p;++d){var f=o[d];t[s++]=f>>16&255,t[s++]=f>>8&255,t[s++]=255&f}if(null!==a){if(a<0||a>65535)throw Error("Loop count invalid.");t[s++]=33,t[s++]=255,t[s++]=11,t[s++]=78,t[s++]=69,t[s++]=84,t[s++]=83,t[s++]=67,t[s++]=65,t[s++]=80,t[s++]=69,t[s++]=50,t[s++]=46,t[s++]=48,t[s++]=3,t[s++]=1,t[s++]=255&a,t[s++]=a>>8&255,t[s++]=0}var m=!1;this.addFrame=function(r,n,i,a,u,h){if(!0===m&&(--s,m=!1),h=void 0===h?{}:h,r<0||n<0||r>65535||n>65535)throw Error("x/y invalid.");if(i<=0||a<=0||i>65535||a>65535)throw Error("Width/Height invalid.");if(u.length<i*a)throw Error("Not enough pixels for the frame size.");var c=!0,d=h.palette;if(null==d&&(c=!1,d=o),null==d)throw Error("Must supply either a local or global palette.");for(var p=l(d),f=0;p>>=1;)++f;p=1<<f;var g=void 0===h.delay?0:h.delay,y=void 0===h.disposal?0:h.disposal;if(y<0||y>3)throw Error("Disposal out of range.");var v=!1,x=0;if(void 0!==h.transparent&&null!==h.transparent&&(v=!0,(x=h.transparent)<0||x>=p))throw Error("Transparent color index.");if((0!==y||v||0!==g)&&(t[s++]=33,t[s++]=249,t[s++]=4,t[s++]=y<<2|!0===v,t[s++]=255&g,t[s++]=g>>8&255,t[s++]=x,t[s++]=0),t[s++]=44,t[s++]=255&r,t[s++]=r>>8&255,t[s++]=255&n,t[s++]=n>>8&255,t[s++]=255&i,t[s++]=i>>8&255,t[s++]=255&a,t[s++]=a>>8&255,t[s++]=!0===c?128|f-1:0,!0===c)for(var b=0,w=d.length;b<w;++b){var _=d[b];t[s++]=_>>16&255,t[s++]=_>>8&255,t[s++]=255&_}return s=function(t,r,n,i){t[r++]=n;var s=r++,a=1<<n,o=a-1,l=a+1,u=l+1,h=n+1,c=0,d=0;function p(n){for(;c>=n;)t[r++]=255&d,d>>=8,c-=8,r===s+256&&(t[s]=255,s=r++)}function f(t){d|=t<<c,c+=h,p(8)}var m=i[0]&o,g={};f(a);for(var y=1,v=i.length;y<v;++y){var x=i[y]&o,b=m<<8|x,w=g[b];if(void 0===w){for(d|=m<<c,c+=h;c>=8;)t[r++]=255&d,d>>=8,c-=8,r===s+256&&(t[s]=255,s=r++);4096===u?(f(a),u=l+1,h=n+1,g={}):(u>=1<<h&&++h,g[b]=u++),m=x}else m=w}return f(m),f(l),p(1),s+1===r?t[s]=0:(t[s]=r-s-1,t[r++]=0),r}(t,s,f<2?2:f,u)},this.end=function(){return!1===m&&(t[s++]=59,m=!0),s},this.getOutputBuffer=function(){return t},this.setOutputBuffer=function(r){t=r},this.getOutputBufferPosition=function(){return s},this.setOutputBufferPosition=function(t){s=t}},nB=function(t){var r=0;if(71!==t[r++]||73!==t[r++]||70!==t[r++]||56!==t[r++]||56!=(t[r++]+1&253)||97!==t[r++])throw Error("Invalid GIF 87a/89a header.");var n=t[r++]|t[r++]<<8,i=t[r++]|t[r++]<<8,s=t[r++],a=1<<1+(7&s);t[r++],t[r++];var o=null,l=null;s>>7&&(o=r,l=a,r+=3*a);var u=!0,h=[],c=0,d=null,p=0,f=null;for(this.width=n,this.height=i;u&&r<t.length;)switch(t[r++]){case 33:switch(t[r++]){case 255:if(11!==t[r]||78==t[r+1]&&69==t[r+2]&&84==t[r+3]&&83==t[r+4]&&67==t[r+5]&&65==t[r+6]&&80==t[r+7]&&69==t[r+8]&&50==t[r+9]&&46==t[r+10]&&48==t[r+11]&&3==t[r+12]&&1==t[r+13]&&0==t[r+16])r+=14,f=t[r++]|t[r++]<<8,r++;else for(r+=12;;){if(!((g=t[r++])>=0))throw Error("Invalid block size");if(0===g)break;r+=g}break;case 249:if(4!==t[r++]||0!==t[r+4])throw Error("Invalid graphics extension block.");var m=t[r++];c=t[r++]|t[r++]<<8,d=t[r++],1&m||(d=null),p=m>>2&7,r++;break;case 254:for(;;){if(!((g=t[r++])>=0))throw Error("Invalid block size");if(0===g)break;r+=g}break;default:throw Error("Unknown graphic control label: 0x"+t[r-1].toString(16))}break;case 44:var g,y=t[r++]|t[r++]<<8,v=t[r++]|t[r++]<<8,x=t[r++]|t[r++]<<8,b=t[r++]|t[r++]<<8,w=t[r++],_=w>>6&1,C=1<<1+(7&w),S=o,E=l,D=!1;w>>7&&(D=!0,S=r,E=C,r+=3*C);var A=r;for(r++;;){if(!((g=t[r++])>=0))throw Error("Invalid block size");if(0===g)break;r+=g}h.push({x:y,y:v,width:x,height:b,has_local_palette:D,palette_offset:S,palette_size:E,data_offset:A,data_length:r-A,transparent_index:d,interlaced:!!_,delay:c,disposal:p});break;case 59:u=!1;break;default:throw Error("Unknown gif block: 0x"+t[r-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return f},this.frameInfo=function(t){if(t<0||t>=h.length)throw Error("Frame index out of range.");return h[t]},this.decodeAndBlitFrameBGRA=function(r,i){var s=this.frameInfo(r),a=s.width*s.height,o=new Uint8Array(a);nU(t,s.data_offset,o,a);var l=s.palette_offset,u=s.transparent_index;null===u&&(u=256);var h=s.width,c=n-h,d=h,p=4*(s.y*n+s.x),f=4*((s.y+s.height)*n+s.x),m=p,g=4*c;!0===s.interlaced&&(g+=4*n*7);for(var y=8,v=0,x=o.length;v<x;++v){var b=o[v];if(0===d&&(d=h,(m+=g)>=f&&(g=4*c+4*n*(y-1),m=p+(h+c)*(y<<1),y>>=1)),b===u)m+=4;else{var w=t[l+3*b],_=t[l+3*b+1],C=t[l+3*b+2];i[m++]=C,i[m++]=_,i[m++]=w,i[m++]=255}--d}},this.decodeAndBlitFrameRGBA=function(r,i){var s=this.frameInfo(r),a=s.width*s.height,o=new Uint8Array(a);nU(t,s.data_offset,o,a);var l=s.palette_offset,u=s.transparent_index;null===u&&(u=256);var h=s.width,c=n-h,d=h,p=4*(s.y*n+s.x),f=4*((s.y+s.height)*n+s.x),m=p,g=4*c;!0===s.interlaced&&(g+=4*n*7);for(var y=8,v=0,x=o.length;v<x;++v){var b=o[v];if(0===d&&(d=h,(m+=g)>=f&&(g=4*c+4*n*(y-1),m=p+(h+c)*(y<<1),y>>=1)),b===u)m+=4;else{var w=t[l+3*b],_=t[l+3*b+1],C=t[l+3*b+2];i[m++]=w,i[m++]=_,i[m++]=C,i[m++]=255}--d}}}}catch(t){}function nj(t,r){r.createImage=function(r,n){return new t.Image(r,n)},r.saveCanvas=function(...t){let n,i,s,a,o;if(t[0]instanceof HTMLCanvasElement)n=t[0],t.shift();else if(t[0]instanceof rZ)n=t[0].elt,t.shift();else if(t[0]instanceof i0){let r=t[0];(a=this.createGraphics(r.width,r.height)).pixelDensity(r.pixelDensity()),r.loadPixels(),a.loadPixels(),a.pixels.set(r.pixels),a.updatePixels(),n=a._renderer.canvas,t.shift()}else n=this._curElement&&this._curElement.elt;switch(t.length>=1&&(i=t[0]),t.length>=2&&(s=t[1]),s=s||r._checkFileExtension(i,s)[1]||"png"){default:o="image/png";break;case"webp":o="image/webp";break;case"jpeg":case"jpg":o="image/jpeg"}n.toBlob(t=>{r.downloadFile(t,i,s),a&&a.remove()},o)},r.encodeAndDownloadGif=function(t,n){let i=t.gifProperties,s=i.loopLimit;1===s?s=null:null===s&&(s=0);let a=new Uint8Array(t.width*t.height*i.numFrames),o=[],l={};for(let r=0;r<i.numFrames;r++){let n=new Set,s=i.frames[r].image.data,a=s.length,u=new Uint32Array(t.width*t.height);for(let t=0,r=0;t<a;t+=4,r++){let i=s[t+0]<<16|s[t+1]<<8|s[t+2];n.add(i),u[r]=i}let h=[...n].sort().toString();void 0===l[h]?l[h]={freq:1,frames:[r]}:(l[h].freq+=1,l[h].frames.push(r)),o.push(u)}let u=[],h=Object.keys(l).sort(function(t,r){return l[r].freq-l[t].freq}),c=h[0].split(",").map(t=>parseInt(t));u=u.concat(l[c].frames);let d=new Set(c);for(let t=1;t<h.length;t++){let r=h[t].split(",").map(t=>parseInt(t)).filter(t=>!d.has(t));if(c.length+r.length<=256){for(let t=0;t<r.length;t++)c.push(r[t]),d.add(r[t]);u=u.concat(l[h[t]].frames)}}u=new Set(u);let p={};for(let t=0;t<c.length;t++)p[c[t]]||(p[c[t]]=t);let f=1;for(;f<c.length;)f<<=1;c.length=f;let m={loop:s,palette:new Uint32Array(c)},g=new nP(a,t.width,t.height,m),y={};for(let r=0;r<i.numFrames;r++){let n=!u.has(r),s=n?[]:c,a=new Uint8Array(t.width*t.height),l={},h=new Set;o[r].forEach((t,i)=>{n?(void 0===l[t]&&(l[t]=s.length,s.push(t)),a[i]=l[t]):a[i]=p[t],r>0&&o[r-1][i]!==t&&h.add(t)});let d={},f=s.filter(t=>!h.has(t));if(f.length>0){let t=f[0],i=n?l[t]:p[t];if(r>0){for(let t=0;t<o[r].length;t++)o[r-1][t]===o[r][t]&&(a[t]=i);d.transparent=i,y.frameOpts.disposal=1}}if(d.delay=i.frames[r].delay/10,n){let t=1;for(;t<s.length;)t<<=1;s.length=t,d.palette=new Uint32Array(s)}r>0&&g.addFrame(0,0,t.width,t.height,y.pixelPaletteIndex,y.frameOpts),y={pixelPaletteIndex:a,frameOpts:d}}y.frameOpts.disposal=1,g.addFrame(0,0,t.width,t.height,y.pixelPaletteIndex,y.frameOpts);let v=new Blob([a.slice(0,g.end())],{type:"image/gif"});r.downloadFile(v,n,"gif")},r.saveFrames=function(t,n,i,s,a){let o=i||3;o=1e3*Math.max(Math.min(o,15),0);let l=s||15;l=Math.max(Math.min(l,22),0);let u=0,h=r._makeFrame,c=this._curElement.elt,d=[],p=setInterval(()=>{d.push(h(t+u,n,c)),u++},1e3/l);setTimeout(()=>{if(clearInterval(p),a)a(d);else for(let t of d)r.downloadFile(t.imageData,t.filename,t.ext);d=[]},o+.01)},r._makeFrame=function(t,r,n){let i,s;if(i=this?this._curElement.elt:n,r)switch(r.toLowerCase()){case"png":default:s="image/png";break;case"jpeg":case"jpg":s="image/jpeg"}else r="png",s="image/png";let a=i.toDataURL(s);a=a.replace(s,"image/octet-stream");let o={};return o.imageData=a,o.filename=t,o.ext=r,o}}function nG(t){let r=t.options.typed?function(t){switch(!0){case"true"===t:case"false"===t:return"true"===t;case/.\./.test(t):return parseFloat(t);case isFinite(t):return parseInt(t);default:return t}}(t.value):t.value;t.entry.push(t.reviver(r,t.row,t.col)),t.value="",t.col++}function n$(t){t.output.push(t.entry),t.entry=[],t.row++,t.col=1}function nH(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}void 0!==m&&nj(m,m.prototype);class nW extends Error{status;response;ok}async function nq(t,r){try{let n=await fetch(t);if(n.ok){let t;switch(r){case"json":t=await n.json();break;case"text":t=await n.text();break;case"arrayBuffer":t=await n.arrayBuffer();break;case"blob":t=await n.blob();break;case"bytes":if(n.bytes)t=await n.bytes();else{let r=await n.arrayBuffer();t=new Uint8Array(r)}break;default:throw Error("Unsupported response type")}return{data:t,headers:n.headers}}{let t=new nW(n.statusText);throw t.status=n.status,t.response=n,t.ok=!1,t}}catch(t){throw t instanceof TypeError?console.log("You may have encountered a CORS error"):t instanceof nW?console.log("You have encountered a HTTP error"):t instanceof SyntaxError&&console.log("There is an error parsing the response to requested data structure"),t}}function nY(t,r){function n(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}r.loadJSON=async function(r,n,i){try{let{data:t}=await nq(r,"json");return n?n(t):t}catch(n){if(t._friendlyFileLoadError(5,r),i)return i(n);throw n}},r.loadStrings=async function(r,n,i){try{let{data:t}=await nq(r,"text");return t=t.split(/\r?\n/),n?n(t):t}catch(n){if(t._friendlyFileLoadError(3,r),i)return i(n);throw n}},r.loadTable=async function(r,n,i,s,a){"function"==typeof arguments[arguments.length-1]&&("function"==typeof arguments[arguments.length-2]?(s=arguments[arguments.length-2],a=arguments[arguments.length-1]):s=arguments[arguments.length-1]),"string"!=typeof n&&(n=","),"function"==typeof i&&(i=!1);try{let{data:a}=await nq(r,"text"),o=new t.Table;return a=function(t,r,n=t=>t){let i=Object.create(null);if(i.options=r||{},i.reviver=n,i.value="",i.entry=[],i.output=[],i.col=1,i.row=1,i.options.delimiter=void 0===i.options.delimiter?'"':r.delimiter,i.options.delimiter.length>1||0===i.options.delimiter.length)throw Error(`CSVError: delimiter must be one character [${i.options.separator}]`);if(i.options.separator=void 0===i.options.separator?",":r.separator,i.options.separator.length>1||0===i.options.separator.length)throw Error(`CSVError: separator must be one character [${i.options.separator}]`);let s=RegExp(`${nH(i.options.delimiter)}|${nH(i.options.separator)}|\r
|
|\r|[^${nH(i.options.delimiter)}${nH(i.options.separator)}\r
]+`,"y"),a=/^(\r\n|\n|\r)$/,o=[],l="",u=0;for(;null!==(o=s.exec(t));)switch(l=o[0],u){case 0:switch(!0){case l===i.options.delimiter:u=3;break;case l===i.options.separator:u=0,nG(i);break;case a.test(l):u=0,nG(i),n$(i);break;default:i.value+=l,u=2}break;case 2:switch(!0){case l===i.options.separator:u=0,nG(i);break;case a.test(l):u=0,nG(i),n$(i);break;default:throw u=4,Error(`CSVError: Illegal state [row:${i.row}, col:${i.col}]`)}break;case 3:1==(l===i.options.delimiter)?u=4:(u=3,i.value+=l);break;case 4:switch(!0){case l===i.options.delimiter:u=3,i.value+=l;break;case l===i.options.separator:u=0,nG(i);break;case a.test(l):u=0,nG(i),n$(i);break;default:throw Error(`CSVError: Illegal state [row:${i.row}, col:${i.col}]`)}}return 0!==i.entry.length&&(nG(i),n$(i)),i.output}(a,{separator:n}),o.columns=i?a.shift():Array(a[0].length).fill(null),a.forEach(r=>{let n=new t.TableRow(r);o.addRow(n)}),s?s(o):o}catch(n){if(t._friendlyFileLoadError(2,r),a)return a(n);throw n}},r.loadXML=async function(r,n,i){try{let i=new DOMParser,{data:s}=await nq(r,"text"),a=i.parseFromString(s,"application/xml");return s=new t.XML(a),n?n(s):s}catch(n){if(t._friendlyFileLoadError(1,r),i)return i(n);throw n}},r.loadBytes=async function(r,n,i){try{let{data:t}=await nq(r,"arrayBuffer");return t=new Uint8Array(t),n?n(t):t}catch(n){if(t._friendlyFileLoadError(6,r),i)return i(n);throw n}},r.loadBlob=async function(t,r,n){try{let{data:n}=await nq(t,"blob");return r?r(n):n}catch(t){if(n)return n(t);throw t}},r.httpGet=async function(t,r="text",n,i){return"function"==typeof r&&(i=n,n=r,r="text"),this.httpDo(t,"GET",r,n,i)},r.httpPost=async function(r,n,i="text",s,a){"function"==typeof n?(s=n,a=i,n=void 0,i="text"):"function"==typeof i&&(a=s,s=i,i="text");let o=n,l="text/plain";n instanceof t.XML?(o=n.serialize(),l="application/xml"):n instanceof t.Image?(o=await n.toBlob(),l="image/png"):"object"==typeof n&&(o=JSON.stringify(n),l="application/json");let u={method:"POST",body:o,headers:{"Content-Type":l}};o&&(u.body=o);let h=new Request(r,u);return this.httpDo(h,"POST",i,s,a)},r.httpDo=async function(t,r,n,i,s){if("function"==typeof n&&(s=i,i=n,n=void 0),!n)switch("string"==typeof t?t.split(".").pop():t.url.split(".").pop()){case"json":n="json";break;case"jpg":case"jpeg":case"png":case"webp":case"gif":n="blob";break;default:n="text"}let a=new Request(t,{method:r});try{let{data:t}=await nq(a,n);return i?i(t):t}catch(t){if(s)return s(t);throw t}},r._pWriters=[],r.createWriter=function(n,i){let s;for(let a in r._pWriters)if(r._pWriters[a].name===n)return s=new t.PrintWriter(n+this.millis(),i),r._pWriters.push(s),s;return s=new t.PrintWriter(n,i),r._pWriters.push(s),s},t.PrintWriter=function(t,n){let i=this;this.name=t,this.content="",this.write=function(t){this.content+=t},this.print=function(t){this.content+=`${t}
`},this.clear=function(){this.content=""},this.close=function(){let s=[];for(let i in s.push(this.content),r.writeFile(s,t,n),r._pWriters)r._pWriters[i].name===this.name&&r._pWriters.splice(i,1);i.clear(),i={}}},r.save=function(n,i,s){let a=arguments,o=this._curElement?this._curElement.elt:this.elt;if(0!==a.length)if(a[0]instanceof nA||a[0]instanceof iR)r.saveCanvas(a[0].canvas,a[1],a[2]);else if(1===a.length&&"string"==typeof a[0])r.saveCanvas(o,a[0]);else switch(r4(a[1],a[2])[1]){case"json":return void r.saveJSON(a[0],a[1],a[2]);case"txt":return void r.saveStrings(a[0],a[1],a[2]);default:a[0]instanceof Array?r.saveStrings(a[0],a[1],a[2]):a[0]instanceof t.Table?r.saveTable(a[0],a[1],a[2]):a[0]instanceof t.Image?r.saveCanvas(a[0].canvas,a[1]):a[0]instanceof t.SoundFile&&r.saveSound(a[0],a[1],a[2],a[3])}else r.saveCanvas(o)},r.saveJSON=function(t,r,n){let i;i=n?JSON.stringify(t):JSON.stringify(t,void 0,2),this.saveStrings(i.split("\n"),r,"json")},r.saveStrings=function(r,n,i,s){let a=new t.PrintWriter(n,i||"txt");for(let t of r)s?a.write(t+"\r\n"):a.write(t+"\n");a.close(),a.clear()},r.saveTable=function(t,r,i){let s;void 0===i?(s=r.substring(r.lastIndexOf(".")+1,r.length))===r&&(s="csv"):s=i;let a=this.createWriter(r,s),o=t.columns,l=",";if("tsv"===s&&(l="	"),"html"!==s){let r=t.toString(l);a.write(r)}else{a.print("<html>"),a.print("<head>");let r='  <meta http-equiv="content-type" content';if(r+='="text/html;charset=utf-8" />',a.print(r),a.print("</head>"),a.print("<body>"),a.print("  <table>"),"0"!==o[0]){a.print("    <tr>");for(let t=0;t<o.length;t++){let r=n(o[t]);a.print(`      <td>${r}`),a.print("      </td>")}a.print("    </tr>")}for(let r=0;r<t.rows.length;r++){a.print("    <tr>");for(let i=0;i<t.columns.length;i++){let s=n(t.rows[r].getString(i));a.print(`      <td>${s}`),a.print("      </td>")}a.print("    </tr>")}a.print("  </table>"),a.print("</body>"),a.print("</html>")}a.close(),a.clear()},r.writeFile=function(t,n,i){let s="application/octet-stream";r._isSafari()&&(s="text/plain");let a=new Blob(t,{type:s});r.downloadFile(a,n,i)},r.downloadFile=r3,r._checkFileExtension=r4,r._isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}}function nX(t=256){let r=0,n=new Uint8Array(t);return{get buffer(){return n.buffer},reset(){r=0},bytesView:()=>n.subarray(0,r),bytes:()=>n.slice(0,r),writeByte(t){i(r+1),n[r]=t,r++},writeBytes(t,s=0,a=t.length){i(r+a);for(let i=0;i<a;i++)n[r++]=t[i+s]},writeBytesView(t,s=0,a=t.byteLength){i(r+a),n.set(t.subarray(s,s+a),r),r+=a}};function i(t){var i=n.length;if(i>=t)return;t=Math.max(t,i*(i<1048576?2:1.125)>>>0),0!=i&&(t=Math.max(t,256));let s=n;n=new Uint8Array(t),r>0&&n.set(s.subarray(0,r),0)}}void 0!==m&&nY(m,m.prototype);var nK=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],nZ=function(t,r,n,i,s=nX(512),a=new Uint8Array(256),o=new Int32Array(5003),l=new Int32Array(5003)){let u=o.length,h=Math.max(2,i);a.fill(0),l.fill(0),o.fill(-1);let c=0,d=0,p=h+1,f=!1,m=p,g=(1<<m)-1,y=1<<p-1,v=y+1,x=y+2,b=0,w=n[0],_=0;for(let t=u;t<65536;t*=2)++_;_=8-_,s.writeByte(h),S(y);let C=n.length;for(let t=1;t<C;t++)r:{let r=n[t],i=(r<<12)+w,s=r<<_^w;if(o[s]===i){w=l[s];break r}let a=0===s?1:u-s;for(;o[s]>=0;)if((s-=a)<0&&(s+=u),o[s]===i){w=l[s];break r}S(w),w=r,x<4096?(l[s]=x++,o[s]=i):(o.fill(-1),x=y+2,f=!0,S(y))}return S(w),S(v),s.writeByte(0),s.bytesView();function S(t){for(c&=nK[d],d>0?c|=t<<d:c=t,d+=m;d>=8;)a[b++]=255&c,b>=254&&(s.writeByte(b),s.writeBytesView(a,0,b),b=0),c>>=8,d-=8;if((x>g||f)&&(f?(g=(1<<(m=p))-1,f=!1):g=12==++m?1<<m:(1<<m)-1),t==v){for(;d>0;)a[b++]=255&c,b>=254&&(s.writeByte(b),s.writeBytesView(a,0,b),b=0),c>>=8,d-=8;b>0&&(s.writeByte(b),s.writeBytesView(a,0,b),b=0)}}};function nQ(t,r,n){return t<r?r:t>n?n:t}function nJ(t,r,n){var i,s,a,o,l=0,u=1e100;let h=t[r],c=h.cnt,d=h.rc,p=h.gc,f=h.bc;for(var m=h.fw;0!=m;m=t[m].fw){let r=t[m],n=r.cnt,h=c*n/(c+n);!(h>=u)&&((i=0+h*((s=r.rc-d)*s))>=u||(i+=h*((a=r.gc-p)*a))>=u||(i+=h*((o=r.bc-f)*o))>=u||(u=i,l=m))}h.err=u,h.nn=l}function n0(t,r){let n=1<<n5(r.length);for(let i=0;i<n;i++){let n=[0,0,0];i<r.length&&(n=r[i]),t.writeByte(n[0]),t.writeByte(n[1]),t.writeByte(n[2])}}function n1(t,r){t.writeByte(255&r),t.writeByte(r>>8&255)}function n2(t,r){for(var n=0;n<r.length;n++)t.writeByte(r.charCodeAt(n))}function n5(t){return Math.max(Math.ceil(Math.log2(t)),1)}function n3(t,r){function n(t,r){return t>0&&t<r?t:r}r.loadImage=async function(r,n,i){try{let i=new t.Image(1,1,this),s=new Request(r,{method:"GET",mode:"cors"}),{data:a,headers:o}=await nq(s,"bytes"),l=o.get("content-type");if(null===l&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),l&&l.includes("image/gif"))await async function(r,n){let i=new nB(r);n.width=n.canvas.width=i.width,n.height=n.canvas.height=i.height;let s=[],a=i.numFrames(),o=new Uint8ClampedArray(n.width*n.height*4),l=(r,i)=>{try{i.decodeAndBlitFrameRGBA(r,o)}catch(r){throw t._friendlyFileLoadError(8,n.src),r}};for(let t=0;t<a;t++){let r=i.frameInfo(t),a=n.drawingContext.getImageData(0,0,n.width,n.height);o=a.data.slice(),l(t,i);let u=new ImageData(o,n.width,n.height);n.drawingContext.putImageData(u,0,0);let h=r.delay;0===h&&(h=10),s.push({image:n.drawingContext.getImageData(0,0,n.width,n.height),delay:10*h}),2===r.disposal?n.drawingContext.clearRect(r.x,r.y,r.width,r.height):3===r.disposal&&n.drawingContext.putImageData(a,0,0,r.x,r.y,r.width,r.height)}let u=i.loopCount();return null===u?u=1:0===u&&(u=null),n.drawingContext.putImageData(s[0].image,0,0),s.length>1&&(n.gifProperties={displayIndex:0,loopLimit:u,loopCount:0,frames:s,numFrames:a,playing:!0,timeDisplayed:0,lastChangeTime:0}),n}(a,i);else{let t=new Blob([a]),r=await createImageBitmap(t);i.width=i.canvas.width=r.width,i.height=i.canvas.height=r.height,i.drawingContext.drawImage(r,0,0)}return i.modified=!0,n?n(i):i}catch(n){if(t._friendlyFileLoadError(0,r),"function"==typeof i)return i(n);throw n}},r.saveGif=async function(n,i,s={delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar",reset:!0}){let a,o;if("string"!=typeof n)throw TypeError("fileName parameter must be a string");if("number"!=typeof i)throw TypeError("Duration parameter must be a number");let l=s&&s.delay||0,u=s&&s.units||"seconds",h=s&&s.silent||!1,c=s&&s.notificationDuration||0,d=s&&s.notificationID||"progressBar",p=!s||void 0===s.reset||s.reset;if("number"!=typeof l)throw TypeError("Delay parameter must be a number");if("seconds"!==u&&"frames"!==u)throw TypeError('Units parameter must be either "frames" or "seconds"');if("boolean"!=typeof h)throw TypeError("Silent parameter must be a boolean");if("number"!=typeof c)throw TypeError("Notification duration parameter must be a number");if("string"!=typeof d)throw TypeError("Notification ID parameter must be a string");this._recording=!0;let f=this._targetFrameRate;f!==1/0&&void 0!==f&&0!==f||(f=60);let m=1/f*1e3;m=m<20?20:m;let g="seconds"===u?i*f:i,y="seconds"===u?l*f:l;p?(a=y,this.frameCount=a,o=g+y):o=(a=this.frameCount+y)+g;let v=this._renderer._pixelDensity;this.pixelDensity(1);let x,b,w,_=[];for(null!==document.getElementById(d)&&document.getElementById(d).remove(),h||((x=this.createP("")).id(d),x.style("font-size","16px"),x.style("font-family","Montserrat"),x.style("background-color","#ffffffa0"),x.style("padding","8px"),x.style("border-radius","10px"),x.position(0,0)),this._renderer instanceof t.RendererGL&&(b=new Uint8Array((w=this.drawingContext).drawingBufferWidth*w.drawingBufferHeight*4)),this.noLoop(),await new Promise(requestAnimationFrame);a<o;){let r;this.redraw(),await new Promise(requestAnimationFrame),this._renderer instanceof t.RendererGL?(b=new Uint8Array(w.drawingBufferWidth*w.drawingBufferHeight*4),w.readPixels(0,0,w.drawingBufferWidth,w.drawingBufferHeight,w.RGBA,w.UNSIGNED_BYTE,b),r=function(t,r,n){let i=parseInt(n/2),s=4*r,a=new Uint8Array(4*r);for(let r=0;r<i;++r){let i=r*s,o=(n-r-1)*s;a.set(t.subarray(i,i+s)),t.copyWithin(i,o,o+s),t.set(a,o)}return t}(b,this.width,this.height)):r=this.drawingContext.getImageData(0,0,this.width,this.height).data,_.push(r),a++,h||x.html("Saved frame <b>"+_.length.toString()+"</b> out of "+g.toString()),await new Promise(t=>setTimeout(t,0))}h||x.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(v);let C=function(t={}){let{initialCapacity:r=4096,auto:n=!0}=t,i=nX(r),s=new Uint8Array(256),a=new Int32Array(5003),o=new Int32Array(5003),l=!1;return{reset(){i.reset(),l=!1},finish(){i.writeByte(59)},bytes:()=>i.bytes(),bytesView:()=>i.bytesView(),get buffer(){return i.buffer},get stream(){return i},writeHeader:u,writeFrame(t,r,h,c={}){var d,p,f,m;let{transparent:g=!1,transparentIndex:y=0,delay:v=0,palette:x=null,repeat:b=0,colorDepth:w=8,dispose:_=-1}=c,C=!1;if(n?l||(C=!0,u(),l=!0):C=!!c.first,r=Math.max(0,Math.floor(r)),h=Math.max(0,Math.floor(h)),C){if(!x)throw Error("First frame must include a { palette } option");(function(t,r,n,i,s=8){let a=n5(i.length)-1;n1(t,r),n1(t,n),t.writeBytes([128|s-1<<4|a,0,0])})(i,r,h,x,w),n0(i,x),b>=0&&(i.writeByte(33),i.writeByte(255),i.writeByte(11),n2(i,"NETSCAPE2.0"),i.writeByte(3),i.writeByte(1),n1(i,b),i.writeByte(0))}let S=Math.round(v/10);d=g,p=y,i.writeByte(33),i.writeByte(249),i.writeByte(4),p<0&&(p=0,d=!1),d?(f=1,m=2):(f=0,m=0),_>=0&&(m=7&_),m<<=2,i.writeByte(m|f),n1(i,S),i.writeByte(p||0),i.writeByte(0);let E=!!x&&!C;(function(t,r,n,i){if(t.writeByte(44),n1(t,0),n1(t,0),n1(t,r),n1(t,n),i){let r=n5(i.length)-1;t.writeByte(128|r)}else t.writeByte(0)})(i,r,h,E?x:null),E&&n0(i,x),function(t,r,n,i,s=8,a,o,l){nZ(n,i,r,s,t,a,o,l)}(i,t,r,h,w,s,a,o)}};function u(){n2(i,"GIF89a")}}(),S=function(t){let r=new Uint8Array(t.length*t[0].length);for(let n=0;n<t.length;n++)r.set(t[n],n*t[0].length);let n=function(t,r={}){let{format:n="rgb565",clearAlpha:i=!0,clearAlphaColor:s=0,clearAlphaThreshold:a=0,oneBitAlpha:o=!1}=r;if(!t||!t.buffer||!(t instanceof Uint8Array||t instanceof Uint8ClampedArray))throw Error("quantize() expected RGBA Uint8Array data");let l=new Uint32Array(t.buffer),u=!1!==r.useSqrt,h="rgba4444"===n,c=function(t,r){let n=Array("rgb444"===r?4096:65536),i=t.length;if("rgba4444"===r)for(let r=0;r<i;++r){let i=t[r],s=i>>24&255,a=i>>16&255,o=i>>8&255,l=255&i,u=l>>4|240&o|(240&a)<<4|(240&s)<<8,h=u in n?n[u]:n[u]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};h.rc+=l,h.gc+=o,h.bc+=a,h.ac+=s,h.cnt++}else if("rgb444"===r)for(let r=0;r<i;++r){let i=t[r],s=i>>16&255,a=i>>8&255,o=255&i,l=o>>4<<8|240&a|s>>4,u=l in n?n[l]:n[l]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};u.rc+=o,u.gc+=a,u.bc+=s,u.cnt++}else for(let r=0;r<i;++r){let i=t[r],s=i>>16&255,a=i>>8&255,o=255&i,l=o<<8&63488|a<<2&992|s>>3,u=l in n?n[l]:n[l]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};u.rc+=o,u.gc+=a,u.bc+=s,u.cnt++}return n}(l,n),d=c.length,p=d-1,f=new Uint32Array(d+1);for(var m,g,y,v,x=0,b=0;b<d;++b){let t=c[b];if(null!=t){var w=1/t.cnt;h&&(t.ac*=w),t.rc*=w,t.gc*=w,t.bc*=w,c[x++]=t}}for(65536/x<.022&&(u=!1),b=0;b<x-1;++b)c[b].fw=b+1,c[b+1].bk=b,u&&(c[b].cnt=Math.sqrt(c[b].cnt));for(u&&(c[b].cnt=Math.sqrt(c[b].cnt)),b=0;b<x;++b){nJ(c,b);var _=c[b].err;for(g=++f[0];g>1&&!(c[m=f[y=g>>1]].err<=_);g=y)f[g]=m;f[g]=b}var C=x-256;for(b=0;b<C;){for(;;){var S=f[1];if((v=c[S]).tm>=v.mtm&&c[v.nn].mtm<=v.tm)break;for(v.mtm==p?S=f[1]=f[f[0]--]:(nJ(c,S),v.tm=b),_=c[S].err,g=1;(y=g+g)<=f[0]&&(y<f[0]&&c[f[y]].err>c[f[y+1]].err&&y++,!(_<=c[m=f[y]].err));g=y)f[g]=m;f[g]=S}var E=c[v.nn],D=v.cnt,A=E.cnt;w=1/(D+A),h&&(v.ac=w*(D*v.ac+A*E.ac)),v.rc=w*(D*v.rc+A*E.rc),v.gc=w*(D*v.gc+A*E.gc),v.bc=w*(D*v.bc+A*E.bc),v.cnt+=E.cnt,v.mtm=++b,c[E.bk].fw=E.fw,c[E.fw].bk=E.bk,E.mtm=p}let k=[];var T=0;for(b=0;;++T){let t=nQ(Math.round(c[b].rc),0,255),r=nQ(Math.round(c[b].gc),0,255),n=nQ(Math.round(c[b].bc),0,255),l=255;h&&(l=nQ(Math.round(c[b].ac),0,255),o&&(l=l<=("number"==typeof o?o:127)?0:255),i&&l<=a&&(t=r=n=s,l=0));let u=h?[t,r,n,l]:[t,r,n];if(function(t,r){for(let n=0;n<t.length;n++){let i=t[n],s=i[0]===r[0]&&i[1]===r[1]&&i[2]===r[2],a=!(i.length>=4&&r.length>=4)||i[3]===r[3];if(s&&a)return!0}return!1}(k,u)||k.push(u),0==(b=c[b].fw))break}return k}(r,{format:"rgba4444",oneBitAlpha:!0});return 256===n.length?n[n.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:n.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),n}(_),E={},D=t=>{let r=t.length/4,n=new Uint8Array(r);for(let i=0;i<r;i++){let r=t[4*i]<<24|t[4*i+1]<<16|t[4*i+2]<<8|t[4*i+3];void 0===E[r]&&(E[r]=function(t,r,n=function(t,r){var n,i=0;for(n=0;n<t.length;n++){let s=t[n]-r[n];i+=s*s}return i}){let i=1/0,s=-1;for(let a=0;a<t.length;a++){let o=n(r,t[a]);o<i&&(i=o,s=a)}return s}(S,t.slice(4*i,4*(i+1)))),n[i]=E[r]}return n},A=S.length-1,k=[];for(let t=0;t<_.length;t++){let r=D(_[t]),n=r.slice();if(0===t)C.writeFrame(r,this.width,this.height,{palette:S,delay:m,dispose:1});else{for(let t=0;t<r.length;t++)r[t]===k[t]&&(r[t]=A);C.writeFrame(r,this.width,this.height,{delay:m,transparent:!0,transparentIndex:A,dispose:1})}k=n,h||x.html("Rendered frame <b>"+t.toString()+"</b> out of "+g.toString()),await new Promise(t=>setTimeout(t,0))}C.finish();let T=new Blob([C.bytesView()],{type:"image/gif"});_=[],this._recording=!1,this.loop(),h||(x.html("Done. Downloading your gif!"),c>0&&setTimeout(()=>x.remove(),1e3*c)),r.downloadFile(T,n,"gif")},r.image=function(t,r,i,s,a,o,l,u,h,c,d,p){let f=t.width,m=t.height;p=p||k,d=d||k,t.elt&&(f=void 0!==f?f:t.elt.width,m=void 0!==m?m:t.elt.height),t.elt&&t.elt.videoWidth&&!t.canvas&&(f=void 0!==f?f:t.elt.videoWidth,m=void 0!==m?m:t.elt.videoHeight);let g=s||f,y=a||m,v=o||0,x=l||0,b=void 0!==u?u:f,w=void 0!==h?h:m;b=n(b,f),w=n(w,m);let _=1;t.elt&&!t.canvas&&t.elt.style.width&&(_=(t.elt.videoWidth&&!s?t.elt.videoWidth:t.elt.width)/parseInt(t.elt.style.width,10)),v*=_,x*=_,w*=_,b*=_;let C=nL(r,i,g,y,this._renderer.states.imageMode);C=function(t,r,n,i,s,a,o,l,u,h,c){if(t===eF){let{x:t,y:i,w:s,h:d}=function(t,r,n,i,s,a,o,l){let u=Math.max(n/o,i/l),[h,c]=[n/u,i/u],d=s,p=a;return t===k?d+=(o-h)/2:t===D&&(d+=o-h),r===k?p+=(l-c)/2:r===T&&(p+=l-c),{x:d,y:p,w:h,h:c}}(r,n,a,o,l,u,h,c);l=t,u=i,h=s,c=d}if(t===eT){let{x:t,y:l,w:u,h:d}=function(t,r,n,i,s,a,o,l){let u=Math.max(o/s,l/a),[h,c]=[o/u,l/u],d=n,p=i;return t===k?d+=(s-h)/2:t===D&&(d+=s-h),r===k?p+=(a-c)/2:r===T&&(p+=a-c),{x:d,y:p,w:h,h:c}}(r,n,i,s,a,o,h,c);i=t,s=l,a=u,o=d}return{sx:l,sy:u,sw:h,sh:c,dx:i,dy:s,dw:a,dh:o}}(c,d,p,C.x,C.y,C.w,C.h,v,x,b,w),this._renderer.image(t,C.sx,C.sy,C.sw,C.sh,C.dx,C.dy,C.dw,C.dh)},r.tint=function(...t){let r=this.color(...t);this._renderer.states.setValue("tint",r._getRGBA([255,255,255,255]))},r.noTint=function(){this._renderer.states.setValue("tint",null)},r.imageMode=function(t){t!==C&&t!==S&&t!==k||this._renderer.states.setValue("imageMode",t)}}function n4(t,r){r.blend=function(...r){this._renderer?this._renderer.blend(...r):t.Renderer2D.prototype.blend.apply(this,r)},r.copy=function(...t){let n,i,s,a,o,l,u,h,c;if(9===t.length)n=t[0],i=t[1],s=t[2],a=t[3],o=t[4],l=t[5],u=t[6],h=t[7],c=t[8];else{if(8!==t.length)throw Error("Signature not supported");n=this,i=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5],h=t[6],c=t[7]}r._copyHelper(this,n,i,s,a,o,l,u,h,c)},r._copyHelper=(t,r,n,i,s,a,o,l,u,h)=>{let c=r.canvas.width/r.width,d=0,p=0;r._renderer&&r._renderer.isP3D&&(d=r.width/2,p=r.height/2),t._renderer&&t._renderer.isP3D?(t.push(),t.resetMatrix(),t.noLights(),t.blendMode(t.BLEND),t.imageMode(t.CORNER),t._renderer.image(r,n+d,i+p,s,a,o,l,u,h),t.pop()):t.drawingContext.drawImage(r.canvas,c*(n+d),c*(i+p),c*s,c*a,o,l,u,h)},r.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},r.filter=function(...r){let{shader:n,operation:i,value:s,useWebGL:a}=function(...r){let n={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return r[0]instanceof t.Shader?n.shader=r[0]:(n.operation=r[0],r.length>1&&"number"==typeof r[1]&&(n.value=r[1]),!1===r[r.length-1]&&(n.useWebGL=!1)),n}(...r);this._renderer.isP3D&&n?this._renderer.filter(n):a||this._renderer.isP3D?(!a&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?this._renderer.filter(i,s):(n?this._renderer.filterRenderer.setOperation(i,s,n):this._renderer.filterRenderer.setOperation(i,s),this._renderer.filterRenderer.applyFilter())):void 0!==this.canvas?rJ.apply(this.canvas,rJ[i],s):rJ.apply(this.elt,rJ[i],s)},r.get=function(t,r,n,i){return this._renderer.get(...arguments)},r.loadPixels=function(){return this._renderer.loadPixels()},r.set=function(t,r,n){this._renderer.set(t,r,n)},r.updatePixels=function(t,r,n,i){0!==this.pixels.length&&this._renderer.updatePixels(t,r,n,i)}}void 0!==m&&n3(m,m.prototype),void 0!==m&&n4(m,m.prototype);class n6{#m=null;constructor(...t){if(this.constructor===n6)throw Error("Class is of abstract type and can't be instantiated")}}let n8=t=>{if(Math.sqrt(t.length)%1!=0)throw Error("Array length must be a perfect square.");return!0},n9=Array,n7=t=>Array.isArray(t);"u">typeof Float32Array&&(n9=Float32Array,n7=t=>Array.isArray(t)||t instanceof Float32Array);class ie extends n6{matrix;#g;constructor(...t){if(super(...t),n7(t[0])&&n8(t[0])){let r=Math.sqrt(t[0].length);this.#g=r,this.matrix=n9.from(t[0])}else"number"==typeof t[0]&&(this.#g=Number(t[0]),this.matrix=this.#y(t[0]));return this}get mat3(){return 3===this.#g?this.matrix:void 0}get mat4(){return 4===this.#g?this.matrix:void 0}add(t){if(this.matrix.length!==t.matrix.length)throw Error("Matrices must be of the same dimension to add.");for(let r=0;r<this.matrix.length;r++)this.matrix[r]+=t.matrix[r];return this}setElement(t,r){return t>=0&&t<this.matrix.length&&(this.matrix[t]=r),this}reset(){return this.matrix=this.#y(this.#g),this}set(t){let r=n9.from([...arguments]);return t instanceof ie?r=n9.from(t.matrix):n7(t)&&(r=n9.from(t)),r.length!==this.matrix.length?m._friendlyError(`Expected same dimensions values but received different ${r.length}.`,"p5.Matrix.set"):this.matrix=r,this}get(){return new ie(this.matrix)}copy(){return new ie(this.matrix)}clone(){return this.copy()}diagonal(){let t=[];for(let r=0;r<this.#g;r++)t.push(this.matrix[r*(this.#g+1)]);return t}row(t){let r=[];for(let n=0;n<this.#g;n++)r.push(this.matrix[n*this.#g+t]);return new ne(...r)}column(t){let r=[];for(let n=0;n<this.#g;n++)r.push(this.matrix[t*this.#g+n]);return new ne(...r)}transpose(t){return 4===this.#g?this.#v(t):3===this.#g?this.#x(t):this.#b(t)}mult(t){let r;return t===this||t===this.matrix?r=this.copy().matrix:t instanceof ie?r=t.matrix:n7(t)&&n8(t)?r=t:n8(Array.from(arguments))&&(r=Array.from(arguments)),4===this.#g&&16===r.length?this.#w(r):3===this.#g&&9===r.length?this.#_(r):this.#C(r)}multiplyVec(t,r){void 0===r&&(r=t.copy());for(let n=0;n<this.#g;n++)r.values[n]=this.row(n).dot(t);return r}invert(t){if(4===this.#g)return this.#S(t);if(3===this.#g)return this.#E(t);throw Error("Invert is not implemented for N>4 at the moment, we are working on it")}createSubMatrix3x3(){if(4===this.#g){let t=new ie(3);return t.mat3[0]=this.matrix[0],t.mat3[1]=this.matrix[1],t.mat3[2]=this.matrix[2],t.mat3[3]=this.matrix[4],t.mat3[4]=this.matrix[5],t.mat3[5]=this.matrix[6],t.mat3[6]=this.matrix[8],t.mat3[7]=this.matrix[9],t.mat3[8]=this.matrix[10],t}throw Error("Matrix dimension must be 4 to create a 3x3 submatrix.")}inverseTranspose4x4({mat4:t}){if(3!==this.#g)throw Error("This function only works with 33 matrices.");this.matrix[0]=t[0],this.matrix[1]=t[1],this.matrix[2]=t[2],this.matrix[3]=t[4],this.matrix[4]=t[5],this.matrix[5]=t[6],this.matrix[6]=t[8],this.matrix[7]=t[9],this.matrix[8]=t[10];let r=this.invert();if(r)r.transpose(this.matrix);else for(let t=0;t<9;t++)this.matrix[t]=0;return this}apply(t){let r;if(t===this||t===this.matrix)r=this.copy().matrix;else if(t instanceof ie)r=t.matrix;else if(n7(t))r=t;else{if(16!=arguments.length)return;r=arguments}let n=this.matrix,i=n[0],s=n[4],a=n[8],o=n[12];n[0]=r[0]*i+r[1]*s+r[2]*a+r[3]*o,n[4]=r[4]*i+r[5]*s+r[6]*a+r[7]*o,n[8]=r[8]*i+r[9]*s+r[10]*a+r[11]*o,n[12]=r[12]*i+r[13]*s+r[14]*a+r[15]*o;let l=n[1],u=n[5],h=n[9],c=n[13];n[1]=r[0]*l+r[1]*u+r[2]*h+r[3]*c,n[5]=r[4]*l+r[5]*u+r[6]*h+r[7]*c,n[9]=r[8]*l+r[9]*u+r[10]*h+r[11]*c,n[13]=r[12]*l+r[13]*u+r[14]*h+r[15]*c;let d=n[2],p=n[6],f=n[10],m=n[14];n[2]=r[0]*d+r[1]*p+r[2]*f+r[3]*m,n[6]=r[4]*d+r[5]*p+r[6]*f+r[7]*m,n[10]=r[8]*d+r[9]*p+r[10]*f+r[11]*m,n[14]=r[12]*d+r[13]*p+r[14]*f+r[15]*m;let g=n[3],y=n[7],v=n[11],x=n[15];return n[3]=r[0]*g+r[1]*y+r[2]*v+r[3]*x,n[7]=r[4]*g+r[5]*y+r[6]*v+r[7]*x,n[11]=r[8]*g+r[9]*y+r[10]*v+r[11]*x,n[15]=r[12]*g+r[13]*y+r[14]*v+r[15]*x,this}scale(t,r,n){return t instanceof ne?(r=t.y,n=t.z,t=t.x):t instanceof Array&&(r=t[1],n=t[2],t=t[0]),this.matrix[0]*=t,this.matrix[1]*=t,this.matrix[2]*=t,this.matrix[3]*=t,this.matrix[4]*=r,this.matrix[5]*=r,this.matrix[6]*=r,this.matrix[7]*=r,this.matrix[8]*=n,this.matrix[9]*=n,this.matrix[10]*=n,this.matrix[11]*=n,this}rotate4x4(t,r,n,i){r instanceof ne?(n=r.y,i=r.z,r=r.x):r instanceof Array&&(n=r[1],i=r[2],r=r[0]);let s=Math.sqrt(r*r+n*n+i*i);r*=1/s,n*=1/s,i*=1/s;let a=this.matrix[0],o=this.matrix[1],l=this.matrix[2],u=this.matrix[3],h=this.matrix[4],c=this.matrix[5],d=this.matrix[6],p=this.matrix[7],f=this.matrix[8],m=this.matrix[9],g=this.matrix[10],y=this.matrix[11],v=Math.sin(t),x=Math.cos(t),b=1-x,w=r*r*b+x,_=n*r*b+i*v,C=i*r*b-n*v,S=r*n*b-i*v,E=n*n*b+x,D=i*n*b+r*v,A=r*i*b+n*v,k=n*i*b-r*v,T=i*i*b+x;return this.matrix[0]=a*w+h*_+f*C,this.matrix[1]=o*w+c*_+m*C,this.matrix[2]=l*w+d*_+g*C,this.matrix[3]=u*w+p*_+y*C,this.matrix[4]=a*S+h*E+f*D,this.matrix[5]=o*S+c*E+m*D,this.matrix[6]=l*S+d*E+g*D,this.matrix[7]=u*S+p*E+y*D,this.matrix[8]=a*A+h*k+f*T,this.matrix[9]=o*A+c*k+m*T,this.matrix[10]=l*A+d*k+g*T,this.matrix[11]=u*A+p*k+y*T,this}translate(t){let r=t[0],n=t[1],i=t[2]||0;return this.matrix[12]+=this.matrix[0]*r+this.matrix[4]*n+this.matrix[8]*i,this.matrix[13]+=this.matrix[1]*r+this.matrix[5]*n+this.matrix[9]*i,this.matrix[14]+=this.matrix[2]*r+this.matrix[6]*n+this.matrix[10]*i,this.matrix[15]+=this.matrix[3]*r+this.matrix[7]*n+this.matrix[11]*i,this}rotateX(t){this.rotate4x4(t,1,0,0)}rotateY(t){this.rotate4x4(t,0,1,0)}rotateZ(t){this.rotate4x4(t,0,0,1)}perspective(t,r,n,i){let s=1/Math.tan(t/2),a=1/(n-i);return this.matrix[0]=s/r,this.matrix[1]=0,this.matrix[2]=0,this.matrix[3]=0,this.matrix[4]=0,this.matrix[5]=s,this.matrix[6]=0,this.matrix[7]=0,this.matrix[8]=0,this.matrix[9]=0,this.matrix[10]=(i+n)*a,this.matrix[11]=-1,this.matrix[12]=0,this.matrix[13]=0,this.matrix[14]=2*i*n*a,this.matrix[15]=0,this}ortho(t,r,n,i,s,a){let o=1/(t-r),l=1/(n-i),u=1/(s-a);return this.matrix[0]=-2*o,this.matrix[1]=0,this.matrix[2]=0,this.matrix[3]=0,this.matrix[4]=0,this.matrix[5]=-2*l,this.matrix[6]=0,this.matrix[7]=0,this.matrix[8]=0,this.matrix[9]=0,this.matrix[10]=2*u,this.matrix[11]=0,this.matrix[12]=(t+r)*o,this.matrix[13]=(i+n)*l,this.matrix[14]=(a+s)*u,this.matrix[15]=1,this}multiplyVec4(t,r,n,i){let s=[,,,,],a=this.matrix;return s[0]=a[0]*t+a[4]*r+a[8]*n+a[12]*i,s[1]=a[1]*t+a[5]*r+a[9]*n+a[13]*i,s[2]=a[2]*t+a[6]*r+a[10]*n+a[14]*i,s[3]=a[3]*t+a[7]*r+a[11]*n+a[15]*i,s}multiplyPoint({x:t,y:r,z:n}){let i=this.multiplyVec4(t,r,n,1);return new ne(i[0],i[1],i[2])}multiplyAndNormalizePoint({x:t,y:r,z:n}){let i=this.multiplyVec4(t,r,n,1);return i[0]/=i[3],i[1]/=i[3],i[2]/=i[3],new ne(i[0],i[1],i[2])}multiplyDirection({x:t,y:r,z:n}){let i=this.multiplyVec4(t,r,n,0);return new ne(i[0],i[1],i[2])}multiplyVec3(t,r){return void 0===r&&(r=t.copy()),r.x=this.row(0).dot(t),r.y=this.row(1).dot(t),r.z=this.row(2).dot(t),r}#y(t){if(3===t)return new n9([1,0,0,0,1,0,0,0,1]);if(4===t)return new n9([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);let r=new n9(t*t).fill(0);for(let n=0;n<t;n++)r[n*t+n]=1;return r}#w(t){let r=this.matrix[0],n=this.matrix[1],i=this.matrix[2],s=this.matrix[3];return this.matrix[0]=r*t[0]+n*t[4]+i*t[8]+s*t[12],this.matrix[1]=r*t[1]+n*t[5]+i*t[9]+s*t[13],this.matrix[2]=r*t[2]+n*t[6]+i*t[10]+s*t[14],this.matrix[3]=r*t[3]+n*t[7]+i*t[11]+s*t[15],r=this.matrix[4],n=this.matrix[5],i=this.matrix[6],s=this.matrix[7],this.matrix[4]=r*t[0]+n*t[4]+i*t[8]+s*t[12],this.matrix[5]=r*t[1]+n*t[5]+i*t[9]+s*t[13],this.matrix[6]=r*t[2]+n*t[6]+i*t[10]+s*t[14],this.matrix[7]=r*t[3]+n*t[7]+i*t[11]+s*t[15],r=this.matrix[8],n=this.matrix[9],i=this.matrix[10],s=this.matrix[11],this.matrix[8]=r*t[0]+n*t[4]+i*t[8]+s*t[12],this.matrix[9]=r*t[1]+n*t[5]+i*t[9]+s*t[13],this.matrix[10]=r*t[2]+n*t[6]+i*t[10]+s*t[14],this.matrix[11]=r*t[3]+n*t[7]+i*t[11]+s*t[15],r=this.matrix[12],n=this.matrix[13],i=this.matrix[14],s=this.matrix[15],this.matrix[12]=r*t[0]+n*t[4]+i*t[8]+s*t[12],this.matrix[13]=r*t[1]+n*t[5]+i*t[9]+s*t[13],this.matrix[14]=r*t[2]+n*t[6]+i*t[10]+s*t[14],this.matrix[15]=r*t[3]+n*t[7]+i*t[11]+s*t[15],this}#C(t){if(t.length!==this.matrix.length)throw Error("Matrices must be of the same dimension to multiply.");let r=new n9(this.matrix.length).fill(0);for(let n=0;n<this.#g;n++)for(let i=0;i<this.#g;i++)for(let s=0;s<this.#g;s++)r[n*this.#g+i]+=this.matrix[n*this.#g+s]*t[s*this.#g+i];return this.matrix=r,this}#_(t){let r=this.mat3[0],n=this.mat3[1],i=this.mat3[2];return this.mat3[0]=r*t[0]+n*t[3]+i*t[6],this.mat3[1]=r*t[1]+n*t[4]+i*t[7],this.mat3[2]=r*t[2]+n*t[5]+i*t[8],r=this.mat3[3],n=this.mat3[4],i=this.mat3[5],this.mat3[3]=r*t[0]+n*t[3]+i*t[6],this.mat3[4]=r*t[1]+n*t[4]+i*t[7],this.mat3[5]=r*t[2]+n*t[5]+i*t[8],r=this.mat3[6],n=this.mat3[7],i=this.mat3[8],this.mat3[6]=r*t[0]+n*t[3]+i*t[6],this.mat3[7]=r*t[1]+n*t[4]+i*t[7],this.mat3[8]=r*t[2]+n*t[5]+i*t[8],this}#b(){let t=this.#g;for(let r=0;r<t;r++)for(let n=0;n<t;n++)this.matrix[r*t+n]=this.matrix[n*t+r];return this}#v(t){let r,n,i,s,a,o;return console.log("====> 4x4"),t instanceof ie?(r=t.matrix[1],n=t.matrix[2],i=t.matrix[3],s=t.matrix[6],a=t.matrix[7],o=t.matrix[11],this.matrix[0]=t.matrix[0],this.matrix[1]=t.matrix[4],this.matrix[2]=t.matrix[8],this.matrix[3]=t.matrix[12],this.matrix[4]=r,this.matrix[5]=t.matrix[5],this.matrix[6]=t.matrix[9],this.matrix[7]=t.matrix[13],this.matrix[8]=n,this.matrix[9]=s,this.matrix[10]=t.matrix[10],this.matrix[11]=t.matrix[14],this.matrix[12]=i,this.matrix[13]=a,this.matrix[14]=o,this.matrix[15]=t.matrix[15]):n7(t)&&(r=t[1],n=t[2],i=t[3],s=t[6],a=t[7],o=t[11],this.matrix[0]=t[0],this.matrix[1]=t[4],this.matrix[2]=t[8],this.matrix[3]=t[12],this.matrix[4]=r,this.matrix[5]=t[5],this.matrix[6]=t[9],this.matrix[7]=t[13],this.matrix[8]=n,this.matrix[9]=s,this.matrix[10]=t[10],this.matrix[11]=t[14],this.matrix[12]=i,this.matrix[13]=a,this.matrix[14]=o,this.matrix[15]=t[15]),this}#x(t){void 0===t&&(t=this.mat3);let r=t[1],n=t[2],i=t[5];return this.mat3[0]=t[0],this.mat3[1]=t[3],this.mat3[2]=t[6],this.mat3[3]=r,this.mat3[4]=t[4],this.mat3[5]=t[7],this.mat3[6]=n,this.mat3[7]=i,this.mat3[8]=t[8],this}#S(t){let r,n,i,s,a,o,l,u,h,c,d,p,f,m,g,y;t instanceof ie?(r=t.matrix[0],n=t.matrix[1],i=t.matrix[2],s=t.matrix[3],a=t.matrix[4],o=t.matrix[5],l=t.matrix[6],u=t.matrix[7],h=t.matrix[8],c=t.matrix[9],d=t.matrix[10],p=t.matrix[11],f=t.matrix[12],m=t.matrix[13],g=t.matrix[14],y=t.matrix[15]):n7(t)&&(r=t[0],n=t[1],i=t[2],s=t[3],a=t[4],o=t[5],l=t[6],u=t[7],h=t[8],c=t[9],d=t[10],p=t[11],f=t[12],m=t[13],g=t[14],y=t[15]);let v=r*o-n*a,x=r*l-i*a,b=r*u-s*a,w=n*l-i*o,_=n*u-s*o,C=i*u-s*l,S=h*m-c*f,E=h*g-d*f,D=h*y-p*f,A=c*g-d*m,k=c*y-p*m,T=d*y-p*g,F=v*T-x*k+b*A+w*D-_*E+C*S;return F?(F=1/F,this.matrix[0]=(o*T-l*k+u*A)*F,this.matrix[1]=(i*k-n*T-s*A)*F,this.matrix[2]=(m*C-g*_+y*w)*F,this.matrix[3]=(d*_-c*C-p*w)*F,this.matrix[4]=(l*D-a*T-u*E)*F,this.matrix[5]=(r*T-i*D+s*E)*F,this.matrix[6]=(g*b-f*C-y*x)*F,this.matrix[7]=(h*C-d*b+p*x)*F,this.matrix[8]=(a*k-o*D+u*S)*F,this.matrix[9]=(n*D-r*k-s*S)*F,this.matrix[10]=(f*_-m*b+y*v)*F,this.matrix[11]=(c*b-h*_-p*v)*F,this.matrix[12]=(o*E-a*A-l*S)*F,this.matrix[13]=(r*A-n*E+i*S)*F,this.matrix[14]=(m*x-f*w-g*v)*F,this.matrix[15]=(h*w-c*x+d*v)*F,this):null}#E(){let t=this.mat3[0],r=this.mat3[1],n=this.mat3[2],i=this.mat3[3],s=this.mat3[4],a=this.mat3[5],o=this.mat3[6],l=this.mat3[7],u=this.mat3[8],h=u*s-a*l,c=-u*i+a*o,d=l*i-s*o,p=t*h+r*c+n*d;return p?(p=1/p,this.mat3[0]=h*p,this.mat3[1]=(-u*r+n*l)*p,this.mat3[2]=(a*r-n*s)*p,this.mat3[3]=c*p,this.mat3[4]=(u*t-n*o)*p,this.mat3[5]=(-a*t+n*i)*p,this.mat3[6]=d*p,this.mat3[7]=(-l*t+r*o)*p,this.mat3[8]=(s*t-r*i)*p,this):null}#D(){if(4!==this.#g)throw Error("Determinant is only implemented for 4x4 matrices. We are working on it.");let t=this.matrix[0]*this.matrix[5]-this.matrix[1]*this.matrix[4],r=this.matrix[0]*this.matrix[6]-this.matrix[2]*this.matrix[4],n=this.matrix[0]*this.matrix[7]-this.matrix[3]*this.matrix[4],i=this.matrix[1]*this.matrix[6]-this.matrix[2]*this.matrix[5],s=this.matrix[1]*this.matrix[7]-this.matrix[3]*this.matrix[5],a=this.matrix[2]*this.matrix[7]-this.matrix[3]*this.matrix[6],o=this.matrix[8]*this.matrix[13]-this.matrix[9]*this.matrix[12],l=this.matrix[8]*this.matrix[14]-this.matrix[10]*this.matrix[12],u=this.matrix[8]*this.matrix[15]-this.matrix[11]*this.matrix[12],h=this.matrix[9]*this.matrix[14]-this.matrix[10]*this.matrix[13],c=this.matrix[9]*this.matrix[15]-this.matrix[11]*this.matrix[13];return t*(this.matrix[10]*this.matrix[15]-this.matrix[11]*this.matrix[14])-r*c+n*h+i*u-s*l+a*o}}function it(t,r){t.Matrix=ie}void 0!==m&&it(m);class ir{constructor(t=128){this.length=0,this.data=new Float32Array(t),this.initialLength=t}dataArray(){return this.subArray(0,this.length)}clear(){this.length=0}rescale(){if(this.length<this.data.length/2){let t=new Float32Array(1<<Math.ceil(Math.log2(this.length)));t.set(this.data.subarray(0,this.length),0),this.data=t}}reset(){this.clear(),this.data=new Float32Array(this.initialLength)}push(...t){this.ensureLength(this.length+t.length),this.data.set(t,this.length),this.length+=t.length}slice(t,r){return this.data.slice(t,Math.min(r,this.length))}subArray(t,r){return this.data.subarray(t,Math.min(r,this.length))}ensureLength(t){for(;this.data.length<t;){let t=new Float32Array(2*this.data.length);t.set(this.data,0),this.data=t}}}function ii(t,r){t.DataArray=ir}void 0!==m&&ii(m);class is{constructor(t,r,n,i){this.renderer=i,this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new ir,this.lineTangentsIn=new ir,this.lineTangentsOut=new ir,this.lineSides=new ir,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.userVertexProperties={},this.lineVertexColors=new ir,this.detailX=void 0!==t?t:1,this.detailY=void 0!==r?r:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.gid=`_p5_Geometry_${is.nextId}`,is.nextId++,n instanceof Function&&n.call(this)}calculateBoundingBox(){if(this.boundingBoxCache)return this.boundingBoxCache;let t=new ne(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),r=new ne(5e-324,5e-324,5e-324);for(let n=0;n<this.vertices.length;n++){let i=this.vertices[n];t.x=Math.min(t.x,i.x),t.y=Math.min(t.y,i.y),t.z=Math.min(t.z,i.z),r.x=Math.max(r.x,i.x),r.y=Math.max(r.y,i.y),r.z=Math.max(r.z,i.z)}let n=new ne(r.x-t.x,r.y-t.y,r.z-t.z),i=new ne((t.x+r.x)/2,(t.y+r.y)/2,(t.z+r.z)/2);return this.boundingBoxCache={min:t,max:r,size:n,offset:i},this.boundingBoxCache}reset(){for(let t in this.renderer?.onReset?.(this),this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.userVertexProperties)this.userVertexProperties[t].delete();this.userVertexProperties={},this.dirtyFlags={}}hasFillTransparency(){if(void 0===this._hasFillTransparency){this._hasFillTransparency=!1;for(let t=0;t<this.vertexColors.length;t+=4)if(this.vertexColors[t+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}hasStrokeTransparency(){if(void 0===this._hasStrokeTransparency){this._hasStrokeTransparency=!1;for(let t=0;t<this.lineVertexColors.length;t+=4)if(this.lineVertexColors[t+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}clearColors(){return this.vertexColors=[],this}saveObj(t="model.obj"){let r="";if(this.vertices.forEach(t=>{r+=`v ${t.x} ${t.y} ${t.z}
`}),this.uvs&&this.uvs.length>0)for(let t=0;t<this.uvs.length;t+=2)r+=`vt ${this.uvs[t]} ${this.uvs[t+1]}
`;this.vertexNormals&&this.vertexNormals.length>0&&this.vertexNormals.forEach(t=>{r+=`vn ${t.x} ${t.y} ${t.z}
`}),this.faces.forEach(t=>{let n="f";t.forEach(t=>{n+=" ",n+=t+1,(this.vertexNormals.length>0||this.uvs.length>0)&&(n+="/",this.uvs.length>0&&(n+=t+1),n+="/",this.vertexNormals.length>0&&(n+=t+1))}),r+=n+"\n"}),r3(new Blob([r],{type:"text/plain"}),t,"obj")}saveStl(t="model.stl",{binary:r=!1}={}){let n,i=t.substring(0,t.lastIndexOf(".")),s=[];for(let t of this.faces){let r=ne.sub(this.vertices[t[1]],this.vertices[t[0]]),n=ne.sub(this.vertices[t[2]],this.vertices[t[0]]),i=r.y*n.z-r.z*n.y,a=r.z*n.x-r.x*n.z,o=r.x*n.y-r.y*n.x;s.push(new ne(i,a,o).normalize())}if(r){let t=80;for(let[r,i]of((n=new DataView(new ArrayBuffer(2*this.faces.length+3*this.faces.length*16+80+4))).setUint32(t,this.faces.length,!0),t+=4,Object.entries(this.faces))){let a=s[r];for(let r of(n.setFloat32(t,a.x,!0),t+=4,n.setFloat32(t,a.y,!0),t+=4,n.setFloat32(t,a.z,!0),t+=4,i)){let i=this.vertices[r];n.setFloat32(t,i.x,!0),t+=4,n.setFloat32(t,i.y,!0),t+=4,n.setFloat32(t,i.z,!0),t+=4}n.setUint16(t,0,!0),t+=2}}else{for(let[t,r]of(n="solid "+i+"\n",Object.entries(this.faces))){let i=s[t];for(let t of(n+=" facet norm "+i.x+" "+i.y+" "+i.z+"\n",n+="  outer loop\n",r)){let r=this.vertices[t];n+="   vertex "+r.x+" "+r.y+" "+r.z+"\n"}n+="  endloop\n",n+=" endfacet\n"}n+="endsolid "+i+"\n"}r3(new Blob([n],{type:"text/plain"}),t,"stl")}flipU(){this.uvs=this.uvs.flat().map((t,r)=>r%2==0?1-t:t)}flipV(){this.uvs=this.uvs.flat().map((t,r)=>r%2==0?t:1-t)}computeFaces(){let t,r,n,i;this.faces.length=0;let s=this.detailX+1;for(let a=0;a<this.detailY;a++)for(let o=0;o<this.detailX;o++)t=a*s+o,r=a*s+o+1,n=(a+1)*s+o+1,i=(a+1)*s+o,this.faces.push([t,r,i]),this.faces.push([i,r,n]);return this}_getFaceNormal(t){let r=this.faces[t],n=this.vertices[r[0]],i=this.vertices[r[1]],s=this.vertices[r[2]],a=ne.sub(i,n),o=ne.sub(s,n),l=ne.cross(a,o),u=ne.mag(l),h=u/(ne.mag(a)*ne.mag(o));return 0===h||isNaN(h)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),l):(h>1&&(h=1),l.mult(Math.asin(h)/u))}computeNormals(t=eC,{roundToPrecision:r=3}={}){let n,i=this.vertexNormals,s=this.vertices,a=this.faces;if(t===eS){let t={},n=[],i=Math.pow(10,r),o=t=>Math.round(t*i)/i,l=t=>`${o(t.x)},${o(t.y)},${o(t.z)}`;for(let r=0;r<s.length;r++){let i=s[r],a=l(i);void 0===t[a]&&(t[a]=n.length,n.push(i))}a.forEach(r=>{for(let n=0;n<3;++n){let i=l(s[r[n]]);r[n]=t[i]}}),this.edges.forEach(r=>{for(let n=0;n<2;++n){let i=l(s[r[n]]);r[n]=t[i]}}),this.vertices=s=n}for(i.length=0,n=0;n<s.length;++n)i.push(new ne);for(a.forEach((t,r)=>{let n=this._getFaceNormal(r);for(let r=0;r<3;++r)i[t[r]].add(n)}),n=0;n<s.length;++n)i[n].normalize();return this}averageNormals(){for(let t=0;t<=this.detailY;t++){let r=this.detailX+1,n=ne.add(this.vertexNormals[t*r],this.vertexNormals[t*r+this.detailX]);n=ne.div(n,2),this.vertexNormals[t*r]=n,this.vertexNormals[t*r+this.detailX]=n}return this}averagePoleNormals(){let t=new ne(0,0,0);for(let r=0;r<this.detailX;r++)t.add(this.vertexNormals[r]);t=ne.div(t,this.detailX);for(let r=0;r<this.detailX;r++)this.vertexNormals[r]=t;t=new ne(0,0,0);for(let r=this.vertices.length-1;r>this.vertices.length-1-this.detailX;r--)t.add(this.vertexNormals[r]);t=ne.div(t,this.detailX);for(let r=this.vertices.length-1;r>this.vertices.length-1-this.detailX;r--)this.vertexNormals[r]=t;return this}_makeTriangleEdges(){this.edges.length=0;for(let t=0;t<this.faces.length;t++)this.edges.push([this.faces[t][0],this.faces[t][1]]),this.edges.push([this.faces[t][1],this.faces[t][2]]),this.edges.push([this.faces[t][2],this.faces[t][0]]);return this}makeEdgesFromFaces(){this._makeTriangleEdges()}_edgesToVertices(){let t;this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();let r=new Map,n=new Set;for(let i=0;i<this.edges.length;i++){let s=this.edges[i-1],a=this.edges[i],o=a[0]===a[1],l=this.vertices[a[0]],u=this.vertices[a[1]],h=this.vertexStrokeColors.length>0&&s?this.vertexStrokeColors.slice(4*s[1],4*(s[1]+1)):[0,0,0,0],c=this.vertexStrokeColors.length>0?this.vertexStrokeColors.slice(4*a[0],4*(a[0]+1)):[0,0,0,0],d=this.vertexStrokeColors.length>0?this.vertexStrokeColors.slice(4*a[1],4*(a[1]+1)):[0,0,0,0],p=o?new ne(0,1,0):u.copy().sub(l).normalize(),f=p.magSq()>0;if(f&&this._addSegment(l,u,c,d,p),!this.renderer?._simpleLines){if(i>0&&s[1]===a[0])n.has(a[0])||(n.add(a[0]),r.delete(a[0]),t&&f&&p.dot(t)<1-1e-8&&this._addJoin(l,t,p,c));else if(o)this._addCap(l,p.copy().mult(-1),c),this._addCap(l,p,c);else{if(f&&!n.has(a[0])){let t=r.get(a[0]);t?(this._addJoin(l,t.dir,p,c),r.delete(a[0]),n.add(a[0])):r.set(a[0],{point:l,dir:p.copy().mult(-1),color:c})}if(!o&&t&&!n.has(s[1])){let i=r.get(s[1]);i?(this._addJoin(this.vertices[s[1]],t,i.dir.copy().mult(-1),h),r.delete(s[1]),n.add(s[1])):r.set(s[1],{point:this.vertices[s[1]],dir:t,color:h}),t=void 0}}if(i===this.edges.length-1&&!n.has(a[1])){let t=r.get(a[1]);t?(this._addJoin(u,p,t.dir.copy().mult(-1),d),r.delete(a[1]),n.add(a[1])):r.set(a[1],{point:u,dir:p,color:d})}f&&(t=p)}}for(let{point:t,dir:n,color:i}of r.values())this._addCap(t,n,i);return this}_addSegment(t,r,n,i,s){let a=t.array(),o=r.array(),l=s.array();for(let t of(this.lineSides.push(1,1,-1,1,-1,-1),[this.lineTangentsIn,this.lineTangentsOut]))for(let r=0;r<6;r++)t.push(...l);return this.lineVertices.push(...a,...o,...a,...o,...o,...a),this.renderer?._simpleLines||this.lineVertexColors.push(...n,...i,...n,...i,...i,...n),this}_addCap(t,r,n){let i=t.array(),s=r.array(),a=[0,0,0];for(let t=0;t<6;t++)this.lineVertices.push(...i),this.lineTangentsIn.push(...s),this.lineTangentsOut.push(...a),this.lineVertexColors.push(...n);return this.lineSides.push(-1,2,-2,1,2,-1),this}_addJoin(t,r,n,i){let s=t.array(),a=r.array(),o=n.array();for(let t=0;t<12;t++)this.lineVertices.push(...s),this.lineTangentsIn.push(...a),this.lineTangentsOut.push(...o),this.lineVertexColors.push(...i);return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}normalize(){if(this.vertices.length>0){let t=this.vertices[0].copy(),r=this.vertices[0].copy();for(let n=0;n<this.vertices.length;n++)t.x=Math.max(t.x,this.vertices[n].x),r.x=Math.min(r.x,this.vertices[n].x),t.y=Math.max(t.y,this.vertices[n].y),r.y=Math.min(r.y,this.vertices[n].y),t.z=Math.max(t.z,this.vertices[n].z),r.z=Math.min(r.z,this.vertices[n].z);let n=ne.lerp(t,r,.5),i=ne.sub(t,r),s=200/Math.max(Math.max(i.x,i.y),i.z);for(let t=0;t<this.vertices.length;t++)this.vertices[t].sub(n),this.vertices[t].mult(s)}return this}vertexProperty(t,r,n){let i;this.userVertexProperties[t]||(i=this.userVertexProperties[t]=this._userVertexPropertyHelper(t,r,n)),i=this.userVertexProperties[t],n?i.pushDirect(r):(i.setCurrentData(r),i.pushCurrentData())}_userVertexPropertyHelper(t,r,n){return this[(this.userVertexProperties[t]={name:t,dataSize:n||(r.length?r.length:1),geometry:this,getName(){return this.name},getCurrentData(){return void 0===this.currentData&&(this.currentData=Array(this.getDataSize()).fill(0)),this.currentData},getDataSize(){return this.dataSize},getSrcName(){return this.name.concat("Src")},getDstName(){return this.name.concat("Buffer")},getSrcArray(){let t=this.getSrcName();return this.geometry[t]},setCurrentData(t){this.currentData=t},pushCurrentData(){let t=this.getCurrentData();this.pushDirect(t)},pushDirect(t){t.length?this.getSrcArray().push(...t):this.getSrcArray().push(t)},resetSrcArray(){this.geometry[this.getSrcName()]=[]},delete(){let t=this.getSrcName();delete this.geometry[t]}}).getSrcName()]=[],this.userVertexProperties[t]}}function ia(t,r){t.Geometry=is}is.nextId=0,void 0!==m&&ia(m);class io{constructor(t){this.renderer=t,t._pInst.push(),this.identityMatrix=new ie(4),t.states.setValue("uModelMatrix",new ie(4)),this.geometry=new is(void 0,void 0,void 0,this.renderer),this.geometry.gid=`_p5_GeometryBuilder_${io.nextGeometryId}`,io.nextGeometryId++,this.hasTransform=!1}transformVertices(t){return this.hasTransform?t.map(t=>this.renderer.states.uModelMatrix.multiplyPoint(t)):t}transformNormals(t){return this.hasTransform?t.map(t=>this.renderer.scratchMat3.multiplyVec(t)):t}addGeometry(t){this.hasTransform=!this.renderer.states.uModelMatrix.mat4.every((t,r)=>t===this.identityMatrix.mat4[r]),this.hasTransform&&this.renderer.scratchMat3.inverseTranspose4x4(this.renderer.states.uModelMatrix);let r=this.geometry.vertices.length;this.geometry.vertices.push(...this.transformVertices(t.vertices)),this.geometry.vertexNormals.push(...this.transformNormals(t.vertexNormals)),this.geometry.uvs.push(...t.uvs);let n=t.userVertexProperties,i=this.geometry.userVertexProperties,s=this.geometry.vertices.length-t.vertices.length;for(let r in i){if(r in n)continue;let s=i[r],a=Array(s.getDataSize()*t.vertices.length).fill(0);s.pushDirect(a)}for(let t in n){let r=n[t],a=r.getSrcArray(),o=r.getDataSize();if(s>0&&!(t in i)){let r=Array(o*s).fill(0);this.geometry.vertexProperty(t,r,o)}this.geometry.vertexProperty(t,a,o)}this.renderer.states.fillColor&&this.geometry.faces.push(...t.faces.map(t=>t.map(t=>t+r))),this.renderer.states.strokeColor&&this.geometry.edges.push(...t.edges.map(t=>t.map(t=>t+r)));let a=[...t.vertexColors];for(;a.length<4*t.vertices.length;)a.push(...this.renderer.states.curFillColor);this.geometry.vertexColors.push(...a)}addImmediate(t,r,{validateFaces:n=!1}={}){let i=[];if(this.renderer.states.fillColor){if(5===r||r===I)for(let r=2;r<t.vertices.length;r++)r%2==0?i.push([r,r-1,r-2]):i.push([r,r-2,r-1]);else if(6===r)for(let r=2;r<t.vertices.length;r++)i.push([0,r-1,r]);else if(4===r)for(let r=0;r<t.vertices.length;r+=3)(!n||t.vertices[r].copy().sub(t.vertices[r+1]).cross(t.vertices[r].copy().sub(t.vertices[r+2])).magSq()>0)&&i.push([r,r+1,r+2])}this.addGeometry(Object.assign({},t,{faces:i}))}addRetained(t){this.addGeometry(t)}finish(){return this.renderer._pInst.pop(),this.geometry}}io.nextGeometryId=0;class il{constructor(t,r,n,i){this.w=t,this.vec=new ne(r,n,i)}static fromAxisAngle(t,r,n,i){let s=Math.cos(t/2),a=new ne(r,n,i).normalize().mult(Math.sin(t/2));return new il(s,a.x,a.y,a.z)}conjugate(){return new il(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}multiply(t){return new il(this.w*t.w-this.vec.x*t.vec.x-this.vec.y*t.vec.y-this.vec.z-t.vec.z,this.w*t.vec.x+this.vec.x*t.w+this.vec.y*t.vec.z-this.vec.z*t.vec.y,this.w*t.vec.y-this.vec.x*t.vec.z+this.vec.y*t.w+this.vec.z*t.vec.x,this.w*t.vec.z+this.vec.x*t.vec.y-this.vec.y*t.vec.x+this.vec.z*t.w)}rotateVector(t){return ne.mult(t,this.w*this.w-this.vec.dot(this.vec)).add(ne.mult(this.vec,2*t.dot(this.vec))).add(ne.mult(this.vec,2*this.w).cross(t)).clampToZero()}rotateBy(t){return t.multiply(this).multiply(t.conjugate()).vec.clampToZero()}}function iu(t,r){t.Quat=il}void 0!==m&&iu(m);class ih{constructor(t){this._renderer=t,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new ie(4),this.projMatrix=new ie(4),this.yScale=1}perspective(t,r,n,i){let s,a,o=this._renderer.zClipRange();this.cameraType=arguments.length>0?"custom":"default",void 0===t?(t=this.defaultCameraFOV,this.cameraFOV=t):this.cameraFOV=this._renderer._pInst._toRadians(t),void 0===r&&(r=this.defaultAspectRatio),void 0===n&&(n=this.defaultCameraNear),void 0===i&&(i=this.defaultCameraFar),n<=1e-4&&(n=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),i<n&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=r,this.cameraNear=n,this.cameraFar=i,this.projMatrix=new ie(4);let l=1/Math.tan(this.cameraFOV/2),u=1/(this.cameraNear-this.cameraFar);0===o[0]?(s=i/(n-i),a=i*n/(n-i)):(s=(i+n)*u,a=2*i*n*u),this.projMatrix.set(l/r,0,0,0,0,-l*this.yScale,0,0,0,0,s,-1,0,0,a,0),this._isActive()&&(this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.set(this.projMatrix))}ortho(t,r,n,i,s,a){let o=this.fbo||this._renderer;void 0===t&&(t=-o.width/2),void 0===r&&(r=o.width/2),void 0===n&&(n=-o.height/2),void 0===i&&(i=o.height/2),void 0===s&&(s=0),void 0===a&&(a=Math.max(o.width,o.height)+800),this.cameraNear=s,this.cameraFar=a;let l=r-t,u=i-n,h=a-s,c=2/u*this.yScale,d=-(r+t)/l,p=-(i+n)/u,f=-(a+s)/h;this.projMatrix=new ie(4),this.projMatrix.set(2/l,0,0,0,0,-c,0,0,0,0,-2/h,0,d,p,f,1),this._isActive()&&(this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.set(this.projMatrix)),this.cameraType="custom"}frustum(t,r,n,i,s,a){void 0===t&&(t=-(.05*this._renderer.width)),void 0===r&&(r=.05*this._renderer.width),void 0===n&&(n=.05*this._renderer.height),void 0===i&&(i=-(.05*this._renderer.height)),void 0===s&&(s=this.defaultCameraNear),void 0===a&&(a=this.defaultCameraFar),this.cameraNear=s,this.cameraFar=a;let o=r-t,l=i-n,u=a-s,h=2*s/o,c=2*s/l*this.yScale,d=-2*a*s/u,p=(r+t)/o,f=(i+n)/l,m=-(a+s)/u;this.projMatrix=new ie(4),this.projMatrix.set(h,0,0,0,0,-c,0,0,p,f,m,-1,0,0,d,0),this._isActive()&&(this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.set(this.projMatrix)),this.cameraType="custom"}_rotateView(t,r,n,i){let s=this.centerX,a=this.centerY,o=this.centerZ;s-=this.eyeX,a-=this.eyeY,o-=this.eyeZ;let l=new ie(4);l.rotate4x4(this._renderer._pInst._toRadians(t),r,n,i);let u=[s*l.mat4[0]+a*l.mat4[4]+o*l.mat4[8],s*l.mat4[1]+a*l.mat4[5]+o*l.mat4[9],s*l.mat4[2]+a*l.mat4[6]+o*l.mat4[10]];u[0]+=this.eyeX,u[1]+=this.eyeY,u[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,u[0],u[1],u[2],this.upX,this.upY,this.upZ)}roll(t){let r=this._getLocalAxes(),n=il.fromAxisAngle(this._renderer._pInst._toRadians(t),r.z[0],r.z[1],r.z[2]).rotateVector(new ne(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,n.x,n.y,n.z)}pan(t){let r=this._getLocalAxes();this._rotateView(t,r.y[0],r.y[1],r.y[2])}tilt(t){let r=this._getLocalAxes();this._rotateView(t,r.x[0],r.x[1],r.x[2])}lookAt(t,r,n){this.camera(this.eyeX,this.eyeY,this.eyeZ,t,r,n,this.upX,this.upY,this.upZ)}camera(t,r,n,i,s,a,o,l,u){void 0===t&&(t=this.defaultEyeX,r=this.defaultEyeY,n=this.defaultEyeZ,i=t,s=r,a=0,o=0,l=1,u=0),this.eyeX=t,this.eyeY=r,this.eyeZ=n,void 0!==i&&(this.centerX=i,this.centerY=s,this.centerZ=a),void 0!==o&&(this.upX=o,this.upY=l,this.upZ=u);let h=this._getLocalAxes();this.cameraMatrix.set(h.x[0],h.y[0],h.z[0],0,h.x[1],h.y[1],h.z[1],0,h.x[2],h.y[2],h.z[2],0,0,0,0,1);let c=-t,d=-r,p=-n;return this.cameraMatrix.translate([c,d,p]),this._isActive()&&(this._renderer.states.setValue("uViewMatrix",this._renderer.states.uViewMatrix.clone()),this._renderer.states.uViewMatrix.set(this.cameraMatrix)),this}move(t,r,n){let i=this._getLocalAxes(),s=[i.x[0]*t,i.x[1]*t,i.x[2]*t],a=[i.y[0]*r,i.y[1]*r,i.y[2]*r],o=[i.z[0]*n,i.z[1]*n,i.z[2]*n];this.camera(this.eyeX+s[0]+a[0]+o[0],this.eyeY+s[1]+a[1]+o[1],this.eyeZ+s[2]+a[2]+o[2],this.centerX+s[0]+a[0]+o[0],this.centerY+s[1]+a[1]+o[1],this.centerZ+s[2]+a[2]+o[2],this.upX,this.upY,this.upZ)}setPosition(t,r,n){let i=t-this.eyeX,s=r-this.eyeY,a=n-this.eyeZ;this.camera(t,r,n,this.centerX+i,this.centerY+s,this.centerZ+a,this.upX,this.upY,this.upZ)}set(t){for(let r of["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale","useLinePerspective"])this[r]=t[r];this.cameraMatrix=t.cameraMatrix.copy(),this.projMatrix=t.projMatrix.copy(),this._isActive()&&(this._renderer.states.setValue("uModelMatrix",this._renderer.states.uModelMatrix.clone()),this._renderer.states.setValue("uViewMatrix",this._renderer.states.uViewMatrix.clone()),this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uModelMatrix.reset(),this._renderer.states.uViewMatrix.set(this.cameraMatrix),this._renderer.states.uPMatrix.set(this.projMatrix))}slerp(t,r,n){if(0===n)return void this.set(t);if(1===n)return void this.set(r);0!==this.projMatrix.mat4[15]&&(this.projMatrix.setElement(0,t.projMatrix.mat4[0]*Math.pow(r.projMatrix.mat4[0]/t.projMatrix.mat4[0],n)),this.projMatrix.setElement(5,t.projMatrix.mat4[5]*Math.pow(r.projMatrix.mat4[5]/t.projMatrix.mat4[5],n)),this._isActive()&&this._renderer.states.setValue("uPMatrix",this.projMatrix.clone()));let i=new ne(t.eyeX,t.eyeY,t.eyeZ),s=new ne(r.eyeX,r.eyeY,r.eyeZ),a=new ne(t.centerX,t.centerY,t.centerZ),o=new ne(r.centerX,r.centerY,r.centerZ),l=ne.dist(i,a),u=l*Math.pow(ne.dist(s,o)/l,n),h=ne.sub(i,s),c=i.copy().sub(s).sub(a).add(o),d=c.magSq(),p=1;d>1e-6&&(p=Math.max(0,Math.min(p=ne.dot(h,c)/d,1)));let f=ne.lerp(ne.lerp(i,a,p),ne.lerp(s,o,p),n),m=t.cameraMatrix.createSubMatrix3x3(),g=r.cameraMatrix.createSubMatrix3x3(),y=m.row(2),v=g.row(2),x=m.row(1),b=g.row(1),w=new ne,_=new ne,C=new ne,S=new ne,E=g.mult(m.copy().transpose()),D=E.diagonal(),A,k,T,F,M=.5*(D[0]+D[1]+D[2]-1);if(1-M<1e-7)return w.set(ne.lerp(y,v,n)).normalize(),C.set(w).mult(p*u).add(f),S.set(w).mult((p-1)*u).add(f),_.set(ne.lerp(x,b,n)).normalize(),void this.camera(C.x,C.y,C.z,S.x,S.y,S.z,_.x,_.y,_.z);let I=1/(1-M),B=Math.max(D[0],D[1],D[2]),P=E.mat3[1]+E.mat3[3],L=E.mat3[2]+E.mat3[6],N=E.mat3[5]+E.mat3[7];B===D[0]?(A=Math.sqrt((D[0]-M)*I),I/=A,k=.5*P*I,T=.5*L*I,F=.5*(E.mat3[7]-E.mat3[5])/A):B===D[1]?(k=Math.sqrt((D[1]-M)*I),I/=k,T=.5*N*I,A=.5*P*I,F=.5*(E.mat3[2]-E.mat3[6])/k):(T=Math.sqrt((D[2]-M)*I),I/=T,A=.5*L*I,k=.5*N*I,F=.5*(E.mat3[3]-E.mat3[1])/T);let O=n*Math.atan2(F,M),R=Math.cos(O),V=Math.sin(O),z=1-R,U=A*k,j=k*T,G=T*A,$=new ie([R+z*A*A,z*U+V*T,z*G-V*k,z*U-V*T,R+z*k*k,z*j+V*A,z*G+V*k,z*j-V*A,R+z*T*T]);$.multiplyVec(y,w),C.set(w).mult(p*u).add(f),S.set(w).mult((p-1)*u).add(f),$.multiplyVec(x,_),this.camera(C.x,C.y,C.z,S.x,S.y,S.z,_.x,_.y,_.z)}_computeCameraDefaultSettings(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=this.defaultEyeZ*this._renderer.defaultNearScale(),this.defaultCameraFar=this.defaultEyeZ*this._renderer.defaultFarScale()}_setDefaultCamera(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}_resize(){"default"===this.cameraType&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}copy(){let t=new ih(this._renderer);return t.cameraFOV=this.cameraFOV,t.aspectRatio=this.aspectRatio,t.eyeX=this.eyeX,t.eyeY=this.eyeY,t.eyeZ=this.eyeZ,t.centerX=this.centerX,t.centerY=this.centerY,t.centerZ=this.centerZ,t.upX=this.upX,t.upY=this.upY,t.upZ=this.upZ,t.cameraNear=this.cameraNear,t.cameraFar=this.cameraFar,t.cameraType=this.cameraType,t.useLinePerspective=this.useLinePerspective,t.cameraMatrix=this.cameraMatrix.copy(),t.projMatrix=this.projMatrix.copy(),t.yScale=this.yScale,t.cameraType=this.cameraType,t}clone(){return this.copy()}_getLocalAxes(){let t=this.eyeX-this.centerX,r=this.eyeY-this.centerY,n=this.eyeZ-this.centerZ,i=Math.sqrt(t*t+r*r+n*n);0!==i&&(t/=i,r/=i,n/=i);let s=this.upX,a=this.upY,o=this.upZ,l=a*n-o*r,u=-s*n+o*t,h=s*r-a*t;s=r*h-n*u,a=-t*h+n*l,o=t*u-r*l;let c=Math.sqrt(l*l+u*u+h*h);0!==c&&(l/=c,u/=c,h/=c);let d=Math.sqrt(s*s+a*a+o*o);return 0!==d&&(s/=d,a/=d,o/=d),{x:[l,u,h],y:[s,a,o],z:[t,r,n]}}_orbit(t,r,n){let i=this.eyeX-this.centerX,s=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ,o=Math.hypot(i,s,a),l=new ne(i,s,a).normalize(),u=new ne(this.upX,this.upY,this.upZ).normalize(),h=ne.cross(u,l).normalize(),c=ne.cross(h,u);(o*=Math.pow(10,n))<this.cameraNear&&(o=this.cameraNear),o>this.cameraFar&&(o=this.cameraFar);let d=Math.acos(Math.max(-1,Math.min(1,ne.dot(l,u))))+r;(d<=0||d>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),u.mult(Math.cos(d)),c.mult(Math.cos(t)*Math.sin(d)),h.mult(Math.sin(t)*Math.sin(d)),l.set(u).add(c).add(h),this.eyeX=o*l.x+this.centerX,this.eyeY=o*l.y+this.centerY,this.eyeZ=o*l.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}_orbitFree(t,r,n){let i=this.eyeX-this.centerX,s=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ,o=Math.hypot(i,s,a),l=new ne(i,s,a).normalize(),u=new ne(this.upX,this.upY,this.upZ),h=ne.cross(u,l).normalize(),c=ne.cross(l,h),d=Math.atan2(r,t);c.mult(Math.sin(d)),h.mult(Math.cos(d)).add(c);let p=Math.sqrt(t*t+r*r),f=ne.cross(l,h);(o*=Math.pow(10,n))<this.cameraNear&&(o=this.cameraNear),o>this.cameraFar&&(o=this.cameraFar);let m=Math.cos(p),g=Math.sin(p),y=u.dot(l),v=u.dot(h),x=y*m+v*g,b=-y*g+v*m,w=u.dot(f);u.x=x*l.x+b*h.x+w*f.x,u.y=x*l.y+b*h.y+w*f.y,u.z=x*l.z+b*h.z+w*f.z,h.mult(-g),l.mult(m).add(h).mult(o),this.camera(l.x+this.centerX,l.y+this.centerY,l.z+this.centerZ,this.centerX,this.centerY,this.centerZ,u.x,u.y,u.z)}_isActive(){return this===this._renderer.states.curCamera}}function ic(t,r){r.camera=function(...t){return this._assert3d("camera"),this._renderer.camera(...t),this},r.perspective=function(...t){return this._assert3d("perspective"),this._renderer.perspective(...t),this},r.linePerspective=function(t){if(!(this._renderer instanceof iF))throw Error("linePerspective() must be called in WebGL mode.");return this._renderer.linePerspective(t)},r.ortho=function(...t){return this._assert3d("ortho"),this._renderer.ortho(...t),this},r.frustum=function(...t){return this._assert3d("frustum"),this._renderer.frustum(...t),this},r.createCamera=function(){return this._assert3d("createCamera"),this._renderer.createCamera()},r.setCamera=function(t){this._renderer.setCamera(t)},t.Camera=ih,iF.prototype.camera=function(...t){this.states.setValue("curCamera",this.states.curCamera.clone()),this.states.curCamera.camera(...t)},iF.prototype.perspective=function(...t){this.states.setValue("curCamera",this.states.curCamera.clone()),this.states.curCamera.perspective(...t)},iF.prototype.linePerspective=function(t){if(void 0===t)return this.states.curCamera.useLinePerspective;this.states.setValue("curCamera",this.states.curCamera.clone()),this.states.curCamera.useLinePerspective=t},iF.prototype.ortho=function(...t){this.states.setValue("curCamera",this.states.curCamera.clone()),this.states.curCamera.ortho(...t)},iF.prototype.frustum=function(...t){this.states.setValue("curCamera",this.states.curCamera.clone()),this.states.curCamera.frustum(...t)},iF.prototype.createCamera=function(){let t=new ih(this);return t._computeCameraDefaultSettings(),t._setDefaultCamera(),t},iF.prototype.setCamera=function(t){this.states.setValue("curCamera",t),this.states.setValue("uPMatrix",this.states.uPMatrix.clone()),this.states.uPMatrix.set(t.projMatrix),this.states.setValue("uViewMatrix",this.states.uViewMatrix.clone()),this.states.uViewMatrix.set(t.cameraMatrix)}}void 0!==m&&ic(m,m.prototype);var id={exports:{}};!function(t){function r(t,r){return t.b===r.b&&t.a===r.a}function n(t,r){return t.b<r.b||t.b===r.b&&t.a<=r.a}function i(t,r,n){var i=r.b-t.b,s=n.b-r.b;return 0<i+s?i<s?r.a-t.a+i/(i+s)*(t.a-n.a):r.a-n.a+s/(i+s)*(n.a-t.a):0}function s(t,r,n){var i=r.b-t.b,s=n.b-r.b;return 0<i+s?(r.a-n.a)*i+(r.a-t.a)*s:0}function a(t,r){return t.a<r.a||t.a===r.a&&t.b<=r.b}function o(t,r,n){var i=r.a-t.a,s=n.a-r.a;return 0<i+s?i<s?r.b-t.b+i/(i+s)*(t.b-n.b):r.b-n.b+s/(i+s)*(n.b-t.b):0}function l(t,r,n){var i=r.a-t.a,s=n.a-r.a;return 0<i+s?(r.b-n.b)*i+(r.b-t.b)*s:0}function u(t,r,n,i){return(t=0>t?0:t)<=(n=0>n?0:n)?0===n?(r+i)/2:r+t/(t+n)*(i-r):i+n/(t+n)*(r-i)}function h(t){var r=m(t.b);return y(r,t.c),y(r.b,t.c),v(r,t.a),r}function c(t,r){var n=!1,i=!1;t!==r&&(r.a!==t.a&&(i=!0,b(r.a,t.a)),r.d!==t.d&&(n=!0,w(r.d,t.d)),g(r,t),i||(y(r,t.a),t.a.c=t),n||(v(r,t.d),t.d.a=t))}function d(t){var r=t.b,n=!1;t.d!==t.b.d&&(n=!0,w(t.d,t.b.d)),t.c===t?b(t.a,null):(t.b.d.a=K(t),t.a.c=t.c,g(t,K(t)),n||v(t,t.d)),r.c===r?(b(r.a,null),w(r.d,null)):(t.d.a=K(r),r.a.c=r.c,g(r,K(r))),x(t)}function p(t){var r=m(t),n=r.b;return g(r,t.e),r.a=t.b.a,y(n,r.a),r.d=n.d=t.d,r=r.b,g(t.b,K(t.b)),g(t.b,r),t.b.a=r.a,r.b.a.c=r.b,r.b.d=t.b.d,r.f=t.f,r.b.f=t.b.f,r}function f(t,r){var n=!1,i=m(t),s=i.b;return r.d!==t.d&&(n=!0,w(r.d,t.d)),g(i,t.e),g(s,r),i.a=t.b.a,s.a=r.a,i.d=s.d=t.d,t.d.a=s,n||v(i,t.d),i}function m(t){var r=new X,n=new X,i=t.b.h;return n.h=i,i.b.h=r,r.h=t,t.b.h=n,r.b=n,r.c=r,r.e=n,n.b=r,n.c=n,n.e=r}function g(t,r){var n=t.c,i=r.c;n.b.e=r,i.b.e=t,t.c=i,r.c=n}function y(t,r){var n=r.f,i=new Q(r,n);n.e=i,r.f=i,n=i.c=t;do n.a=i,n=n.c;while(n!==t)}function v(t,r){var n=r.d,i=new Y(r,n);n.b=i,r.d=i,i.a=t,i.c=r.c,n=t;do n.d=i,n=n.e;while(n!==t)}function x(t){var r=t.h;t=t.b.h,r.b.h=t,t.b.h=r}function b(t,r){var n=t.c,i=n;do i.a=r,i=i.c;while(i!==n)n=t.f,(i=t.e).f=n,n.e=i}function w(t,r){var n=t.a,i=n;do i.d=r,i=i.e;while(i!==n)n=t.d,(i=t.b).d=n,n.b=i}function _(t){var r=0;return Math.abs(t[1])>Math.abs(t[0])&&(r=1),Math.abs(t[2])>Math.abs(t[r])&&(r=2),r}function C(t,r){t.f+=r.f,t.b.f+=r.b.f}function S(t,r,a){return t=t.a,r=r.a,a=a.a,r.b.a===t?a.b.a===t?n(r.a,a.a)?0>=s(a.b.a,r.a,a.a):0<=s(r.b.a,a.a,r.a):0>=s(a.b.a,t,a.a):a.b.a===t?0<=s(r.b.a,t,r.a):(r=i(r.b.a,t,r.a))>=(t=i(a.b.a,t,a.a))}function E(t){t.a.i=null;var r=t.e;r.a.c=r.c,r.c.a=r.a,t.e=null}function D(t,r){d(t.a),t.c=!1,t.a=r,r.i=t}function A(t){var r=t.a.a;do t=eh(t);while(t.a.a===r)return t.c&&(D(t,r=f(eu(t).a.b,t.a.e)),t=eh(t)),t}function k(t,r,n){var i=new el;return i.a=n,i.e=U(t.f,r.e,i),n.i=i}function T(t,r){switch(t.s){case 100130:return!!(1&r);case 100131:return 0!==r;case 100132:return 0<r;case 100133:return 0>r;case 100134:return 2<=r||-2>=r}return!1}function F(t){var r=t.a,n=r.d;n.c=t.d,n.a=r,E(t)}function M(t,r,n){for(t=r,r=r.a;t!==n;){t.c=!1;var i=eu(t),s=i.a;if(s.a!==r.a){if(!i.c){F(t);break}D(i,s=f(r.c.b,s.b))}r.c!==s&&(c(K(s),s),c(r,s)),F(t),r=i.a,t=i}return r}function I(t,r,n,i,s,a){var o=!0;do k(t,r,n.b),n=n.c;while(n!==i)for(null===s&&(s=eu(r).a.b.c);(n=(i=eu(r)).a.b).a===s.a;)n.c!==s&&(c(K(n),n),c(K(s),n)),i.f=r.f-n.f,i.d=T(t,i.f),r.b=!0,!o&&N(t,r)&&(C(n,s),E(r),d(s)),o=!1,r=i,s=n;r.b=!0,a&&R(t,r)}function B(t,r,n,i,s){var a=[r.g[0],r.g[1],r.g[2]];r.d=null,r.d=t.o&&t.o(a,n,i,t.c)||null,null===r.d&&(s?t.n||(q(t,100156),t.n=!0):r.d=n[0])}function P(t,r,n){var i=[null,null,null,null];i[0]=r.a.d,i[1]=n.a.d,B(t,r.a,i,[.5,.5,0,0],!1),c(r,n)}function L(t,r,n,i,s){var a=Math.abs(r.b-t.b)+Math.abs(r.a-t.a),o=Math.abs(n.b-t.b)+Math.abs(n.a-t.a),l=s+1;i[s]=.5*o/(a+o),i[l]=.5*a/(a+o),t.g[0]+=i[s]*r.g[0]+i[l]*n.g[0],t.g[1]+=i[s]*r.g[1]+i[l]*n.g[1],t.g[2]+=i[s]*r.g[2]+i[l]*n.g[2]}function N(t,i){var a=eu(i),o=i.a,l=a.a;if(n(o.a,l.a)){if(0<s(l.b.a,o.a,l.a))return!1;if(r(o.a,l.a)){if(o.a!==l.a){a=t.e;var u=o.a.h;if(0<=u){var h=(a=a.b).d,d=a.e,f=a.c,m=f[u];h[m]=h[a.a],f[h[m]]=m,m<=--a.a&&(1>=m||n(d[h[m>>1]],d[h[m]])?ea(a,m):eo(a,m)),d[u]=null,f[u]=a.b,a.b=u}else for(a.c[-(u+1)]=null;0<a.a&&null===a.c[a.d[a.a-1]];)--a.a;P(t,K(l),o)}}else p(l.b),c(o,K(l)),i.b=a.b=!0}else{if(0>s(o.b.a,l.a,o.a))return!1;eh(i).b=i.b=!0,p(o.b),c(K(l),o)}return!0}function O(t,h){var d=eu(h),f=h.a,m=d.a,g=f.a,y=m.a,v=f.b.a,x=m.b.a,b=new Q;if(g===y||Math.min(g.a,v.a)>Math.max(y.a,x.a))return!1;if(n(g,y)){if(0<s(x,g,y))return!1}else if(0>s(v,y,g))return!1;var w,_,C=v,S=g,E=x,D=y;if(n(C,S)||(w=C,C=S,S=w),n(E,D)||(w=E,E=D,D=w),n(C,E)||(w=C,C=E,E=w,w=S,S=D,D=w),n(E,S)?n(S,D)?(0>(w=i(C,E,S))+(_=i(E,S,D))&&(w=-w,_=-_),b.b=u(w,E.b,_,S.b)):(0>(w=s(C,E,S))+(_=-s(C,D,S))&&(w=-w,_=-_),b.b=u(w,E.b,_,D.b)):b.b=(E.b+S.b)/2,a(C,S)||(w=C,C=S,S=w),a(E,D)||(w=E,E=D,D=w),a(C,E)||(w=C,C=E,E=w,w=S,S=D,D=w),a(E,S)?a(S,D)?(0>(w=o(C,E,S))+(_=o(E,S,D))&&(w=-w,_=-_),b.a=u(w,E.a,_,S.a)):(0>(w=l(C,E,S))+(_=-l(C,D,S))&&(w=-w,_=-_),b.a=u(w,E.a,_,D.a)):b.a=(E.a+S.a)/2,n(b,t.a)&&(b.b=t.a.b,b.a=t.a.a),C=n(g,y)?g:y,n(C,b)&&(b.b=C.b,b.a=C.a),r(b,g)||r(b,y))return N(t,h),!1;if(!r(v,t.a)&&0<=s(v,t.a,b)||!r(x,t.a)&&0>=s(x,t.a,b)){if(x===t.a)return p(f.b),c(m.b,f),f=eu(h=A(h)).a,M(t,eu(h),d),I(t,h,K(f),f,f,!0),!0;if(v===t.a){p(m.b),c(f.e,K(m)),y=(g=d=h).a.b.a;do g=eh(g);while(g.a.b.a===y)return g=eu(h=g).a.b.c,d.a=K(m),I(t,h,(m=M(t,d,null)).c,f.b.c,g,!0),!0}return 0<=s(v,t.a,b)&&(eh(h).b=h.b=!0,p(f.b),f.a.b=t.a.b,f.a.a=t.a.a),0>=s(x,t.a,b)&&(h.b=d.b=!0,p(m.b),m.a.b=t.a.b,m.a.a=t.a.a),!1}return p(f.b),p(m.b),c(K(m),f),f.a.b=b.b,f.a.a=b.a,f.a.h=ee(t.e,f.a),f=f.a,m=[0,0,0,0],b=[g.d,v.d,y.d,x.d],f.g[0]=f.g[1]=f.g[2]=0,L(f,g,v,m,0),L(f,y,x,m,2),B(t,f,b,m,!0),eh(h).b=h.b=d.b=!0,!1}function R(t,r){for(var i=eu(r);;){for(;i.b;)r=i,i=eu(i);if(!r.b&&(i=r,null===(r=eh(r))||!r.b))break;r.b=!1;var a,o=r.a,l=i.a;if(a=o.b.a!==l.b.a)r:{var u=eu(a=r),h=a.a,f=u.a,m=void 0;if(n(h.b.a,f.b.a)){if(0>s(h.b.a,f.b.a,h.a)){a=!1;break r}eh(a).b=a.b=!0,m=p(h),c(f.b,m),m.d.c=a.d}else{if(0<s(f.b.a,h.b.a,f.a)){a=!1;break r}a.b=u.b=!0,m=p(f),c(h.e,f.b),m.b.d.c=a.d}a=!0}if(a&&(i.c?(E(i),d(l),l=(i=eu(r)).a):r.c&&(E(r),d(o),o=(r=eh(i)).a)),o.a!==l.a){if(o.b.a===l.b.a||r.c||i.c||o.b.a!==t.a&&l.b.a!==t.a)N(t,r);else if(O(t,r))break}o.a===l.a&&o.b.a===l.b.a&&(C(l,o),E(r),d(o),r=eh(i))}}function V(t,r){var n=new el,i=h(t.b);i.a.b=4e150,i.a.a=r,i.b.a.b=-4e150,i.b.a.a=r,t.a=i.b.a,n.a=i,n.f=0,n.d=!1,n.c=!1,n.h=!0,n.b=!1,i=U(i=t.f,i.a,n),n.e=i}function z(t){this.a=new j,this.b=t,this.c=S}function U(t,r,n){do r=r.c;while(null!==r.b&&!t.c(t.b,r.b,n))return t=new j(n,r.a,r),r.a.c=t,r.a=t}function j(t,r,n){this.b=t||null,this.a=r||this,this.c=n||this}function G(){this.d=H,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}var $,H=0;function W(t,r){if(t.d!==r)for(;t.d!==r;)if(t.d<r)switch(t.d){case H:q(t,100151),t.u(null);break;case 1:q(t,100152),t.t()}else switch(t.d){case 2:q(t,100154),t.v();break;case 1:q(t,100153),t.w()}}function q(t,r){t.p&&t.p(r,t.c)}function Y(t,r){this.b=t||this,this.d=r||this,this.a=null,this.c=!1}function X(){this.h=this,this.i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function K(t){return t.b.e}function Z(){this.c=new Q,this.a=new Y,this.b=new X,this.d=new X,this.b.b=this.d,this.d.b=this.b}function Q(t,r){this.e=t||this,this.f=r||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function J(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new er}function ee(t,r){if(t.e){var n,i=t.b,s=++i.a;return 2*s>i.f&&(i.f*=2,i.c=en(i.c,i.f+1)),0===i.b?n=s:(n=i.b,i.b=i.c[i.b]),i.e[n]=r,i.c[n]=s,i.d[s]=n,i.h&&eo(i,s),n}return i=t.a++,t.c[i]=r,-(i+1)}function et(t){if(0===t.a)return es(t.b);var r=t.c[t.d[t.a-1]];if(0!==t.b.a&&n(ei(t.b),r))return es(t.b);do--t.a;while(0<t.a&&null===t.c[t.d[t.a-1]])return r}function er(){this.d=en([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function en(t,r){for(var n=Array(r),i=0;i<t.length;i++)n[i]=t[i];for(;i<r;i++)n[i]=0;return n}function ei(t){return t.e[t.d[1]]}function es(t){var r=t.d,n=t.e,i=t.c,s=r[1],a=n[s];return 0<t.a&&(r[1]=r[t.a],i[r[1]]=1,n[s]=null,i[s]=t.b,t.b=s,0<--t.a&&ea(t,1)),a}function ea(t,r){for(var i=t.d,s=t.e,a=t.c,o=r,l=i[o];;){var u=o<<1;u<t.a&&n(s[i[u+1]],s[i[u]])&&(u+=1);var h=i[u];if(u>t.a||n(s[l],s[h])){i[o]=l,a[l]=o;break}i[o]=h,a[h]=o,o=u}}function eo(t,r){for(var i=t.d,s=t.e,a=t.c,o=r,l=i[o];;){var u=o>>1,h=i[u];if(0===u||n(s[h],s[l])){i[o]=l,a[l]=o;break}i[o]=h,a[h]=o,o=u}}function el(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function eu(t){return t.e.c.b}function eh(t){return t.e.a.b}($=G.prototype).x=function(){W(this,H)},$.B=function(t,r){switch(t){case 100142:return;case 100140:switch(r){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=r)}break;case 100141:return void(this.m=!!r);default:return void q(this,100900)}q(this,100901)},$.y=function(t){switch(t){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:q(this,100900)}return!1},$.A=function(t,r,n){this.j[0]=t,this.j[1]=r,this.j[2]=n},$.z=function(t,r){var n=r||null;switch(t){case 100100:case 100106:this.h=n;break;case 100104:case 100110:this.l=n;break;case 100101:case 100107:this.k=n;break;case 100102:case 100108:this.i=n;break;case 100103:case 100109:this.p=n;break;case 100105:case 100111:this.o=n;break;case 100112:this.r=n;break;default:q(this,100900)}},$.C=function(t,r){var n=!1,i=[0,0,0];W(this,2);for(var s=0;3>s;++s){var a=t[s];-1e150>a&&(a=-1e150,n=!0),1e150<a&&(a=1e150,n=!0),i[s]=a}n&&q(this,100155),null===(n=this.q)?c(n=h(this.b),n.b):(p(n),n=n.e),n.a.d=r,n.a.g[0]=i[0],n.a.g[1]=i[1],n.a.g[2]=i[2],n.f=1,n.b.f=-1,this.q=n},$.u=function(t){W(this,H),this.d=1,this.b=new Z,this.c=t},$.t=function(){W(this,1),this.d=2,this.q=null},$.v=function(){W(this,2),this.d=1},$.w=function(){W(this,1),this.d=H;var t,i,a=!1,o=[y=this.j[0],l=this.j[1],h=this.j[2]];if(0===y&&0===l&&0===h){for(var l=[-2e150,-2e150,-2e150],u=[2e150,2e150,2e150],h=[],m=[],y=(a=this.b.c).e;y!==a;y=y.e)for(var v=0;3>v;++v){var w=y.g[v];w<u[v]&&(u[v]=w,m[v]=y),w>l[v]&&(l[v]=w,h[v]=y)}if(y=0,l[1]-u[1]>l[0]-u[0]&&(y=1),l[2]-u[2]>l[y]-u[y]&&(y=2),u[y]>=l[y])o[0]=0,o[1]=0,o[2]=1;else{for(l=0,u=m[y],h=h[y],m=[0,0,0],u=[u.g[0]-h.g[0],u.g[1]-h.g[1],u.g[2]-h.g[2]],v=[0,0,0],y=a.e;y!==a;y=y.e)v[0]=y.g[0]-h.g[0],v[1]=y.g[1]-h.g[1],v[2]=y.g[2]-h.g[2],m[0]=u[1]*v[2]-u[2]*v[1],m[1]=u[2]*v[0]-u[0]*v[2],m[2]=u[0]*v[1]-u[1]*v[0],(w=m[0]*m[0]+m[1]*m[1]+m[2]*m[2])>l&&(l=w,o[0]=m[0],o[1]=m[1],o[2]=m[2]);0>=l&&(o[0]=o[1]=o[2]=0,o[_(u)]=1)}a=!0}for(m=_(o),y=this.b.c,l=(m+1)%3,h=(m+2)%3,m=0<o[m]?1:-1,o=y.e;o!==y;o=o.e)o.b=o.g[l],o.a=m*o.g[h];if(a){for(o=0,y=(a=this.b.a).b;y!==a;y=y.b)if(!(0>=(l=y.a).f))do o+=(l.a.b-l.b.a.b)*(l.a.a+l.b.a.a),l=l.e;while(l!==y.a)if(0>o)for(a=(o=this.b.c).e;a!==o;a=a.e)a.a=-a.a}for(this.n=!1,y=(o=this.b.b).h;y!==o;y=a)a=y.h,l=y.e,r(y.a,y.b.a)&&y.e.e!==y&&(P(this,l,y),d(y),l=(y=l).e),l.e===y&&(l!==y&&(l!==a&&l!==a.b||(a=a.h),d(l)),y!==a&&y!==a.b||(a=a.h),d(y));for(this.e=o=new J,y=(a=this.b.c).e;y!==a;y=y.e)y.h=ee(o,y);for(function(t){t.d=[];for(var r,i=0;i<t.a;i++)t.d[i]=i;t.d.sort((r=t.c,function(t,i){return n(r[t],r[i])?1:-1})),t.e=!0,function(t){for(var r=t.a;1<=r;--r)ea(t,r);t.h=!0}(t.b)}(o),this.f=new z(this),V(this,-4e150),V(this,4e150);null!==(o=et(this.e));){for(;;){r:if(0===(y=this.e).a)a=ei(y.b);else if(a=y.c[y.d[y.a-1]],0!==y.b.a&&n(y=ei(y.b),a)){a=y;break r}if(null===a||!r(a,o))break;a=et(this.e),P(this,o.c,a.c)}!function t(i,a){i.a=a;for(var o=a.c;null===o.i;)if((o=o.c)===a.c){o=i;var l=a;(m=new el).a=l.c.b;var u=(y=o.f).a;do u=u.a;while(null!==u.b&&!y.c(y.b,m,u.b))var h=eu(y=u.b),m=y.a;if(u=h.a,0===s(m.b.a,l,m.a))r((m=y.a).a,l)||r(m.b.a,l)||(p(m.b),y.c&&(d(m.c),y.c=!1),c(l.c,m),t(o,l));else{var g=n(u.b.a,m.b.a)?y:h;h=void 0,y.d||g.c?(h=g===y?f(l.c.b,m.e):f(u.b.c.b,l.c).b,g.c?D(g,h):(m=o,(y=k(o,y,h)).f=eh(y).f+y.a.f,y.d=T(m,y.f)),t(o,l)):I(o,y,l.c,l.c,null,!0)}return}if(y=(m=eu(o=A(o.i))).a,(m=M(i,m,null)).c===y){m=(y=m).c,u=eu(o),h=o.a,g=u.a;var y,v=!1;h.b.a!==g.b.a&&O(i,o),r(h.a,i.a)&&(c(K(m),h),m=eu(o=A(o)).a,M(i,eu(o),u),v=!0),r(g.a,i.a)&&(c(y,K(g)),y=M(i,u,null),v=!0),v?I(i,o,y.c,m,m,!0):(l=n(g.a,h.a)?K(g):h,I(i,o,l=f(y.c.b,l),l.c,l.c,!1),l.b.i.c=!0,R(i,o))}else I(i,o,m.c,y,y,!0)}(this,o)}for(this.a=this.f.a.a.b.a.a,o=0;null!==(a=this.f.a.a.b);)a.h||++o,E(a);for(this.f=null,(o=this.e).b=null,o.d=null,this.e=o.c=null,y=(o=this.b).a.b;y!==o.a;y=a)a=y.b,(y=y.a).e.e===y&&(C(y.c,y),d(y));if(!this.n){if(o=this.b,this.m)for(y=o.b.h;y!==o.b;y=a)a=y.h,y.b.d.c!==y.d.c?y.f=y.d.c?1:-1:d(y);else for(y=o.a.b;y!==o.a;y=a)if(a=y.b,y.c){for(y=y.a;n(y.b.a,y.a);y=y.c.b);for(;n(y.a,y.b.a);y=y.e);for(l=y.c.b,h=void 0;y.e!==l;)if(n(y.b.a,l.a)){for(;l.e!==y&&(n((t=l.e).b.a,t.a)||0>=s(l.a,l.b.a,l.e.b.a));)l=(h=f(l.e,l)).b;l=l.c.b}else{for(;l.e!==y&&(n((i=y.c.b).a,i.b.a)||0<=s(y.b.a,y.a,y.c.b.a));)y=(h=f(y,y.c.b)).b;y=y.e}for(;l.e.e!==y;)l=(h=f(l.e,l)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(a=(o=this.b).a.b;a!==o.a;a=a.b)if(a.c){this.h&&this.h(2,this.c),y=a.a;do this.k&&this.k(y.a.d,this.c),y=y.e;while(y!==a.a)this.i&&this.i(this.c)}}else{for(o=this.b,a=!!this.l,y=!1,l=-1,h=o.a.d;h!==o.a;h=h.d)if(h.c){y||(this.h&&this.h(4,this.c),y=!0),m=h.a;do a&&l!==(u=+!m.b.d.c)&&(l=u,this.l&&this.l(!!l,this.c)),this.k&&this.k(m.a.d,this.c),m=m.e;while(m!==h.a)}y&&this.i&&this.i(this.c)}if(this.r){for(y=(o=this.b).a.b;y!==o.a;y=a)if(a=y.b,!y.c){h=(l=y.a).e,m=void 0;do h=(m=h).e,m.d=null,null===m.b.d&&(m.c===m?b(m.a,null):(m.a.c=m.c,g(m,K(m))),(u=m.b).c===u?b(u.a,null):(u.a.c=u.c,g(u,K(u))),x(m));while(m!==l)l=y.d,(y=y.b).d=l,l.b=y}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},r0.libtess={GluTesselator:G,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},G.prototype.gluDeleteTess=G.prototype.x,G.prototype.gluTessProperty=G.prototype.B,G.prototype.gluGetTessProperty=G.prototype.y,G.prototype.gluTessNormal=G.prototype.A,G.prototype.gluTessCallback=G.prototype.z,G.prototype.gluTessVertex=G.prototype.C,G.prototype.gluTessBeginPolygon=G.prototype.u,G.prototype.gluTessBeginContour=G.prototype.t,G.prototype.gluTessEndContour=G.prototype.v,G.prototype.gluTessEndPolygon=G.prototype.w,t.exports=r0.libtess}(id);var ip=r1(id.exports);class im{constructor(t,r,n,i,s,a){this.size=t,this.src=r,this.dst=n,this.attr=i,this._renderer=s,this.map=a}default(t){return this.default=t,this}_prepareBuffer(t,r){this._renderer._prepareBuffer(this,t,r)}}function ig(t,r){t.RenderBuffer=im}void 0!==m&&ig(m);let iy={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},iv=Object.values(iy).reduce((t,r)=>t+r);class ix{constructor(t){this.renderer=t,this.shapeMode=8,this.geometry=new is(void 0,void 0,void 0,this.renderer),this.geometry.gid="__IMMEDIATE_MODE_GEOMETRY__",this.contourIndices=[],this._useUserVertexProperties=void 0,this._bezierVertex=[],this._quadraticVertex=[],this._curveVertex=[],this.isProcessingVertices=!1,this._tessy=this._initTessy(),this.tessyVertexSize=iv,this.bufferStrides={...iy}}constructFromContours(t,r){this._useUserVertexProperties&&this._resetUserVertexProperties(),this.geometry.reset(),this.contourIndices=[],this.shapeMode=t.contours[0].kind;let n=!!this.renderer.states.strokeColor,i={};if(t.userVertexProperties)for(let r in this._useUserVertexProperties=!0,t.userVertexProperties){let n=t.vertexPropertyName(r),s=this.geometry._userVertexPropertyHelper(n,[],t.userVertexProperties[r]);i[r]=s,this.tessyVertexSize+=s.getDataSize(),this.bufferStrides[s.getSrcName()]=s.getDataSize(),this.renderer.buffers.user.push(new im(s.getDataSize(),s.getSrcName(),s.getDstName(),n,this.renderer))}else this._useUserVertexProperties=!1;for(let t of r)for(let r of(this.contourIndices.push(this.geometry.vertices.length),t)){if(this.shapeMode===M&&this.geometry.vertices.length%6==3)for(let t in this.bufferStrides){let r=this.bufferStrides[t],n=this.geometry[t];n.push(...n.slice(n.length-3*r,n.length-2*r),...n.slice(n.length-r,n.length))}for(let t in this.geometry.vertices.push(r.position),this.geometry.vertexNormals.push(r.normal||new ne(0,0,0)),this.geometry.uvs.push(r.textureCoordinates.x,r.textureCoordinates.y),this.renderer.states.fillColor?this.geometry.vertexColors.push(...r.fill.array()):this.geometry.vertexColors.push(0,0,0,0),this.renderer.states.strokeColor?this.geometry.vertexStrokeColors.push(...r.stroke.array()):this.geometry.vertexStrokeColors.push(0,0,0,0),i){let n=i[t];t in r&&n.setCurrentData(r[t]),n.pushCurrentData()}}n&&(this.geometry.edges=this._calculateEdges(this.shapeMode,this.geometry.vertices)),n&&!this.renderer.geometryBuilder&&this.geometry._edgesToVertices(),8===this.shapeMode?(this.isProcessingVertices=!0,this._tesselateShape(),this.isProcessingVertices=!1):this.shapeMode===I?this.shapeMode=5:this.shapeMode===M&&(this.shapeMode=4),this.renderer.states.textureMode===ey&&null!==this.renderer.states._tex&&this.renderer.states._tex.width>0&&this.renderer.states._tex.height>0&&(this.geometry.uvs=this.geometry.uvs.map((t,r)=>r%2==0?t/this.renderer.states._tex.width:t/this.renderer.states._tex.height))}_resetUserVertexProperties(){let t=this.geometry.userVertexProperties;for(let r in t){let n=t[r];delete this.bufferStrides[r],n.delete()}this._useUserVertexProperties=!1,this.tessyVertexSize=iv,this.geometry.userVertexProperties={}}_calculateEdges(t,r){let n=[],i=0,s=this.contourIndices.slice(),a=-1;switch(t){case 5:for(i=0;i<r.length-2;i++)n.push([i,i+1]),n.push([i,i+2]);n.push([i,i+1]);break;case 6:for(i=1;i<r.length-1;i++)n.push([0,i]),n.push([i,i+1]);n.push([0,r.length-1]);break;case 4:for(i=0;i<r.length-2;i+=3)n.push([i,i+1]),n.push([i+1,i+2]),n.push([i+2,i]);break;case 1:for(i=0;i<r.length-1;i+=2)n.push([i,i+1]);break;case M:for(i=0;i<r.length-5;i+=6)n.push([i,i+1]),n.push([i+1,i+2]),n.push([i+2,i+5]),n.push([i+5,i]);break;case I:for(i=0;i<r.length-2;i+=2)n.push([i,i+1]),n.push([i+1,i+3]),n.push([i,i+2]);n.push([i,i+1]);break;default:for(i=0;i<r.length;i++)i===s[0]?a=s.shift():r[a]&&r[i].equals(r[a])?n.push([i-1,a]):n.push([i-1,i])}return n}_tesselateShape(){let t=[];for(let r=0;r<this.geometry.vertices.length;r++)for(let n in this.contourIndices.length>0&&this.contourIndices[0]===r&&(this.contourIndices.shift(),t.push([])),t[t.length-1].push(this.geometry.vertices[r].x,this.geometry.vertices[r].y,this.geometry.vertices[r].z,this.geometry.uvs[2*r],this.geometry.uvs[2*r+1],this.geometry.vertexColors[4*r],this.geometry.vertexColors[4*r+1],this.geometry.vertexColors[4*r+2],this.geometry.vertexColors[4*r+3],this.geometry.vertexNormals[r].x,this.geometry.vertexNormals[r].y,this.geometry.vertexNormals[r].z),this.geometry.userVertexProperties){let i=this.geometry.userVertexProperties[n],s=r*i.getDataSize(),a=s+i.getDataSize(),o=i.getSrcArray().slice(s,a);t[t.length-1].push(...o)}let r=this._triangulate(t);if(0===r.length)return;this.shapeMode=4;let n=this.geometry.vertices;for(let t in this.geometry.vertices=[],this.geometry.vertexNormals=[],this.geometry.uvs=[],this.geometry.userVertexProperties)this.geometry.userVertexProperties[t].resetSrcArray();let i=[];for(let t=0,n=r.length;t<n;t+=this.tessyVertexSize){i.push(...r.slice(t+5,t+9)),this.geometry.vertexNormals.push(new ne(...r.slice(t+9,t+12)));{let n=12;for(let i in this.geometry.userVertexProperties){let s=this.geometry.userVertexProperties[i],a=s.getDataSize(),o=t+n,l=o+a;s.setCurrentData(r.slice(o,l)),s.pushCurrentData(),n+=a}}this.geometry.vertices.push(new ne(...r.slice(t,t+3))),this.geometry.uvs.push(...r.slice(t+3,t+5))}if(this.renderer.geometryBuilder){let t=new Map;this.geometry.edges=this.geometry.edges.map(r=>r.map(r=>{if(!t.has(r)){let i=n[r],s=this.geometry.vertices.findIndex(t=>i.x===t.x&&i.y===t.y&&i.z===t.z);if(-1===s){let t=1/0,r=0;for(let n=0;n<this.geometry.vertices.length;n++){let s=this.geometry.vertices[n],a=i.x-s.x,o=i.y-s.y,l=i.z-s.z,u=a*a+o*o+l*l;u<t&&(t=u,r=n)}s=r}t.set(r,s)}return t.get(r)}))}this.geometry.vertexColors=i}_initTessy(){let t=new ip.GluTesselator;return t.gluTessCallback(ip.gluEnum.GLU_TESS_VERTEX_DATA,function(t,r){for(let n of t)r.push(n)}),t.gluTessCallback(ip.gluEnum.GLU_TESS_BEGIN,function(t){t!==ip.primitiveType.GL_TRIANGLES&&console.log(`expected TRIANGLES but got type: ${t}`)}),t.gluTessCallback(ip.gluEnum.GLU_TESS_ERROR,function(t){console.log("error callback"),console.log(`error number: ${t}`)}),t.gluTessCallback(ip.gluEnum.GLU_TESS_COMBINE,(t,r,n)=>{let i=Array(this.tessyVertexSize).fill(0);for(let t=0;t<n.length;t++)for(let s=0;s<i.length;s++)0!==n[t]&&r[t]&&(i[s]+=r[t][s]*n[t]);return i}),t.gluTessCallback(ip.gluEnum.GLU_TESS_EDGE_FLAG,function(t){}),t.gluTessProperty(ip.gluEnum.GLU_TESS_WINDING_RULE,ip.windingRule.GLU_TESS_WINDING_NONZERO),t}_triangulate(t){let r=t[0]?t[0][2]:void 0,n=!0;for(let i of t)for(let t=0;t<i.length;t+=this.tessyVertexSize)if(i[t+2]!==r){n=!1;break}n?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);let i=[];for(let r of(this._tessy.gluTessBeginPolygon(i),t)){this._tessy.gluTessBeginContour();for(let t=0;t<r.length;t+=this.tessyVertexSize){let n=r.slice(t,t+this.tessyVertexSize);this._tessy.gluTessVertex(n,n)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),i}}class ib{constructor(t){this.renderer=t,this.cache={}}numCached(){return Object.keys(this.cache).length}isCached(t){return void 0!==this.cache[t]}getGeometryByID(t){return this.cache[t]?.geometry}getCached(t){return this.getCachedID(t.gid)}getCachedID(t){return this.cache[t]}ensureCached(t){let r=t.gid;if(!r)throw Error("The p5.Geometry you passed in has no gid property!");if(this.isCached(r))return this.getCached(t);if(this.freeBuffers(r),Object.keys(this.cache).length>1e3){let t=Object.keys(this.cache)[0];this.freeBuffers(t)}let n={geometry:t};this.cache[r]=n;let i=t.faces.length?t.faces.flat():null,s=null;return i&&(s=i.some(t=>t>65535)?Uint32Array:Uint16Array),this.renderer._ensureGeometryBuffers(n,i,s),n}freeBuffers(t){let r=this.cache[t];r&&(delete this.cache[t],this.renderer._freeBuffers(r))}}let iw={[ec]:3,[el]:4,[ei]:.5},i_="middle",iC="_fontBoundsSingle",iS="start";function iE(t,r){let n,i,s=/\r?\n/g,a=/,\s+/,o=/^".*"$/,l=/[^\x00-\x7F]/,u=/\t/g,h=RegExp("(?:wght|wdth|ital|slnt|opsz)");["text","textAlign","textAscent","textDescent","textLeading","textMode","textFont","textSize","textStyle","textWidth","textWrap","textBounds","textDirection","textProperty","textProperties","fontBounds","fontWidth","fontAscent","fontDescent","textWeight"].forEach(n=>{r[n]=function(...t){if(!(n in nA.prototype))throw Error(`Renderer2D.prototype.${n} is not defined.`);return this._renderer[n](...t)},t.Graphics.prototype[n]=function(...t){return this._renderer[n](...t)}});let c={textAlign:{default:r.LEFT,type:"Context2d"},textBaseline:{default:r.BASELINE,type:"Context2d"},textFont:{default:{family:"sans-serif"}},textLeading:{default:15},textSize:{default:12},textWrap:{default:r.WORD},fontStretch:{default:r.NORMAL,isShorthand:!0},fontWeight:{default:r.NORMAL,isShorthand:!0},lineHeight:{default:r.NORMAL,isShorthand:!0},fontVariant:{default:r.NORMAL,isShorthand:!0},fontStyle:{default:r.NORMAL,isShorthand:!0},direction:{default:"inherit"}},d=["font","direction","fontKerning","fontStretch","fontVariantCaps","letterSpacing","textAlign","textBaseline","textRendering","wordSpacing"],p=Object.keys(c).filter(t=>c[t].isShorthand),f=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"];nA.prototype.text=function(t,r,n,i,s){let a=this.textDrawingContext().textBaseline;({x:r,y:n,width:i,height:s}=this._handleRectMode(r,n,i,s));let o=this._processLines(t,i,s);(o=this._positionLines(r,n,i,s,o)).forEach(t=>this._renderText(t.text,t.x,t.y)),this.textDrawingContext().textBaseline=a},nA.prototype.textBounds=function(t,r,n,i,s){return this._computeBounds("_textBoundsSingle",t,r,n,i,s).bounds},nA.prototype.fontBounds=function(t,r,n,i,s){return this._computeBounds(iC,t,r,n,i,s).bounds},nA.prototype.textWidth=function(t){return Math.max(...this._processLines(t).map(t=>this._textWidthSingle(t)))},nA.prototype.fontWidth=function(t){return Math.max(...this._processLines(t).map(t=>this._fontWidthSingle(t)))},nA.prototype.textAscent=function(t=""){return t.length?this.textDrawingContext().measureText(t).actualBoundingBoxAscent:this.fontAscent()},nA.prototype.fontAscent=function(){return this.textDrawingContext().measureText("_").fontBoundingBoxAscent},nA.prototype.textDescent=function(t=""){return t.length?this.textDrawingContext().measureText(t).actualBoundingBoxDescent:this.fontDescent()},nA.prototype.fontDescent=function(){return this.textDrawingContext().measureText("_").fontBoundingBoxDescent},nA.prototype.textAlign=function(t,n){return void 0!==t?(this.states.setValue("textAlign",t),void 0!==n&&(n===r.CENTER&&(n=i_),this.states.setValue("textBaseline",n)),this._applyTextProperties()):{horizontal:this.states.textAlign,vertical:this.states.textBaseline}},nA.prototype._currentTextFont=function(){return this.states.textFont.font||this.states.textFont.family},nA.prototype.textFont=function(r,n,i){if(0==arguments.length)return this._currentTextFont();let s=r;if(r instanceof t.Font?s=r.face.family:r.data instanceof Uint8Array?(s=r.name.fontFamily,r.name?.fontSubfamily&&(s+="-"+r.name.fontSubfamily)):"string"==typeof r&&void 0===n&&/[.0-9]+(%|em|p[xt])/.test(s)&&({family:s,size:n}=this._directSetFontString(s)),"string"!=typeof s)throw Error("null font in textFont()");return 2==arguments.length&&"object"==typeof n&&(i=n,n=void 0),this.states.setValue("textFont",{font:r,family:s,size:n}),void 0!==n&&this._setTextSize(n),"object"==typeof i&&this.textProperties(i),this._applyTextProperties()},nA.prototype._directSetFontString=function(t,r=0){r&&console.log('_directSetFontString"'+t+'"');let n=p.reduce((t,r)=>(t[r]=c[r].default,t),{}),i=this._cachedDiv(n);i.style.font=t;let s=getComputedStyle(i);return p.forEach(t=>{this.states[t]=s[t],r&&console.log("  this.states."+t+'="'+s[t]+'"')}),{family:s.fontFamily,size:s.fontSize}},nA.prototype.textLeading=function(t){return"number"==typeof t?(this.states.setValue("leadingSet",!0),this.states.setValue("textLeading",t),this._applyTextProperties()):this.states.textLeading},nA.prototype.textWeight=function(r){return"number"==typeof r?(this.states.setValue("fontWeight",r),this._applyTextProperties(),void(t.prototype._isSafari()||this._setCanvasStyleProperty("font-variation-settings",`"wght" ${r}`))):this.states.fontWeight},nA.prototype.textSize=function(t){return void 0!==t?(this._setTextSize(t),this._applyTextProperties()):this.states.textSize},nA.prototype.textStyle=function(t){return void 0!==t?(this.states.setValue("fontStyle",t),this._applyTextProperties()):this.states.fontStyle},nA.prototype.textWrap=function(t){return t===r.WORD||t===r.CHAR?(this.states.setValue("textWrap",t),this._pInst):this.states.textWrap},nA.prototype.textDirection=function(t){return void 0!==t?(this.states.setValue("direction",t),this._applyTextProperties()):this.states.direction},nA.prototype.textProperty=function(t,r,n){let i=!1,s=n?.debug||!1;if(void 0===r){let r=this.textProperties();if(t in r)return r[t];throw Error('Unknown text option "'+t+'"')}return t in this.states&&this.states[t]!==r?(this.states[t]=r,i=!0,s&&console.log("this.states."+t+'="'+options[t]+'"')):t in this.textDrawingContext()?(this._setContextProperty(t,r,s),i=!0):t in this.textCanvas().style?(this._setCanvasStyleProperty(t,r,s),i=!0):console.warn('Ignoring unknown text option: "'+t+'"\n'),i?this._applyTextProperties():this._pInst},nA.prototype.textProperties=function(t){if(void 0!==t)return Object.keys(t).forEach(r=>{this.textProperty(r,t[r])}),this._pInst;let r=this.textDrawingContext();return t=d.reduce((t,n)=>(t[n]=r[n],t),{}),Object.keys(c).forEach(n=>{if("Context2d"===c[n]?.type)t[n]=r[n];else if("textFont"===n){let r=this._currentTextFont();"object"==typeof r&&"_pInst"in r&&(r=Object.assign({},r),delete r._pInst),t[n]=r}else t[n]=this.states[n]}),t},nA.prototype.textMode=function(){},nA.prototype._currentTextFont=function(){return this.states.textFont.font||this.states.textFont.family},nA.prototype._computeBounds=function(r,n,i,s,a,o,l){let u=this.textDrawingContext(),h=u.textBaseline,{textLeading:c,textAlign:d}=this.states;({width:a,height:o}=this._rectModeAdjust(i,s,a,o));let p=this._processLines(n,a,o),f=p.map((t,n)=>this[r].bind(this)(t,i,s+n*c));p.length>1&&void 0!==a&&f.forEach(r=>r.x+=t.Renderer2D.prototype._xAlignOffset.call(this,d,a)),t.Renderer2D.prototype._yAlignOffset.call(this,f,o||0);let m=f[0];return p.length>1&&(m=this._aggregateBounds(f),l?.ignoreRectMode||this._rectModeAlign(m,a||0,o||0)),u.textBaseline=h,{bounds:m,lines:p}},nA.prototype._rectModeAdjust=function(t,n,i,s){if(void 0!==i)switch(this.states.rectMode){case r.CENTER:break;case r.CORNERS:i-=t,s-=n;break;case r.RADIUS:i*=2,s*=2}return{x:t,y:n,width:i,height:s}},nA.prototype._setCanvasStyleProperty=function(t,r,n){let i=r.toString();n&&console.log("canvas.style."+t+'="'+i+'"'),"fontVariationSettings"===t&&this._handleFontVariationSettings(i),this.textCanvas().style[t]=i,this.textCanvas().style[t]},nA.prototype._handleFontVariationSettings=function(t,r=!1){"object"==typeof t&&(t=Object.keys(t).map(r=>r+" "+t[r]).join(", ")),t.split(a).forEach(t=>{t=t.replace(/["']/g,"");let n=h.exec(t);if(n&&n.length){let i=n[0],s=parseFloat(parseFloat(t.replace(i,"").trim()).toFixed(3));switch(i){case"wght":return r&&console.log("setting font-weight="+s),this.states.fontWeight!==s&&this.textWeight(s),s;case"wdth":break;case"ital":r&&console.log("setting font-style="+(s?"italic":"normal"));break;case"slnt":r&&console.log("setting font-style="+(s?"oblique":"normal"));break;case"opsz":r&&console.log("setting font-optical-size="+s)}}})},nA.prototype._setContextProperty=function(t,r,i=!1){if(this.textDrawingContext()[t]===r)return this._pInst;(n??=[]).push([t,r]),i&&console.log("queued context2d."+t+'="'+r+'"')},nA.prototype._handleRectMode=function(t,n,i,s){let a=this.states.rectMode;if(void 0!==i)switch(a){case r.RADIUS:t-=(i*=2)/2,void 0!==s&&(n-=(s*=2)/2);break;case r.CENTER:t-=i/2,void 0!==s&&(n-=s/2);break;case r.CORNERS:i-=t,void 0!==s&&(s-=n)}return{x:t,y:n,width:i,height:s}},nA.prototype._fontSizePx=function(t,{family:r}=this.states.textFont){if(!isNaN(t)&&""!==t.trim())return parseFloat(t);let n=this._cachedDiv({fontSize:t});n.style.fontSize=t,n.style.fontFamily=r;let i=parseFloat(getComputedStyle(n).fontSize);if("number"!=typeof i)throw Error("textSize: invalid font-size");return i},nA.prototype._cachedDiv=function(t){if(void 0===i){let r=document.createElement("div");r.ariaHidden="true",r.style.display="none",Object.entries(t).forEach(([t,n])=>{r.style[t]=n}),this.textCanvas().appendChild(r),i=r}return i},nA.prototype._aggregateBounds=function(t){let r=Math.min(...t.map(t=>t.x)),n=Math.min(...t.map(t=>t.y)),i=Math.max(...t.map(t=>t.y+t.h));return{x:r,y:n,w:Math.max(...t.map(t=>t.x+t.w))-r,h:i-n}},nA.prototype._processLines=function(t,n,i){void 0!==n&&this.textDrawingContext().textBaseline===r.BASELINE&&(this.drawingContext.textBaseline=r.TOP);let s=this._splitOnBreaks(t.toString()),a=s.length>1,o=void 0!==n,l=o&&s.some(t=>this._textWidthSingle(t)>n),{textLeading:u,textWrap:h}=this.states;if((a||l)&&o&&(s=this._lineate(h,s,n)),o&&void 0!==i){if(void 0===u)throw Error("leading is required if height is specified");for(let t=0;t<s.length;t++)if(u*(t+1)>i){s=s.slice(0,t);break}}return s},nA.prototype._xAlignOffset=function(t,n){switch(t){case r.LEFT:return 0;case r.CENTER:return n/2;case r.RIGHT:return n;case iS:default:return 0;case"end":throw Error("textBounds: END not yet supported for textAlign")}},nA.prototype._rectModeAlign=function(t,n,i){if(void 0!==n){switch(this.states.rectMode){case r.CENTER:t.x-=(n-t.w)/2,t.y-=(i-t.h)/2;break;case r.CORNERS:t.w+=t.x,t.h+=t.y;break;case r.RADIUS:t.x-=(n-t.w)/2,t.y-=(i-t.h)/2,t.w/=2,t.h/=2}return t}},nA.prototype._rectModeAlignRevert=function(t,n,i){if(void 0!==n){switch(this.states.rectMode){case r.CENTER:t.x+=(n-t.w)/2,t.y+=(i-t.h)/2;break;case r.CORNERS:t.w-=t.x,t.h-=t.y;break;case r.RADIUS:t.x+=(n-t.w)/2,t.y+=(i-t.h)/2,t.w*=2,t.h*=2}return t}},nA.prototype._textWidthSingle=function(t){let r=this.textDrawingContext().measureText(t),n=r.actualBoundingBoxLeft;return r.actualBoundingBoxRight+n},nA.prototype._fontWidthSingle=function(t){return this.textDrawingContext().measureText(t).width},nA.prototype._textBoundsSingle=function(t,r=0,n=0){let i=this.textDrawingContext().measureText(t),s=i.actualBoundingBoxAscent,a=i.actualBoundingBoxDescent,o=i.actualBoundingBoxLeft;return{x:r-o,y:n-s,w:i.actualBoundingBoxRight+o,h:s+a}},nA.prototype._fontBoundsSingle=function(t,r=0,n=0){let i=this.textDrawingContext().measureText(t),s=i.fontBoundingBoxAscent,a=i.fontBoundingBoxDescent;return{x:r-=this._xAlignOffset(this.states.textAlign,i.width),y:n-s,w:i.width,h:s+a}},nA.prototype._setTextSize=function(t){if("string"==typeof t&&(t=this._fontSizePx(t)),"number"==typeof t){if(this.states.textSize!==t)return this.states.setValue("textSize",t),this.states.leadingSet||this.states.setValue("textLeading",1.275*this.states.textSize),!0}else console.warn("textSize: invalid size: "+t);return!1},nA.prototype._lineate=function(t,n,i=1/0,s={}){let a,o,l,u,h=s.splitChar??(t===r.WORD?" ":""),c=[];for(let t=0;t<n.length;t++){a="",u=n[t].split(h);for(let t=0;t<u.length;t++)o=`${a+u[t]}`+h,l=this._textWidthSingle(o),a.length>0&&l>i?(c.push(a.trim()),a=`${u[t]}`+h):a=o;c.push(a.trim())}return c},nA.prototype._splitOnBreaks=function(t){return t&&0!==t.length?t.replace(u,"  ").split(s):[""]},nA.prototype._parseFontFamily=function(t){return t.split(a).map(t=>(((t=t.trim()).indexOf(" ")>-1||l.test(t))&&!o.test(t)&&(t=`"${t}"`),t)).join(", ")},nA.prototype._applyFontString=function(){let{textFont:t,textSize:n,lineHeight:i,fontStyle:s,fontWeight:a,fontVariant:o}=this.states,l=this.textDrawingContext(),u=this._parseFontFamily(t.family),h=s!==r.NORMAL?`${s} `:"",c=a!==r.NORMAL?`${a} `:"",d=`${h}${o!==r.NORMAL?`${o} `:""}${c}${`${n}px`+(i!==r.NORMAL?`/${i} `:" ")}${u}`.trim();return l.font=d,l.font===d||d===l.font},nA.prototype._applyTextProperties=function(t=!1){this._applyFontString();let r=this.textDrawingContext();r.direction=this.states.direction,r.textAlign=this.states.textAlign,r.textBaseline=this.states.textBaseline;let i=this.states.fontStretch;for(f.includes(i)&&r.fontStretch!==i&&(r.fontStretch=i);n?.length;){let[i,s]=n.shift();t&&console.log('apply context property "'+i+'" = "'+s+'"'),r[i]=s,r[i]!==s&&(console.warn(`Unable to set '${i}' property on context2d. It may not be supported.`),console.log('Expected "'+s+'" but got: "'+r[i]+'"'))}return this._pInst}}function iD(t,r,n){switch(r){case es:return t.baseFilterShader().modify(({p5:t})=>{t.getColor((r,n)=>{let i=t.getTexture(n,r.texCoord),s=t.dot(i.rgb,t.vec3(.2126,.7152,.0722));return t.vec4(s,s,s,i.a)})},{p5:n});case eo:return t.baseFilterShader().modify(({p5:t})=>{t.getColor((r,n)=>{let i=t.getTexture(n,r.texCoord),s=t.vec3(1)-i.rgb;return t.vec4(s,i.a)})},{p5:n});case ei:return t.baseFilterShader().modify(({p5:t})=>{let r=t.uniformFloat("filterParameter");t.getColor((n,i)=>{let s=t.getTexture(i,n.texCoord),a=t.dot(s.rgb,t.vec3(.2126,.7152,.0722)),o=t.floor(255*r)/255,l=t.step(o,a);return t.vec4(t.vec3(l),s.a)})},{p5:n});case el:return t.baseFilterShader().modify(({p5:t})=>{let r=t.uniformFloat("filterParameter");t.getColor((n,i)=>{let s,a=t.getTexture(i,n.texCoord),o=(s=a.rgb*r,(s=t.floor(s))/(r-1));return t.vec4(o,a.a)})},{p5:n});case ec:return t.baseFilterShader().modify(({p5:t})=>{let r=t.uniformFloat("radius"),n=t.uniformVec2("direction"),i=(r,n)=>t.pow(n-t.abs(r),2);t.getColor((s,a)=>{var o;let l,u=s.texCoord,h=t.floor(7*r);0==t.mod(h,2)&&h++;let c=t.vec4(0),d=0,p=1;h>64&&(p=h/64,h=64);let f=(p-1)*t.mix(-.5,.5,(o=u*s.canvasSize,l=t.fract(.1031*o.xyx),l+=t.dot(l,l.yzx+33.33),t.fract((l.x+l.y)*l.z)));for(let r=0;r<h;r++){let o=r*p-.5*(h-1)*p+f,l=u+t.vec2(o,o)/s.canvasSize*n,m=i(o,.5*(h-1)*p),g=t.getTexture(a,l);c+=m*g*t.vec4(g.a,g.a,g.a,1),d+=m}let m=c/d;return t.vec4(m.r/m.a,m.g/m.a,m.b/m.a,m.a)})},{p5:n});case eh:return t.baseFilterShader().modify(({p5:t})=>{let r=r=>t.dot(r.rgb,t.vec3(.2126,.7152,.0722));t.getColor((n,i)=>{let s=n.texCoord,a=t.getTexture(i,s),o=r(a);for(let l=-1;l<=1;l++)for(let u=-1;u<=1;u++)if(0!=l||0!=u){let h=t.vec2(l,u)*n.texelSize,c=t.getTexture(i,s+h),d=r(c);d<o&&(o=d,a=c)}return a})},{p5:n});case eu:return t.baseFilterShader().modify(({p5:t})=>{let r=r=>t.dot(r.rgb,t.vec3(.2126,.7152,.0722));t.getColor((n,i)=>{let s=n.texCoord,a=t.getTexture(i,s),o=r(a);for(let l=-1;l<=1;l++)for(let u=-1;u<=1;u++)if(0!=l||0!=u){let h=t.vec2(l,u)*n.texelSize,c=t.getTexture(i,s+h),d=r(c);d>o&&(o=d,a=c)}return a})},{p5:n});case ea:return t.baseFilterShader().modify(({p5:t})=>{t.getColor((r,n)=>{let i=t.getTexture(n,r.texCoord);return t.vec4(i.rgb,1)})},{p5:n});default:throw Error(`Unknown filter: ${r}`)}}function iA(t){let r={},n={},i="",s=function(n,s){i+=t(`STROKE_CAP_${n}`,`${s}`,"u32"),r[eR[n]]=s},a=function(r,s){i+=t(`STROKE_JOIN_${r}`,`${s}`,"u32"),n[eR[r]]=s};return s("ROUND",0),s("PROJECT",1),s("SQUARE",2),a("ROUND",0),a("MITER",1),a("BEVEL",2),{STROKE_CAP_ENUM:r,STROKE_JOIN_ENUM:n,lineDefs:i}}void 0!==m&&iE(m,m.prototype);let{STROKE_CAP_ENUM:ik,STROKE_JOIN_ENUM:iT}=iA(()=>"");class iF extends nA{constructor(t,r,n,i,s){for(let a of(super(t,r,n,i),this.canvas=this.elt=s||document.createElement("canvas"),this.contextReady=this.setupContext(),this._isMainCanvas?(this._pInst._curElement=this,this._pInst.canvas=this.canvas):this.canvas.style.display="none",this.elt.id="defaultCanvas0",this.elt.classList.add("p5Canvas"),this.wrappedElt=new rZ(this.elt,this._pInst),Object.getOwnPropertyNames(rZ.prototype)))"constructor"!==a&&"_"!==a[0]&&Object.defineProperty(this,a,{get(){return this.wrappedElt[a]}});let a=this._adjustDimensions(r,n);if(r=a.adjustedWidth,n=a.adjustedHeight,this.width=r,this.height=n,this.elt.width=r*this._pixelDensity,this.elt.height=n*this._pixelDensity,this.elt.style.width=`${r}px`,this.elt.style.height=`${n}px`,this._updateViewport(),this._pInst._userNode)this._pInst._userNode.appendChild(this.elt);else{if(0===document.getElementsByTagName("main").length){let t=document.createElement("main");document.body.appendChild(t)}document.getElementsByTagName("main")[0].appendChild(this.elt)}this.isP3D=!0,this.geometryBuilder=void 0,this.states.uModelMatrix=new ie(4),this.states.uViewMatrix=new ie(4),this.states.uPMatrix=new ie(4),this.mainCamera=new ih(this),this.states.curCamera||(this.states.curCamera=this.mainCamera),this.states.uPMatrix.set(this.states.curCamera.projMatrix),this.states.uViewMatrix.set(this.states.curCamera.cameraMatrix),this.states.enableLighting=!1,this.states.ambientLightColors=[],this.states.specularColors=[1,1,1],this.states.directionalLightDirections=[],this.states.directionalLightDiffuseColors=[],this.states.directionalLightSpecularColors=[],this.states.pointLightPositions=[],this.states.pointLightDiffuseColors=[],this.states.pointLightSpecularColors=[],this.states.spotLightPositions=[],this.states.spotLightDirections=[],this.states.spotLightDiffuseColors=[],this.states.spotLightSpecularColors=[],this.states.spotLightAngle=[],this.states.spotLightConc=[],this.states.activeImageLight=null,this.states.curFillColor=[1,1,1,1],this.states.curAmbientColor=[1,1,1,1],this.states.curSpecularColor=[0,0,0,0],this.states.curEmissiveColor=[0,0,0,0],this.states.curStrokeColor=[0,0,0,1],this.states.curBlendMode=j,this.states._hasSetAmbient=!1,this.states._useSpecularMaterial=!1,this.states._useEmissiveMaterial=!1,this.states._useNormalMaterial=!1,this.states._useShininess=1,this.states._useMetalness=0,this.states.tint=[255,255,255,255],this.states.constantAttenuation=1,this.states.linearAttenuation=0,this.states.quadraticAttenuation=0,this.states._currentNormal=new ne(0,0,1),this.states.drawMode=em,this.states._tex=null,this.states.textureMode=ey,this.states.textureWrapX=ew,this.states.textureWrapY=ew,this._isErasing=!1,this._simpleLines=!1,this._clipDepths=[],this._isClipApplied=!1,this._stencilTestOn=!1,this.mixedAmbientLight=[],this.mixedSpecularColor=[],this.diffusedTextures=new Map,this.specularTextures=new Map,this.preEraseBlend=void 0,this._cachedFillStyle=[1,1,1,1],this._cachedStrokeStyle=[0,0,0,1],this._isBlending=!1,this._useLineColor=!1,this._useVertexColor=!1,this.registerEnabled=new Set,this.mainCamera._computeCameraDefaultSettings(),this.mainCamera._setDefaultCamera(),this.filterCamera=new ih(this),this.filterCamera._computeCameraDefaultSettings(),this.filterCamera._setDefaultCamera(),this.prevTouches=[],this.zoomVelocity=0,this.rotateVelocity=new ne(0,0),this.moveVelocity=new ne(0,0),this.executeZoom=!1,this.executeRotateAndMove=!1,this._drawingFilter=!1,this._drawingImage=!1,this.specularShader=void 0,this.sphereMapping=void 0,this.diffusedShader=void 0,this._baseFilterShader=void 0,this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this.states.userFillShader=void 0,this.states.userStrokeShader=void 0,this.states.userImageShader=void 0,this.states.curveDetail=1/4,this.shapeBuilder=new ix(this),this.geometryBufferCache=new ib(this),this.curStrokeCap=R,this.curStrokeJoin=R,this.textures=new Map,this.framebuffers=new Set,this.activeFramebuffers=[],this.states.filterShader=void 0,this.filterLayer=void 0,this.filterLayerTemp=void 0,this.defaultFilterShaders={},this.fontInfos={},this._curShader=void 0,this.drawShapeCount=1,this.scratchMat3=new ie(3),this._validateFaces=!1,this.buffers={fill:[new im(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new im(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new im(4,"vertexColors","colorBuffer","aVertexColor",this).default(t=>t.vertices.flatMap(()=>[-1,-1,-1,-1])),new im(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new im(2,"uvs","uvBuffer","aTexCoord",this,t=>t.flat())],stroke:[new im(4,"lineVertexColors","lineColorBuffer","aVertexColor",this).default(t=>t.lineVertices.flatMap(()=>[-1,-1,-1,-1])),new im(3,"lineVertices","lineVerticesBuffer","aPosition",this),new im(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",this),new im(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",this),new im(1,"lineSides","lineSidesBuffer","aSide",this)],text:[new im(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new im(2,"uvs","uvBuffer","aTexCoord",this,t=>t.flat())],user:[]}}async _resetContext(t,r,n=iF){let i=this.width,s=this.height,a=this.canvas.id,o=this._pInst instanceof iR,l={position:this.canvas.style.position,top:this.canvas.style.top,left:this.canvas.style.left};if(o){let t=this._pInst;t.canvas.parentNode.removeChild(t.canvas),t.canvas=document.createElement("canvas"),(t._pInst._userNode||document.body).appendChild(t.canvas),rZ.call(t,t.canvas,t._pInst),t.width=i,t.height=s}else{let t=this.canvas;t&&t.parentNode.removeChild(t),(t=document.createElement("canvas")).id=a,this._pInst._userNode?this._pInst._userNode.appendChild(t):document.body.appendChild(t),this._pInst.canvas=t,this.canvas=t,this.canvas.style.position=l.position,this.canvas.style.top=l.top,this.canvas.style.left=l.left}let u=new n(this._pInst,i,s,!o,this._pInst.canvas);this._pInst._renderer=u,u._applyDefaults(),u.contextReady&&await u.contextReady,"function"==typeof r&&setTimeout(()=>{r.apply(window._renderer,t)},0)}remove(){this.wrappedElt.remove(),this.wrappedElt=null,this.canvas=null,this.elt=null}beginGeometry(){if(this.geometryBuilder)throw Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new io(this),this.geometryBuilder.prevFillColor=this.states.fillColor,this.fill(new rP([-1,-1,-1,-1]))}endGeometry(){if(!this.geometryBuilder)throw Error("Make sure you call beginGeometry() before endGeometry()!");let t=this.geometryBuilder.finish();return this.geometryBuilder.prevFillColor?this.fill(this.geometryBuilder.prevFillColor):this.noFill(),this.geometryBuilder=void 0,t}buildGeometry(t){return this.beginGeometry(),t(),this.endGeometry()}beginShape(...t){super.beginShape(...t)}curveDetail(t){if(void 0===t)return this.states.curveDetail;this.states.setValue("curveDetail",t)}drawShape(t){let r=new n_({curveDetail:this.states.curveDetail});t.accept(r),this.shapeBuilder.constructFromContours(t,r.contours),this.geometryBuilder?this.geometryBuilder.addImmediate(this.shapeBuilder.geometry,this.shapeBuilder.shapeMode,{validateFaces:this._validateFaces}):(this.states.fillColor||this.states.strokeColor)&&this._drawGeometry(this.shapeBuilder.geometry,{mode:this.shapeBuilder.shapeMode,count:this.drawShapeCount}),this.drawShapeCount=1}endShape(t,r){this.drawShapeCount=r,super.endShape(t,r)}vertexProperty(...t){this.currentShape.vertexProperty(...t)}normal(t,r,n){t instanceof ne?this.states.setValue("_currentNormal",t):this.states.setValue("_currentNormal",new ne(t,r,n)),this.updateShapeVertexProperties()}model(t,r=1){t.vertices.length>0&&(this.geometryBuilder?this.geometryBuilder.addRetained(t):(this.geometryInHash(t.gid)||(t._edgesToVertices(),this._getOrMakeCachedBuffers(t)),this._drawGeometry(t,{count:r})))}_getOrMakeCachedBuffers(t){return this.geometryBufferCache.ensureCached(t)}_drawGeometry(t,{mode:r=4,count:n=1}={}){for(let r in t.userVertexProperties){let n=t.userVertexProperties[r];this.buffers.user.push(new im(n.getDataSize(),n.getSrcName(),n.getDstName(),n.getName(),this))}this.states.fillColor&&t.vertices.length>=3&&![1,0].includes(r)&&this._drawFills(t,{mode:r,count:n}),this.states.strokeColor&&t.lineVertices.length>=1&&this._drawStrokes(t,{count:n}),this.buffers.user=[]}_drawFills(t,{count:r,mode:n}={}){this._useVertexColor=t.vertexColors.length>0&&!t.vertexColors.isDefault;let i=!this._drawingFilter&&this.states.userFillShader?this.states.userFillShader:this._getFillShader();for(let r of(i.bindShader("fill"),this._setGlobalUniforms(i),this._setFillUniforms(i),i.bindTextures(),this.buffers.fill))r._prepareBuffer(t,i);this._prepareUserAttributes(t,i),this._disableRemainingAttributes(i),this._applyColorBlend(this.states.curFillColor,t.hasFillTransparency()),this._drawBuffers(t,{mode:n,count:r}),i.unbindShader()}_drawStrokes(t,{count:r}={}){this._useLineColor=t.vertexStrokeColors.length>0;let n=this._getStrokeShader();for(let r of(n.bindShader("stroke"),this._setGlobalUniforms(n),this._setStrokeUniforms(n),n.bindTextures(),this.buffers.stroke))r._prepareBuffer(t,n);this._prepareUserAttributes(t,n),this._disableRemainingAttributes(n),this._applyColorBlend(this.states.curStrokeColor,t.hasStrokeTransparency()),this._drawBuffers(t,{count:r}),n.unbindShader()}_prepareUserAttributes(t,r){for(let n of this.buffers.user){if(!this._pInst.constructor.disableFriendleErrors){let r=t.userVertexProperties[n.attr];if(r){let n=r.getSrcArray().length/r.getDataSize();n>t.vertices.length?this._pInst.constructor._friendlyError(`One of the geometries has a custom vertex property '${r.getName()}' with more values than vertices. This is probably caused by directly using the Geometry.vertexProperty() method.`,"vertexProperty()"):n<t.vertices.length&&this._pInst.constructor._friendlyError(`One of the geometries has a custom vertex property '${r.getName()}' with fewer values than vertices. This is probably caused by directly using the Geometry.vertexProperty() method.`,"vertexProperty()")}}n._prepareBuffer(t,r)}}_drawGeometryScaled(t,r,n,i){let s=this.states.uModelMatrix;this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone());try{this.states.uModelMatrix.scale(r,n,i),this.geometryBuilder?this.geometryBuilder.addRetained(t):this._drawGeometry(t)}finally{this.states.setValue("uModelMatrix",s)}}_update(){this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),this.states.uModelMatrix.reset(),this.states.setValue("uViewMatrix",this.states.uViewMatrix.clone()),this.states.uViewMatrix.set(this.states.curCamera.cameraMatrix),this.states.setValue("ambientLightColors",[]),this.states.setValue("specularColors",[1,1,1]),this.states.setValue("directionalLightDirections",[]),this.states.setValue("directionalLightDiffuseColors",[]),this.states.setValue("directionalLightSpecularColors",[]),this.states.setValue("pointLightPositions",[]),this.states.setValue("pointLightDiffuseColors",[]),this.states.setValue("pointLightSpecularColors",[]),this.states.setValue("spotLightPositions",[]),this.states.setValue("spotLightDirections",[]),this.states.setValue("spotLightDiffuseColors",[]),this.states.setValue("spotLightSpecularColors",[]),this.states.setValue("spotLightAngle",[]),this.states.setValue("spotLightConc",[]),this.states.setValue("enableLighting",!1),this.states.setValue("tint",[255,255,255,255]),this._resetBuffersBeforeDraw()}background(...t){let r=t[0];if(null!=r&&"object"==typeof r&&"number"==typeof r.width&&"number"==typeof r.height&&(null!=r.canvas||null!=r.elt))return this._pInst.clear(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.imageMode(k),this._pInst.image(r,0,0,this._pInst.width,this._pInst.height),void this._pInst.pop();let n=this._pInst.color(...t);this.clear(...n._getRGBA())}get uModelMatrix(){return this.states.uModelMatrix}get uViewMatrix(){return this.states.uViewMatrix}get uPMatrix(){return this.states.uPMatrix}get uMVMatrix(){let t=this.uModelMatrix.copy();return t.mult(this.uViewMatrix),t}getWorldToScreenMatrix(){let t=this.states.uModelMatrix,r=this.states.uViewMatrix,n=this.states.uPMatrix,i=new ie(4);return i.scale(this.width,this.height,1),i.translate([.5,.5,.5]),i.scale(.5,-.5,.5),t.copy().mult(r).mult(n).mult(i)}fill(...t){super.fill(...t);let r=this.states.fillColor;this.states.setValue("curFillColor",r._array),this.states.setValue("drawMode",em),this.states.setValue("_useNormalMaterial",!1),this.states.setValue("_tex",null)}stroke(...t){super.stroke(...t),this.states.setValue("curStrokeColor",this.states.strokeColor._array)}getCommonVertexProperties(){return{...super.getCommonVertexProperties(),stroke:this.states.strokeColor,fill:this.states.fillColor,normal:this.states._currentNormal}}getSupportedIndividualVertexProperties(){return{textureCoordinates:!0}}strokeCap(t){this.curStrokeCap=t}strokeJoin(t){this.curStrokeJoin=t}getFilterLayer(){return this.filterLayer||(this.filterLayer=new i0(this)),this.filterLayer}getFilterLayerTemp(){return this.filterLayerTemp||(this.filterLayerTemp=new i0(this)),this.filterLayerTemp}matchSize(t,r){t.width===r.width&&t.height===r.height||t.resize(r.width,r.height),t.pixelDensity()!==r.pixelDensity()&&t.pixelDensity(r.pixelDensity())}filter(...t){let r,n,i=this.getFilterLayer();"string"==typeof t[0]?(r=(n=t[0])in iw&&void 0===t[1]?iw[n]:t[1],n in this.defaultFilterShaders||(this.defaultFilterShaders[n]=this._makeFilterShader(i.renderer,n)),this.states.setValue("filterShader",this.defaultFilterShaders[n])):this.states.setValue("filterShader",t[0]);let s=this.activeFramebuffer()||this;this.matchSize(i,s),i.draw(()=>this.clear());let a=[1/(s.width*s.pixelDensity()),1/(s.height*s.pixelDensity())];if(n===ec){let t=this.getFilterLayerTemp();this.matchSize(t,s),this.push(),this.states.setValue("strokeColor",null),this.blendMode(j),this.shader(this.states.filterShader),this.states.filterShader.setUniform("texelSize",a),this.states.filterShader.setUniform("canvasSize",[s.width,s.height]),this.states.filterShader.setUniform("radius",Math.max(1,r)),t.draw(()=>{this.states.filterShader.setUniform("direction",[1,0]),this.states.filterShader.setUniform("tex0",s),this.clear(),this.shader(this.states.filterShader),this.noLights(),this.plane(s.width,s.height)}),i.draw(()=>{this.states.filterShader.setUniform("direction",[0,1]),this.states.filterShader.setUniform("tex0",t),this.clear(),this.shader(this.states.filterShader),this.noLights(),this.plane(s.width,s.height)}),this.pop()}else i.draw(()=>{this.states.setValue("strokeColor",null),this.blendMode(j),this.shader(this.states.filterShader),this.states.filterShader.setUniform("tex0",s),this.states.filterShader.setUniform("texelSize",a),this.states.filterShader.setUniform("canvasSize",[s.width,s.height]),this.states.filterShader.setUniform("filterParameter",r),this.noLights(),this.plane(s.width,s.height)});this.push(),this.states.setValue("strokeColor",null),this.clear(),this.push(),this.states.setValue("imageMode",C),this.blendMode(j),s.filterCamera._resize(),this.setCamera(s.filterCamera),this.resetMatrix(),this._drawingFilter=!0,this.image(i,0,0,i.width,i.height,-s.width/2,-s.height/2,s.width,s.height),this._drawingFilter=!1,this.clearDepth(),this.pop(),this.pop()}pixelDensity(t){return t?this._pInst.pixelDensity(t):this._pInst.pixelDensity()}blendMode(t){t===H||t===W||t===$||t===j||t===Y||t===Z||t===X||t===Q||t===K||t===G?this.states.setValue("curBlendMode",t):t!==en&&t!==J&&t!==ee&&t!==et&&t!==er||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}erase(t,r){this._isErasing||(this.preEraseBlend=this.states.curBlendMode,this._isErasing=!0,this.blendMode(G),this._cachedFillStyle=this.states.curFillColor.slice(),this.states.setValue("curFillColor",[1,1,1,t/255]),this._cachedStrokeStyle=this.states.curStrokeColor.slice(),this.states.setValue("curStrokeColor",[1,1,1,r/255]))}noErase(){this._isErasing&&(this.states.setValue("curFillColor",this._cachedFillStyle.slice()),this.states.setValue("curStrokeColor",this._cachedStrokeStyle.slice()),this.states.setValue("curBlendMode",this.preEraseBlend),this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}_applyBlendMode(){}drawTarget(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}beginClip(t={}){super.beginClip(t),this.drawTarget()._isClipApplied=!0,this._applyClip(),this.push(),this.resetShader(),this.states.fillColor&&this.fill(0,0),this.states.strokeColor&&this.stroke(0,0)}endClip(){this.pop(),this._unapplyClip(),this._clipDepths.push(this._pushPopDepth),super.endClip()}_clearClip(){this._clearClipBuffer(),this._clipDepths.length>0&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}_getTempFramebuffer(){return this._tempFramebuffer||(this._tempFramebuffer=new i0(this,{format:eM,useDepth:this._pInst._glAttributes.depth,depthFormat:eI,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}geometryInHash(t){return this.geometryBufferCache.isCached(t)}resize(t,r){super.resize(t,r);let n={};for(let t in this.drawingContext){let r=this.drawingContext[t];"object"!=typeof r&&"function"!=typeof r&&(n[t]=r)}let i=this._adjustDimensions(t,r);for(let n of(t=i.adjustedWidth,r=i.adjustedHeight,this.width=t,this.height=r,this.canvas.width=t*this._pixelDensity,this.canvas.height=r*this._pixelDensity,this.canvas.style.width=`${t}px`,this.canvas.style.height=`${r}px`,this._updateViewport(),this._updateSize(),this.mainCamera._resize(),this.states.curCamera!==this.mainCamera&&this.states.curCamera._resize(),void 0!==this.pixels&&this._createPixelsArray(),this.framebuffers))this.flushDraw?.(),n._canvasSizeChanged();for(let t in this.flushDraw?.(),n)try{this.drawingContext[t]=n[t]}catch(t){}}applyMatrix(t,r,n,i,s,a){this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),16==arguments.length?ie.prototype.apply.apply(this.states.uModelMatrix,arguments):this.states.uModelMatrix.apply([t,r,0,0,n,i,0,0,0,0,1,0,s,a,0,1])}translate(t,r,n){return t instanceof ne&&(n=t.z,r=t.y,t=t.x),this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),this.states.uModelMatrix.translate([t,r,n]),this}scale(t,r,n){return this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),this.states.uModelMatrix.scale(t,r,n),this}rotate(t,r){return void 0===r?this.rotateZ(t):(this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),ie.prototype.rotate4x4.apply(this.states.uModelMatrix,arguments),this)}rotateX(t){return this.rotate(t,1,0,0),this}rotateY(t){return this.rotate(t,0,1,0),this}rotateZ(t){return this.rotate(t,0,0,1),this}pop(...t){this._clipDepths.length>0&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip(),super.pop(...t),this._applyStencilTestIfClipping()}resetMatrix(){return this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),this.states.uModelMatrix.reset(),this.states.setValue("uViewMatrix",this.states.uViewMatrix.clone()),this.states.uViewMatrix.set(this.states.curCamera.cameraMatrix),this}_getStrokeShader(){return this.states.userStrokeShader||this._getLineShader()}_getFillShader(){return this._drawingImage?this.states.userImageShader&&!this._drawingFilter?this.states.userImageShader:this._getLightShader():this.states.userFillShader?this.states.userFillShader:this.states._useNormalMaterial?this._getNormalShader():this.states.enableLighting||this.states._tex?this._getLightShader():this._getColorShader()}baseMaterialShader(){return this._getLightShader()}baseNormalShader(){return this._getNormalShader()}baseColorShader(){return this._getColorShader()}baseStrokeShader(){return this._getLineShader()}activeFramebuffer(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}createFramebuffer(t){return new i0(this,t)}_setGlobalUniforms(t){let r=this.states.uModelMatrix,n=this.states.uViewMatrix,i=this.states.uPMatrix,s=r.copy().mult(n);if(t.setUniform("uPerspective",+!!this.states.curCamera.useLinePerspective),t.setUniform("uViewMatrix",n.mat4),t.setUniform("uProjectionMatrix",i.mat4),t.setUniform("uModelMatrix",r.mat4),t.setUniform("uModelViewMatrix",s.mat4),t.uniforms.uModelViewProjectionMatrix){let r=s.copy();r.mult(i),t.setUniform("uModelViewProjectionMatrix",r.mat4)}t.uniforms.uNormalMatrix&&(this.scratchMat3.inverseTranspose4x4(s),t.setUniform("uNormalMatrix",this.scratchMat3.mat3)),t.uniforms.uModelNormalMatrix&&(this.scratchMat3.inverseTranspose4x4(this.states.uModelMatrix),t.setUniform("uModelNormalMatrix",this.scratchMat3.mat3)),t.uniforms.uCameraNormalMatrix&&(this.scratchMat3.inverseTranspose4x4(this.states.uViewMatrix),t.setUniform("uCameraNormalMatrix",this.scratchMat3.mat3)),t.uniforms.uCameraRotation&&(this.scratchMat3.inverseTranspose4x4(this.states.uViewMatrix),t.setUniform("uCameraRotation",this.scratchMat3.mat3)),t.setUniform("uViewport",this._viewport)}_setStrokeUniforms(t){t.setUniform("uSimpleLines",this._simpleLines),t.setUniform("uUseLineColor",this._useLineColor),t.setUniform("uMaterialColor",this.states.curStrokeColor),t.setUniform("uStrokeWeight",this.states.strokeWeight),t.setUniform("uStrokeCap",ik[this.curStrokeCap]),t.setUniform("uStrokeJoin",iT[this.curStrokeJoin])}_setFillUniforms(t){this.mixedSpecularColor=[...this.states.curSpecularColor];let r=this._getEmptyTexture();this.states._useMetalness>0&&(this.mixedSpecularColor=this.mixedSpecularColor.map((t,r)=>this.states.curFillColor[r]*this.states._useMetalness+t*(1-this.states._useMetalness))),t.setUniform("uUseVertexColor",this._useVertexColor),t.setUniform("uMaterialColor",this.states.curFillColor),t.setUniform("isTexture",!!this.states._tex),t.setUniform("uSampler",this.states._tex||r),t.setUniform("uTint",this.states.tint),t.setUniform("uHasSetAmbient",this.states._hasSetAmbient),t.setUniform("uAmbientMatColor",this.states.curAmbientColor),t.setUniform("uSpecularMatColor",this.mixedSpecularColor),t.setUniform("uEmissiveMatColor",this.states.curEmissiveColor),t.setUniform("uSpecular",this.states._useSpecularMaterial),t.setUniform("uEmissive",this.states._useEmissiveMaterial),t.setUniform("uShininess",this.states._useShininess),t.setUniform("uMetallic",this.states._useMetalness),this._setImageLightUniforms(t),t.setUniform("uUseLighting",this.states.enableLighting);let n=this.states.pointLightDiffuseColors.length/3;t.setUniform("uPointLightCount",n),t.setUniform("uPointLightLocation",this.states.pointLightPositions),t.setUniform("uPointLightDiffuseColors",this.states.pointLightDiffuseColors),t.setUniform("uPointLightSpecularColors",this.states.pointLightSpecularColors);let i=this.states.directionalLightDiffuseColors.length/3;t.setUniform("uDirectionalLightCount",i),t.setUniform("uLightingDirection",this.states.directionalLightDirections),t.setUniform("uDirectionalDiffuseColors",this.states.directionalLightDiffuseColors),t.setUniform("uDirectionalSpecularColors",this.states.directionalLightSpecularColors);let s=[0,0,0];for(let t=0;t<this.states.ambientLightColors.length;t+=3)for(let r=0;r<3;r++)this.states._useMetalness>0?s[r]+=Math.max(0,this.states.ambientLightColors[t+r]-this.states._useMetalness):s[r]+=this.states.ambientLightColors[t+r];t.setUniform("uAmbientColor",s);let a=this.states.spotLightDiffuseColors.length/3;t.setUniform("uSpotLightCount",a),t.setUniform("uSpotLightAngle",this.states.spotLightAngle),t.setUniform("uSpotLightConc",this.states.spotLightConc),t.setUniform("uSpotLightDiffuseColors",this.states.spotLightDiffuseColors),t.setUniform("uSpotLightSpecularColors",this.states.spotLightSpecularColors),t.setUniform("uSpotLightLocation",this.states.spotLightPositions),t.setUniform("uSpotLightDirection",this.states.spotLightDirections),t.setUniform("uConstantAttenuation",this.states.constantAttenuation),t.setUniform("uLinearAttenuation",this.states.linearAttenuation),t.setUniform("uQuadraticAttenuation",this.states.quadraticAttenuation)}_setImageLightUniforms(t){if(t.setUniform("uUseImageLight",null!=this.states.activeImageLight),this.states.activeImageLight){let r=this.getDiffusedTexture(this.states.activeImageLight);t.setUniform("environmentMapDiffused",r);let n=this.getSpecularTexture(this.states.activeImageLight);t.setUniform("environmentMapSpecular",n)}else t.setUniform("environmentMapDiffused",this._getEmptyTexture()),t.setUniform("environmentMapSpecular",this._getEmptyTexture())}_getEmptyTexture(){if(!this._emptyTexture){let t=new r6(1,1);t.set(0,0,255),this._emptyTexture=new iV(this,t)}return this._emptyTexture}getTexture(t){let r=t;r instanceof i0&&(r=r.color);let n=this.textures.get(r);if(n)return n;let i=new iV(this,r);return this.textures.set(r,i),i}_normalizeBufferData(t,r=Float32Array){return t?t instanceof ir?t.dataArray():t instanceof r?t:new r(t):null}_arraysEqual(t,r){return t.length===r.length&&t.every((t,n)=>t===r[n])}_isTypedArray(t){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(r=>t instanceof r)}_vToNArray(t){return t.flatMap(t=>[t.x,t.y,t.z])}_beforeDrawText(){}_afterDrawText(){}textCanvas(){return this._textCanvas||(this._textCanvas=document.createElement("canvas"),this._textCanvas.width=1,this._textCanvas.height=1,this._textCanvas.style.display="none",this.canvas.parentElement.insertBefore(this._textCanvas,this.canvas)),this._textCanvas}textDrawingContext(){if(!this._textDrawingContext){let t=this.textCanvas();this._textDrawingContext=t.getContext("2d")}return this._textDrawingContext}_positionLines(t,r,n,i,s){let{textLeading:a,textAlign:o}=this.states,l=s.map(t=>this._fontWidthSingle(t)),u,h=Array(s.length),c=void 0===n?Math.max(0,...l):n;for(let i=0;i<s.length;i++){switch(o){case iS:throw Error("textBounds: START not yet supported for textAlign");case A:u=t;break;case k:u=t+(c-l[i])/2-c/2+(n||0)/2;break;case D:u=t+c-l[i]-c+(n||0);break;case"end":throw Error("textBounds: END not yet supported for textAlign");default:u=t}h[i]={text:s[i],x:u,y:r+i*a}}return this._yAlignOffset(h,void 0===i?0:i)}_verticalAlignFont=function(){let t=this.textDrawingContext().measureText("X");return-t.alphabeticBaseline||-t.fontBoundingBoxAscent+t.fontBoundingBoxDescent};_yAlignOffset(t,r){if(void 0===r)throw Error("_yAlignOffset: height is required");let{textLeading:n,textBaseline:i,textSize:s}=this.states,a=0,o=t.length,l=s*o+(n-s)*(o-1);switch(i){case"top":a=this._verticalAlignFont();break;case F:break;case i_:a=(-l+s+(r||0))/2+this._verticalAlignFont()+this._middleAlignOffset();break;case T:a=-(l-s)+(r||0);break;default:console.warn(`${i} is not supported in WebGL mode.`)}return t.forEach(t=>t.y+=a),t}_makeFilterShader(t,r){return iD(this,r,this._pInst)}makeDiffusedTexture(t){if(null!=this.diffusedTextures.get(t))return this.diffusedTextures.get(t);let r,n=Math.floor(t.height/t.width*200);return r=new i0(this,{width:200,height:n,density:1}),this.diffusedShader||(this.diffusedShader=this._createImageLightShader("diffused")),r.draw(()=>{this.shader(this.diffusedShader),this._setImageLightShaderUniforms(this.diffusedShader,t),this.states.setValue("strokeColor",null),this.noLights(),this.plane(200,n)}),this.diffusedTextures.set(t,r),r}getDiffusedTexture(t){return this.diffusedTextures.get(t)}makeSpecularTexture(t){if(null!=this.specularTextures.get(t))return this.specularTextures.get(t);let r,n=Math.floor(Math.log2(512))+1;this.specularShader||(this.specularShader=this._createImageLightShader("specular"));let i=this._prepareMipmapData(512,n),s=new i0(this,{width:512,height:512,density:1}),a=0;for(let r=512;r>=1;r/=2){s.resize(r,r);let o=1-Math.log(r)/Math.log(2)/n;s.draw(()=>{this.shader(this.specularShader),this.clear(),this._setImageLightShaderUniforms(this.specularShader,t,o),this.states.setValue("strokeColor",null),this.noLights(),this.plane(r,r)}),this._accumulateMipLevel(s,i,a,r,r),a++}return s.remove(),r=this._finalizeMipmapTexture(i),this.specularTextures.set(t,r),r}getSpecularTexture(t){return this.specularTextures.get(t)}_getSphereMapping(t){if(!this.sphereMapping){let t=this._pInst;this.sphereMapping=this.baseFilterShader().modify(({p5:t})=>{let r=t.uniformTexture("uEnvMap"),n=t.uniformFloat("uFovY"),i=t.uniformFloat("uAspect"),s=t.uniformVec3("uN1"),a=t.uniformVec3("uN2"),o=t.uniformVec3("uN3");t.getColor(l=>{let u=n*i,h=t.mix(n/2,-n/2,l.texCoord.y),c=t.mix(u/2,-u/2,l.texCoord.x),d=t.normalize([c,h,1]),p=(d=[t.dot(d,s),t.dot(d,a),t.dot(d,o)]).z;d.z=d.x,d.x=-p;let f=[t.atan(d.z,d.x)/(2*t.PI)+.5,.5+-(.5*d.y)];return t.getTexture(r,f)})},{p5:t})}this.scratchMat3.inverseTranspose4x4(this.states.uViewMatrix),this.scratchMat3.invert(this.scratchMat3),this.sphereMapping.setUniform("uFovY",this.states.curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this.states.curCamera.aspectRatio);let r=this.scratchMat3.mat3;return this.sphereMapping.setUniform("uN1",[r[0],r[3],r[6]]),this.sphereMapping.setUniform("uN2",[r[1],r[4],r[7]]),this.sphereMapping.setUniform("uN3",[r[2],r[5],r[8]]),this.sphereMapping.setUniform("uEnvMap",t),this.sphereMapping}_createImageLightShader(t){throw Error("_createImageLightShader must be implemented by the renderer")}_setImageLightShaderUniforms(t,r,n){t.setUniform("environmentMap",r),void 0!==n&&t.setUniform("roughness",n)}_createMipmapTexture(t){throw Error("_createMipmapTexture must be implemented by the renderer")}_prepareMipmapData(t,r){throw Error("_prepareMipmapData must be implemented by the renderer")}_accumulateMipLevel(t,r,n,i,s){throw Error("_accumulateMipLevel must be implemented by the renderer")}_finalizeMipmapTexture(t){throw Error("_finalizeMipmapTexture must be implemented by the renderer")}remove(){this._textCanvas&&this._textCanvas.parentElement.removeChild(this._textCanvas),super.remove()}}function iM(t,r){t.Renderer3D=iF}function iI(t,r){r.strokeMode=function(t){if(void 0===t)return this._renderer._simpleLines?c:d;if(t===c)this._renderer._simpleLines=!0;else{if(t!==d)throw Error("no such parameter");this._renderer._simpleLines=!1}},r.buildGeometry=function(t){return this._renderer.buildGeometry(t)},r.freeGeometry=function(t){this._renderer.geometryBufferCache.freeBuffers(t.gid)},r.plane=function(t=50,r=t,n=1,i=1){return this._assert3d("plane"),this._renderer.plane(t,r,n,i),this},r.box=function(t,r,n,i,s){return this._assert3d("box"),this._renderer.box(t,r,n,i,s),this},r.sphere=function(t=50,r=24,n=16){return this._assert3d("sphere"),this._renderer.sphere(t,r,n),this},r.cylinder=function(t=50,r=t,n=24,i=1,s=!0,a=!0){return this._assert3d("cylinder"),this._renderer.cylinder(t,r,n,i,s,a),this},r.cone=function(t=50,r=t,n=24,i=1,s=!0){return this._assert3d("cone"),this._renderer.cone(t,r,n,i,s),this},r.ellipsoid=function(t=50,r=t,n=t,i=24,s=16){return this._assert3d("ellipsoid"),this._renderer.ellipsoid(t,r,n,i,s),this},r.torus=function(t,r,n,i){return this._assert3d("torus"),this._renderer.torus(t,r,n,i),this},iF.prototype.point=function(t,r,n=0){return this.beginShape(0),this.vertex(t,r,n),this.endShape(),this},iF.prototype.triangle=function(t){let r=t[0],n=t[1],i=t[2],s=t[3],a=t[4],o=t[5];if(!this.geometryInHash("tri")){let t=new is(1,1,function(){let t=[];t.push(new ne(0,0,0)),t.push(new ne(1,0,0)),t.push(new ne(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=t,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]},this);t._edgesToVertices(),t.computeNormals(),t.gid="tri",this.geometryBufferCache.ensureCached(t)}let l=this.states.uModelMatrix.copy();try{let t=Math.sign(r*s-i*n+i*o-a*s+a*n-r*o),l=new ie([i-r,s-n,0,0,a-r,o-n,0,0,0,0,t,0,r,n,0,1]).mult(this.states.uModelMatrix);this.states.setValue("uModelMatrix",l),this.model(this.geometryBufferCache.getGeometryByID("tri"))}finally{this.states.setValue("uModelMatrix",l)}return this},iF.prototype.ellipse=function(t){this.arc(t[0],t[1],t[2],t[3],0,b,P,t[4])},iF.prototype.arc=function(...t){let r,n,i=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5],h=t[6],c=t[7]||25;if(Math.abs(u-l)>=b?(r="ellipse",n=`${r}|${c}|`):(r="arc",n=`${r}|${l}|${u}|${h}|${c}|`),!this.geometryInHash(n)){let t=new is(c,1,function(){if(l.toFixed(10)!==u.toFixed(10)){"pie"!==h&&void 0!==h||(this.vertices.push(new ne(.5,.5,0)),this.uvs.push([.5,.5]));for(let t=0;t<=c;t++){let r=t/c*(u-l)+l,n=.5+Math.cos(r)/2,i=.5+Math.sin(r)/2;this.vertices.push(new ne(n,i,0)),this.uvs.push([n,i]),t<c-1&&(this.faces.push([0,t+1,t+2]),this.edges.push([t+1,t+2]))}switch(h){case"pie":this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case L:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case P:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}},this);t.computeNormals(),c<=50?t._edgesToVertices(t):this.states.strokeColor&&console.log(`Cannot apply a stroke to an ${r} with more than 50 detail`),t.gid=n,this.geometryBufferCache.ensureCached(t)}let d=this.states.uModelMatrix;this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone());try{this.states.uModelMatrix.translate([i,s,0]),this.states.uModelMatrix.scale(a,o,1),this.model(this.geometryBufferCache.getGeometryByID(n))}finally{this.states.setValue("uModelMatrix",d)}return this},iF.prototype.rect=function(t){let r=t[0],n=t[1],i=t[2],s=t[3];if(void 0===t[4]){let a=this._pInst._glAttributes?.perPixelLighting??!0,o=t[4]||(a?1:24),l=t[5]||(a?1:16),u=`rect|${o}|${l}`;if(!this.geometryInHash(u)){let t=new is(o,l,function(){for(let t=0;t<=this.detailY;t++){let r=t/this.detailY;for(let t=0;t<=this.detailX;t++){let n=t/this.detailX,i=new ne(n,r,0);this.vertices.push(i),this.uvs.push(n,r)}}o>0&&l>0&&(this.edges=[[0,o],[o,(o+1)*(l+1)-1],[(o+1)*(l+1)-1,(o+1)*l],[(o+1)*l,0]])},this);t.computeFaces().computeNormals()._edgesToVertices(),t.gid=u,this.geometryBufferCache.ensureCached(t)}let h=this.states.uModelMatrix;this.states.setValue("uModelMatrix",this.states.uModelMatrix.copy());try{this.states.uModelMatrix.translate([r,n,0]),this.states.uModelMatrix.scale(i,s,1),this.model(this.geometryBufferCache.getGeometryByID(u))}finally{this.states.setValue("uModelMatrix",h)}}else{let a=t[4],o=void 0===t[5]?a:t[5],l=void 0===t[6]?o:t[6],u=void 0===t[7]?l:t[7],h=r,c=n,d=i,p=s;if(d+=h,p+=c,h>d){let t=h;h=d,d=t}if(c>p){let t=c;c=p,p=t}let f=Math.min((d-h)/2,(p-c)/2);a>f&&(a=f),o>f&&(o=f),l>f&&(l=f),u>f&&(u=f);let m=h,g=c,y=d,v=p,x=this.states.textureMode;this.states.setValue("textureMode",ed);let b=this.bezierOrder();this.bezierOrder(2),this.beginShape();let w=(t,r)=>[t,r,0,(t-m)/i,(r-g)/s];0!==o?(this.vertex(...w(y-o,g)),this.bezierVertex(...w(y,g)),this.bezierVertex(...w(y,g+o))):this.vertex(...w(y,g)),0!==l?(this.vertex(...w(y,v-l)),this.bezierVertex(...w(y,v)),this.bezierVertex(...w(y-l,v))):this.vertex(...w(y,v)),0!==u?(this.vertex(...w(m+u,v)),this.bezierVertex(...w(m,v)),this.bezierVertex(...w(m,v-u))):this.vertex(...w(m,v)),0!==a?(this.vertex(...w(m,g+a)),this.bezierVertex(...w(m,g)),this.bezierVertex(...w(m+a,g))):this.vertex(...w(m,g)),this.endShape(B),this.states.setValue("textureMode",x),this.bezierOrder(b)}return this},iF.prototype.quad=function(t,r,n,i,s,a,o,l,u,h,c,d,p=2,f=2){let m=`quad|${t}|${r}|${n}|${i}|${s}|${a}|${o}|${l}|${u}|${h}|${c}|${d}|${p}|${f}`;if(!this.geometryInHash(m)){let g=new is(p,f,function(){let p=1/(this.detailX-1),f=1/(this.detailY-1);for(let m=0;m<this.detailY;m++)for(let g=0;g<this.detailX;g++){let y=g*p,v=m*f,x=(1-y)*((1-v)*t+v*h)+y*((1-v)*i+v*o),b=(1-y)*((1-v)*r+v*c)+y*((1-v)*s+v*l),w=(1-y)*((1-v)*n+v*d)+y*((1-v)*a+v*u);this.vertices.push(new ne(x,b,w)),this.uvs.push([y,v])}},this);g.faces=[];for(let t=0;t<f-1;t++)for(let r=0;r<p-1;r++){let n=r+t*p,i=r+1+t*p,s=r+1+(t+1)*p,a=r+(t+1)*p;g.faces.push([n,i,s]),g.faces.push([n,s,a])}g.computeNormals(),g.edges.length=0;let y=[0,2,3,1];for(let t=0;t<y.length;t++){let r=y[t],n=y[(t+1)%y.length];g.edges.push([r,n])}g._edgesToVertices(),g.gid=m,this.geometryBufferCache.ensureCached(g)}return this.model(this.geometryBufferCache.getGeometryByID(m)),this},iF.prototype.bezier=function(t,r,n,i,s,a,o,l,u,h,c,d){8==arguments.length&&(c=l,h=o,l=a,o=s,s=i,i=n,n=a=u=d=0),this.bezierOrder(),this.bezierOrder(3),this.beginShape(),this.vertex(t,r,n),this.bezierVertex(i,s,a),this.bezierVertex(o,l,u),this.bezierVertex(h,c,d),this.endShape()},iF.prototype.curve=function(t,r,n,i,s,a,o,l,u,h,c,d){8==arguments.length&&(h=o,c=l,o=s,l=i,s=i=n,n=a=u=d=0),this.beginShape(),this.splineVertex(t,r,n),this.splineVertex(i,s,a),this.splineVertex(o,l,u),this.splineVertex(h,c,d),this.endShape()},iF.prototype.line=function(...t){return 6===t.length?(this.beginShape(1),this.vertex(t[0],t[1],t[2]),this.vertex(t[3],t[4],t[5]),this.endShape()):4===t.length&&(this.beginShape(1),this.vertex(t[0],t[1],0),this.vertex(t[2],t[3],0),this.endShape()),this},iF.prototype.image=function(t,r,n,i,s,a,o,l,u){this._isErasing&&this.blendMode(this._cachedBlendMode),this.push(),this.noLights(),this.states.setValue("strokeColor",null),this.texture(t),this.states.setValue("textureMode",ed);let h=0;r<=t.width&&(h=r/t.width);let c=1;r+i<=t.width&&(c=(r+i)/t.width);let d=0;n<=t.height&&(d=n/t.height);let p=1;n+s<=t.height&&(p=(n+s)/t.height),this._drawingImage=!0,this.beginShape(),this.vertex(a,o,0,h,d),this.vertex(a+l,o,0,c,d),this.vertex(a+l,o+u,0,c,p),this.vertex(a,o+u,0,h,p),this.endShape(B),this._drawingImage=!1,this.pop(),this._isErasing&&this.blendMode(G)};let n=function(t,r,n,i,s,a,o){let l,u,h;t=t<=0?1:t,r=r<0?0:r,n=n<=0?t:n,i=i<3?3:i;let c=(a=void 0===a||a)?-2:0,d=(s=s<1?1:s)+2*!!(o=void 0===o?0!==r:o),p=Math.atan2(t-r,n),f=Math.sin(p),m=Math.cos(p);for(l=c;l<=d;++l){let a,o=l/s,h=n*o;for(l<0?(h=0,o=0,a=t):l>s?(h=n,o=1,a=r):a=t+(r-t)*o,-2!==l&&l!==s+2||(a=0),h-=n/2,u=0;u<i;++u){let t,n=u/(i-1),c=2*Math.PI*n,d=Math.sin(c),p=Math.cos(c);this.vertices.push(new ne(d*a,h,p*a)),t=l<0?new ne(0,-1,0):l>s&&r?new ne(0,1,0):new ne(d*m,f,p*m),this.vertexNormals.push(t),this.uvs.push(n,o)}}let g=0;if(a){for(h=0;h<i;++h){let t=(h+1)%i;this.faces.push([g+h,g+i+t,g+i+h])}g+=2*i}for(l=0;l<s;++l){for(u=0;u<i;++u){let t=(u+1)%i;this.faces.push([g+u,g+t,g+i+t]),this.faces.push([g+u,g+i+t,g+i+u])}g+=i}if(o)for(g+=i,u=0;u<i;++u)this.faces.push([g+u,g+(u+1)%i,g+i])};iF.prototype.plane=function(t=50,r=t,n=1,i=1){let s=`plane|${n}|${i}`;if(!this.geometryInHash(s)){let t=new is(n,i,function(){let t,r,n;for(let i=0;i<=this.detailY;i++){r=i/this.detailY;for(let i=0;i<=this.detailX;i++)n=new ne((t=i/this.detailX)-.5,r-.5,0),this.vertices.push(n),this.uvs.push(t,r)}},this);t.computeFaces().computeNormals(),n<=1&&i<=1?t._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),t.gid=s,this.geometryBufferCache.ensureCached(t)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(s),t,r,1)},iF.prototype.box=function(t=50,r=t,n=r,i,s){let a=this.attributes&&this.attributes.perPixelLighting;void 0===i&&(i=a?1:4),void 0===s&&(s=a?1:4);let o=`box|${i}|${s}`;if(!this.geometryInHash(o)){let t=new is(i,s,function(){this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach((t,r)=>{let n=4*r;for(let r=0;r<4;r++){let n=t[r],i=new ne((2*(1&n)-1)/2,((2&n)-1)/2,((4&n)/2-1)/2);this.vertices.push(i),this.uvs.push(1&r,(2&r)/2)}this.faces.push([n,n+1,n+2]),this.faces.push([n+2,n+1,n+3])})},this);t.computeNormals(),i<=4&&s<=4?t._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),t.gid=o,this.geometryBufferCache.ensureCached(t)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(o),t,r,n)},iF.prototype.sphere=function(t=50,r=24,n=16){this.ellipsoid(t,t,t,r,n)},iF.prototype.ellipsoid=function(r=50,n=r,i=r,s=24,a=16){let o=`ellipsoid|${s}|${a}`;if(!this.geometryInHash(o)){let r=new is(s,a,function(){for(let r=0;r<=this.detailY;r++){let n=r/this.detailY,i=Math.PI*n-Math.PI/2,s=Math.cos(i),a=Math.sin(i);for(let r=0;r<=this.detailX;r++){let i=r/this.detailX,o=2*Math.PI*i,l=Math.cos(o),u=Math.sin(o),h=new t.Vector(s*u,a,s*l);this.vertices.push(h),this.vertexNormals.push(h),this.uvs.push(i,n)}}},this);r.computeFaces(),s<=24&&a<=24?r._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),r.gid=o,this.geometryBufferCache.ensureCached(r)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(o),r,n,i)},iF.prototype.cylinder=function(r=50,i=r,s=24,a=1,o=!0,l=!0){let u=`cylinder|${s}|${a}|${o}|${l}`;if(!this.geometryInHash(u)){let r=new t.Geometry(s,a,function(){n.call(this,1,1,1,s,a,o,l)},this);s<=24&&a<=16?r._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),r.gid=u,this.geometryBufferCache.ensureCached(r)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(u),r,i,r)},iF.prototype.cone=function(t=50,r=t,i=24,s=1,a=!0){let o=`cone|${i}|${s}|${a}`;if(!this.geometryInHash(o)){let t=new is(i,s,function(){n.call(this,1,0,1,i,s,a,!1)},this);i<=24&&s<=16?t._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),t.gid=o,this.geometryBufferCache.ensureCached(t)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(o),t,r,t)},iF.prototype.torus=function(t=50,r=10,n=24,i=16){if(0===t||0===r)return;let s=(r/t).toPrecision(4),a=`torus|${s}|${n}|${i}`;if(!this.geometryInHash(a)){let t=new is(n,i,function(){for(let t=0;t<=this.detailY;t++){let r=t/this.detailY,n=2*Math.PI*r,i=Math.cos(n),a=Math.sin(n),o=1+s*i;for(let t=0;t<=this.detailX;t++){let n=t/this.detailX,l=2*Math.PI*n,u=Math.cos(l),h=Math.sin(l),c=new ne(o*u,o*h,s*a),d=new ne(i*u,i*h,a);this.vertices.push(c),this.vertexNormals.push(d),this.uvs.push(n,r)}}},this);t.computeFaces(),n<=24&&i<=16?t._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),t.gid=a,this.geometryBufferCache.ensureCached(t)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(a),t,t,t)},r.curveDetail=function(t){if(!(this._renderer instanceof iF))throw Error("curveDetail() only works in WebGL mode. Did you mean to call createCanvas(width, height, WEBGL)?");return this._renderer.curveDetail(t)}}function iB(t,r){r.ambientLight=function(t,r,n,i){return this._assert3d("ambientLight"),this._renderer.ambientLight(...arguments),this},r.specularColor=function(t,r,n){return this._assert3d("specularColor"),this._renderer.specularColor(...arguments),this},r.directionalLight=function(t,r,n,i,s,a){return this._assert3d("directionalLight"),this._renderer.directionalLight(...arguments),this},r.pointLight=function(t,r,n,i,s,a){return this._assert3d("pointLight"),this._renderer.pointLight(...arguments),this},r.imageLight=function(t){this._renderer.imageLight(t)},r.panorama=function(t){this.filter(this._renderer._getSphereMapping(t))},r.lights=function(){return this._assert3d("lights"),this._renderer.lights(),this},r.lightFalloff=function(t,r,n){return this._assert3d("lightFalloff"),this._renderer.lightFalloff(t,r,n),this},r.spotLight=function(t,r,n,i,s,a,o,l,u,h,c){return this._assert3d("spotLight"),this._renderer.spotLight(...arguments),this},r.noLights=function(){return this._assert3d("noLights"),this._renderer.noLights(),this},iF.prototype.ambientLight=function(t,r,n,i){let s=this._pInst.color(...arguments);this.states.setValue("ambientLightColors",[...this.states.ambientLightColors]),this.states.ambientLightColors.push(s._array[0],s._array[1],s._array[2]),this.states.setValue("enableLighting",!0)},iF.prototype.specularColor=function(t,r,n){let i=this._pInst.color(...arguments);this.states.setValue("specularColors",[i._array[0],i._array[1],i._array[2]])},iF.prototype.directionalLight=function(t,r,n,i,s,a){let o,l,u,h;o=t instanceof rP?t:this._pInst.color(t,r,n);let c=arguments[arguments.length-1];"number"==typeof c?(l=arguments[arguments.length-3],u=arguments[arguments.length-2],h=arguments[arguments.length-1]):(l=c.x,u=c.y,h=c.z);let d=Math.sqrt(l*l+u*u+h*h);this.states.setValue("directionalLightDirections",[...this.states.directionalLightDirections]),this.states.directionalLightDirections.push(l/d,u/d,h/d),this.states.setValue("directionalLightDiffuseColors",[...this.states.directionalLightDiffuseColors]),this.states.directionalLightDiffuseColors.push(o._array[0],o._array[1],o._array[2]),this.states.setValue("directionalLightSpecularColors",[...this.states.directionalLightSpecularColors]),Array.prototype.push.apply(this.states.directionalLightSpecularColors,this.states.specularColors),this.states.setValue("enableLighting",!0)},iF.prototype.pointLight=function(t,r,n,i,s,a){let o,l,u,h;o=t instanceof rP?t:this._pInst.color(t,r,n);let c=arguments[arguments.length-1];"number"==typeof c?(l=arguments[arguments.length-3],u=arguments[arguments.length-2],h=arguments[arguments.length-1]):(l=c.x,u=c.y,h=c.z),this.states.setValue("pointLightPositions",[...this.states.pointLightPositions]),this.states.pointLightPositions.push(l,u,h),this.states.setValue("pointLightDiffuseColors",[...this.states.pointLightDiffuseColors]),this.states.pointLightDiffuseColors.push(o._array[0],o._array[1],o._array[2]),this.states.setValue("pointLightSpecularColors",[...this.states.pointLightSpecularColors]),Array.prototype.push.apply(this.states.pointLightSpecularColors,this.states.specularColors),this.states.setValue("enableLighting",!0)},iF.prototype.imageLight=function(t){this.states.setValue("activeImageLight",t),this.states.setValue("enableLighting",!0),this.makeDiffusedTexture(t),this.makeSpecularTexture(t)},iF.prototype.lights=function(){let t=this._pInst.color("rgb(128,128,128)");this.ambientLight(t),this.directionalLight(t,0,0,-1)},iF.prototype.lightFalloff=function(t,r,n){t<0&&(t=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),r<0&&(r=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),n<0&&(n=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===t&&0===r&&0===n&&(t=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this.states.setValue("constantAttenuation",t),this.states.setValue("linearAttenuation",r),this.states.setValue("quadraticAttenuation",n)},iF.prototype.spotLight=function(t,r,n,i,s,a,o,l,u,h,c){let d,p,f;if(this.states.spotLightDiffuseColors.length/3>=4)return;let m=arguments.length;switch(m){case 11:case 10:d=this._pInst.color(t,r,n),p=new ne(i,s,a),f=new ne(o,l,u);break;case 9:t instanceof rP?(d=t,p=new ne(r,n,i),f=new ne(s,a,o),h=l,c=u):i instanceof ne?(d=this._pInst.color(t,r,n),p=i,f=new ne(s,a,o),h=l,c=u):o instanceof ne?(d=this._pInst.color(t,r,n),p=new ne(i,s,a),f=o,h=l,c=u):(d=this._pInst.color(t,r,n),p=new ne(i,s,a),f=new ne(o,l,u));break;case 8:t instanceof rP?(d=t,p=new ne(r,n,i),f=new ne(s,a,o)):i instanceof ne?(d=this._pInst.color(t,r,n),p=i,f=new ne(s,a,o)):(d=this._pInst.color(t,r,n),p=new ne(i,s,a),f=o),h=l;break;case 7:t instanceof rP&&r instanceof ne?(d=t,p=r,f=new ne(n,i,s),h=a,c=o):t instanceof rP&&s instanceof ne?(d=t,p=new ne(r,n,i),f=s,h=a,c=o):i instanceof ne&&s instanceof ne?(d=this._pInst.color(t,r,n),p=i,f=s,h=a,c=o):t instanceof rP?(d=t,p=new ne(r,n,i),f=new ne(s,a,o)):i instanceof ne?(d=this._pInst.color(t,r,n),p=i,f=new ne(s,a,o)):(d=this._pInst.color(t,r,n),p=new ne(i,s,a),f=o);break;case 6:i instanceof ne&&s instanceof ne?(d=this._pInst.color(t,r,n),p=i,f=s,h=a):t instanceof rP&&s instanceof ne?(d=t,p=new ne(r,n,i),f=s,h=a):t instanceof rP&&r instanceof ne&&(d=t,p=r,f=new ne(n,i,s),h=a);break;case 5:t instanceof rP&&r instanceof ne&&n instanceof ne?(d=t,p=r,f=n,h=i,c=s):i instanceof ne&&s instanceof ne?(d=this._pInst.color(t,r,n),p=i,f=s):t instanceof rP&&s instanceof ne?(d=t,p=new ne(r,n,i),f=s):t instanceof rP&&r instanceof ne&&(d=t,p=r,f=new ne(n,i,s));break;case 4:d=t,p=r,f=n,h=i;break;case 3:d=t,p=r,f=n;break;default:return void console.warn(`Sorry, input for spotlight() is not in prescribed format. Too ${m<3?"few":"many"} arguments were provided`)}this.states.setValue("spotLightDiffuseColors",[...this.states.spotLightDiffuseColors,d._array[0],d._array[1],d._array[2]]),this.states.setValue("spotLightSpecularColors",[...this.states.spotLightSpecularColors,...this.states.specularColors]),this.states.setValue("spotLightPositions",[...this.states.spotLightPositions,p.x,p.y,p.z]),f.normalize(),this.states.setValue("spotLightDirections",[...this.states.spotLightDirections,f.x,f.y,f.z]),void 0===h&&(h=Math.PI/3),void 0!==c&&c<1?(c=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===c&&(c=100),h=this._pInst._toRadians(h),this.states.setValue("spotLightAngle",[...this.states.spotLightAngle,Math.cos(h)]),this.states.setValue("spotLightConc",[...this.states.spotLightConc,c]),this.states.setValue("enableLighting",!0)},iF.prototype.noLights=function(){this.states.setValue("activeImageLight",null),this.states.setValue("enableLighting",!1),this.states.setValue("ambientLightColors",[]),this.states.setValue("specularColors",[1,1,1]),this.states.setValue("directionalLightDirections",[]),this.states.setValue("directionalLightDiffuseColors",[]),this.states.setValue("directionalLightSpecularColors",[]),this.states.setValue("pointLightPositions",[]),this.states.setValue("pointLightDiffuseColors",[]),this.states.setValue("pointLightSpecularColors",[]),this.states.setValue("spotLightPositions",[]),this.states.setValue("spotLightDirections",[]),this.states.setValue("spotLightDiffuseColors",[]),this.states.setValue("spotLightSpecularColors",[]),this.states.setValue("spotLightAngle",[]),this.states.setValue("spotLightConc",[]),this.states.setValue("constantAttenuation",1),this.states.setValue("linearAttenuation",0),this.states.setValue("quadraticAttenuation",0),this.states.setValue("_useShininess",1),this.states.setValue("_useMetalness",0)}}void 0!==m&&iM(m),void 0!==m&&iI(m,m.prototype),void 0!==m&&iB(0,m.prototype);class iP{constructor(t,r,n,i={}){this._renderer=t,this._vertSrc=r,this._fragSrc=n,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[],this.hooks={uniforms:i.uniforms||{},declarations:i.declarations,varyingVariables:i.varyingVariables||[],helpers:i.helpers||{},vertex:i.vertex||{},fragment:i.fragment||{},modified:{vertex:i.modified&&i.modified.vertex||{},fragment:i.modified&&i.modified.fragment||{}}}}hookTypes(t){return this._renderer.getShaderHookTypes(this,t)}shaderSrc(t,r){return this._renderer.populateHooks(this,t,r)}version(){let t=/#version (.+)$/.exec(this.vertSrc());return t?t[1]:"100 es"}vertSrc(){return this.shaderSrc(this._vertSrc,"vertex")}fragSrc(){return this.shaderSrc(this._fragSrc,"fragment")}inspectHooks(){for(let t in console.log("==== Vertex shader hooks: ===="),this.hooks.vertex)console.log((this.hooks.modified.vertex[t]?"[MODIFIED] ":"")+t+this.hooks.vertex[t]);for(let t in console.log(""),console.log("==== Fragment shader hooks: ===="),this.hooks.fragment)console.log((this.hooks.modified.fragment[t]?"[MODIFIED] ":"")+t+this.hooks.fragment[t]);for(let t in console.log(""),console.log("==== Helper functions: ===="),this.hooks.helpers)console.log(t+this.hooks.helpers[t])}modify(t){let r={},n={},i={};for(let s in t)"declarations"!==s&&"uniforms"!==s&&"varyingVariables"!==s&&("vertexDeclarations"===s?r.declarations=(r.declarations||"")+"\n"+t[s]:"fragmentDeclarations"===s?n.declarations=(n.declarations||"")+"\n"+t[s]:this.hooks.vertex[s]?r[s]=t[s]:this.hooks.fragment[s]?n[s]=t[s]:i[s]=t[s]);let s=Object.assign({},this.hooks.modified.vertex),a=Object.assign({},this.hooks.modified.fragment);for(let t in r||{})"declarations"!==t&&(s[t]=!0);for(let t in n||{})"declarations"!==t&&(a[t]=!0);return new iP(this._renderer,this._vertSrc,this._fragSrc,{declarations:(this.hooks.declarations||"")+"\n"+(t.declarations||""),uniforms:Object.assign({},this.hooks.uniforms,t.uniforms||{}),varyingVariables:(t.varyingVariables||[]).concat(this.hooks.varyingVariables||[]),fragment:Object.assign({},this.hooks.fragment,n||{}),vertex:Object.assign({},this.hooks.vertex,r||{}),helpers:Object.assign({},this.hooks.helpers,i||{}),modified:{vertex:s,fragment:a}})}init(){if(!this._initialized){try{this._renderer._initShader(this)}catch(t){throw Error(`Whoops! Something went wrong initializing the shader:
${t.message||t}`)}this._loadAttributes(),this._loadUniforms(),this._renderer._finalizeShader(this),this._initialized=!0}return this}setDefaultUniforms(){for(let t in this.hooks.uniforms){let r,n=this._renderer.uniformNameFromHookKey(t),i=this.hooks.uniforms[t];null!=(r=i instanceof Function?i():i)&&this.setUniform(n,r)}}copyToContext(t){let r=new iP(t._renderer,this._vertSrc,this._fragSrc);return r.ensureCompiledOnContext(t._renderer),r}ensureCompiledOnContext(t){if(0!==this._glProgram&&this._renderer!==t)throw Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");0===this._glProgram&&(this._renderer=t?._renderer?.filterRenderer?._renderer||t,this.init())}_loadAttributes(){this._loadedAttributes||(this.attributes=this._renderer._getShaderAttributes(this),this._loadedAttributes=!0)}_loadUniforms(){if(!this._loadedUniforms){for(let t of(this.uniforms={},this.samplers=[],this._renderer.getUniformMetadata(this))){let r={...t,_cachedData:void 0};r.isSampler&&this.samplers.push(r),this.uniforms[r.name]=r}this._loadedUniforms=!0}}bindShader(t,r){if(this.shaderType&&this.shaderType!==t)throw Error(`You've already used this shader as a ${this.shaderType} shader, but are now using it as a ${t}.`);this.shaderType=t,this.init(),this._bound||(this.useProgram(r),this._bound=!0)}unbindShader(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}bindTextures(){let t=this._renderer._getEmptyTexture();for(let r of this.samplers){if(r.noData)continue;let n=r.texture;(void 0===n||n.isFramebufferTexture&&!n.src.framebuffer.antialias&&n.src.framebuffer===this._renderer.activeFramebuffer())&&(r.texture=n=t),this._renderer._updateTexture(r,n)}}unbindTextures(){for(let t of this.samplers)t.texture?.isFramebufferTexture&&this._renderer._unbindFramebufferTexture(t)}useProgram(t){return this._renderer._curShader!==this&&(this._renderer._useShader(this),this._renderer._curShader=this),this}setUniform(t,r){this.init();let n=this.uniforms[t];if(!n)return;let i=this._renderer._mapUniformData?this._renderer._mapUniformData(n,r):r;if(n.isArray){if(n._cachedData&&this._renderer._arraysEqual(n._cachedData,i))return;n._cachedData=i.slice(0)}else{if(n._cachedData&&n._cachedData===i)return;Array.isArray(i)?n._cachedData=i.slice(0):n._cachedData=i}this._renderer.updateUniformValue(this,n,i)}enableAttrib(t,r,n,i,s,a){return t&&-1!==t.location&&this._renderer._enableAttrib(this,t,r,n,i,s,a),this}}function iL(t,r){t.Shader=iP}function iN(t,r){r.loadShader=async function(t,r,n,i){let s=new iP;try{return s._vertSrc=(await nq(t,"text")).data,s._fragSrc=(await nq(r,"text")).data,n?n(s):s}catch(t){if(i)return i(t);throw t}},r.createShader=function(t,r,n){return new iP(this._renderer,t,r,n)},r.loadFilterShader=async function(t,r,n){try{let n=await this.loadStrings(t),i=await n.join("\n"),s=this.createFilterShader(i,!0);return r&&r(s),s}catch(t){n?n(t):console.error(t)}},r.createFilterShader=function(t,r=!1){let n=t.includes("#version 300 es")?"#version 300 es\n      uniform mat4 uModelViewMatrix;\n      uniform mat4 uProjectionMatrix;\n\n      in vec3 aPosition;\n      in vec2 aTexCoord;\n      out vec2 vTexCoord;\n\n      void main() {\n        // transferring texcoords for the frag shader\n        vTexCoord = aTexCoord;\n\n        // copy position with a fourth coordinate for projection (1.0 is normal)\n        vec4 positionVec4 = vec4(aPosition, 1.0);\n\n        // project to 3D space\n        gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n      }\n    ":"\n      uniform mat4 uModelViewMatrix;\n      uniform mat4 uProjectionMatrix;\n\n      attribute vec3 aPosition;\n      // texcoords only come from p5 to vertex shader\n      // so pass texcoords on to the fragment shader in a varying variable\n      attribute vec2 aTexCoord;\n      varying vec2 vTexCoord;\n\n      void main() {\n        // transferring texcoords for the frag shader\n        vTexCoord = aTexCoord;\n\n        // copy position with a fourth coordinate for projection (1.0 is normal)\n        vec4 positionVec4 = vec4(aPosition, 1.0);\n\n        // project to 3D space\n        gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n      }\n    ",i=new iP(this._renderer,n,t);return r||(this._renderer.GL?i.ensureCompiledOnContext(this._renderer):i.ensureCompiledOnContext(this)),i},r.shader=function(t){return this._assert3d("shader"),this._renderer.shader(t),this},r.strokeShader=function(t){return this._assert3d("strokeShader"),this._renderer.strokeShader(t),this},r.imageShader=function(t){return this._assert3d("imageShader"),this._renderer.imageShader(t),this},r.baseMaterialShader=function(){return this._assert3d("baseMaterialShader"),this._renderer.baseMaterialShader()},r.baseFilterShader=function(){return(this._renderer.filterRenderer||this._renderer).baseFilterShader()},r.baseNormalShader=function(){return this._assert3d("baseNormalShader"),this._renderer.baseNormalShader()},r.baseColorShader=function(){return this._assert3d("baseColorShader"),this._renderer.baseColorShader()},r.baseStrokeShader=function(){return this._assert3d("baseStrokeShader"),this._renderer.baseStrokeShader()},r.resetShader=function(){return this._renderer.resetShader(),this},r.texture=function(t){return this._assert3d("texture"),t.gifProperties&&t._animateGif(this),this._renderer.texture(t),this},r.textureMode=function(t){t!==ey&&t!==ed?console.warn(`You tried to set ${t} textureMode only supports IMAGE & NORMAL `):this._renderer.states.setValue("textureMode",t)},r.textureWrap=function(t,r=t){for(let n of(this._renderer.states.setValue("textureWrapX",t),this._renderer.states.setValue("textureWrapY",r),this._renderer.textures.values()))n.setWrapMode(t,r)},r.normalMaterial=function(...t){return this._assert3d("normalMaterial"),this._renderer.normalMaterial(...t),this},r.ambientMaterial=function(t,n,i){this._assert3d("ambientMaterial");let s=r.color.apply(this,arguments);return this._renderer.states.setValue("_hasSetAmbient",!0),this._renderer.states.setValue("curAmbientColor",s._array),this._renderer.states.setValue("_useNormalMaterial",!1),this._renderer.states.setValue("enableLighting",!0),this._renderer.states.fillColor||this._renderer.states.setValue("fillColor",new rP([1,1,1])),this},r.emissiveMaterial=function(t,n,i,s){this._assert3d("emissiveMaterial");let a=r.color.apply(this,arguments);return this._renderer.states.setValue("curEmissiveColor",a._array),this._renderer.states.setValue("_useEmissiveMaterial",!0),this._renderer.states.setValue("_useNormalMaterial",!1),this._renderer.states.setValue("enableLighting",!0),this},r.specularMaterial=function(t,n,i,s){this._assert3d("specularMaterial");let a=r.color.apply(this,arguments);return this._renderer.states.setValue("curSpecularColor",a._array),this._renderer.states.setValue("_useSpecularMaterial",!0),this._renderer.states.setValue("_useNormalMaterial",!1),this._renderer.states.setValue("enableLighting",!0),this},r.shininess=function(t){return this._assert3d("shininess"),this._renderer.shininess(t),this},r.metalness=function(t){return this._assert3d("metalness"),this._renderer.metalness(t),this},iF.prototype.shader=function(t){this.states.setValue("userFillShader",t),this.states.setValue("_useNormalMaterial",!1),t.ensureCompiledOnContext(this),t.setDefaultUniforms()},iF.prototype.strokeShader=function(t){this.states.setValue("userStrokeShader",t),t.ensureCompiledOnContext(this),t.setDefaultUniforms()},iF.prototype.imageShader=function(t){this.states.setValue("userImageShader",t),t.ensureCompiledOnContext(this),t.setDefaultUniforms()},iF.prototype.resetShader=function(){this.states.setValue("userFillShader",null),this.states.setValue("userStrokeShader",null),this.states.setValue("userImageShader",null)},iF.prototype.texture=function(t){this.states.setValue("drawMode",eg),this.states.setValue("_useNormalMaterial",!1),this.states.setValue("_tex",t),this.states.setValue("fillColor",new rP([1,1,1]))},iF.prototype.normalMaterial=function(){this.states.setValue("drawMode",em),this.states.setValue("_useSpecularMaterial",!1),this.states.setValue("_useEmissiveMaterial",!1),this.states.setValue("_useNormalMaterial",!0),this.states.setValue("curFillColor",[1,1,1,1]),this.states.setValue("fillColor",new rP([1,1,1])),this.states.setValue("strokeColor",null)},iF.prototype.shininess=function(t){t<1&&(t=1),this.states.setValue("_useShininess",t)},iF.prototype.metalness=function(t){let r=1-Math.exp(-t/100);this.states.setValue("_useMetalness",r)}}function iO(t,r){let n=r.DEGREES="degrees",i=r.RADIANS="radians";r._angleMode=i,r.acos=function(t){return this._fromRadians(Math.acos(t))},r.asin=function(t){return this._fromRadians(Math.asin(t))},r.atan=function(t){return this._fromRadians(Math.atan(t))},r.atan2=function(t,r){return this._fromRadians(Math.atan2(t,r))},r.cos=function(t){return Math.cos(this._toRadians(t))},r.sin=function(t){return Math.sin(this._toRadians(t))},r.tan=function(t){return Math.tan(this._toRadians(t))},r.degrees=t=>t*_,r.radians=t=>t*w,r.angleMode=function(t){if(void 0===t)return this._angleMode;if(t===n||t===i){if(t===this._angleMode)return;t===i?(this.pRotationX=this.pRotationX*w,this.pRotationY=this.pRotationY*w,this.pRotationZ=this.pRotationZ*w):(this.pRotationX=this.pRotationX*_,this.pRotationY=this.pRotationY*_,this.pRotationZ=this.pRotationZ*_),this._angleMode=t}},r._toRadians=function(t){return this._angleMode===n?t*w:t},r._toDegrees=function(t){return this._angleMode===i?t*_:t},r._fromRadians=function(t){return this._angleMode===n?t*_:t},r._fromDegrees=function(t){return this._angleMode===i?t*w:t}}void 0!==m&&iL(m),void 0!==m&&loading(m,m.prototype),void 0!==m&&iO(0,m.prototype);class iR{constructor(t,r,n,i,s){return this._pInst=i,this._renderer=new iJ[n||"p2d"](this,t,r,!1,s),this._initializeInstanceVariables(this),this._renderer._applyDefaults(),this}get elt(){return this.canvas}get deltaTime(){return this._pInst.deltaTime}get canvas(){return this._renderer?.canvas}get drawingContext(){return this._renderer.drawingContext}get width(){return this._renderer?.width}get height(){return this._renderer?.height}get pixels(){return this._renderer?.pixels}pixelDensity(t){let r;return"number"==typeof t?(t!==this._renderer._pixelDensity&&(this._renderer._pixelDensity=t),r=this,this.resizeCanvas(this.width,this.height,!0)):r=this._renderer._pixelDensity,r}resizeCanvas(t,r){this._renderer.resize(t,r)}reset(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}remove(){this._renderer.remove(),this._renderer=void 0}createFramebuffer(t){return new i0(this._renderer,t)}_assert3d(t){if(!this._renderer.isP3D)throw Error(`${t}() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information.`)}_initializeInstanceVariables(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._downKeys={}}}class iV{constructor(t,r,n={}){this._renderer=t,this.src=r,this.format=n.format||"rgba8unorm",this.minFilter=n.minFilter||ef,this.magFilter=n.magFilter||ef,this.wrapS=n.wrapS||t.states.textureWrapX,this.wrapT=n.wrapT||t.states.textureWrapY,this.dataType=n.dataType||"uint8",this.textureHandle=null,this._detectSourceType();let i=this._getTextureDataFromSource();this.width=i.width,this.height=i.height,this.init(i)}_detectSourceType(){let t=this.src;this.isFramebufferTexture=t instanceof iQ,this.isSrcP5Image=t instanceof r6,this.isSrcP5Graphics=t instanceof iR,this.isSrcP5Renderer=t instanceof nA,this.isImageData="u">typeof ImageData&&t instanceof ImageData,this.isSrcMediaElement=void 0!==nM&&t instanceof nM,this.isSrcHTMLElement=void 0!==rZ&&t instanceof rZ&&!this.isSrcMediaElement&&!this.isSrcP5Graphics&&!this.isSrcP5Renderer}remove(){this.textureHandle&&(this._renderer.deleteTexture(this.textureHandle),this.textureHandle=null)}_getTextureDataFromSource(){let t;return this.isFramebufferTexture?t=this.src.rawTexture():this.isSrcP5Image?t=this.src.canvas:this.isSrcMediaElement||this.isSrcHTMLElement?(this.src._ensureCanvas&&this.src._ensureCanvas(),t=this.src.elt):this.isSrcP5Graphics||this.isSrcP5Renderer?t=this.src.canvas:this.isImageData&&(t=this.src),t}init(t){this.isFramebufferTexture?this.textureHandle=this._renderer.createFramebufferTextureHandle(this.src):this.textureHandle=this._renderer.createTexture({format:this.format,dataType:this.dataType,width:t.width,height:t.height}),this._renderer.setTextureParams(this,{minFilter:this.minFilter,magFilter:this.magFilter,wrapS:this.wrapS,wrapT:this.wrapT}),this.bindTexture(),this._shouldDeferUpload()?this._renderer.uploadTextureFromData(this.textureHandle,new Uint8Array(1,1,1,1),1,1):this.isFramebufferTexture||this._renderer.uploadTextureFromSource(this.textureHandle,t),this.unbindTexture()}_shouldDeferUpload(){return 0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata}update(){let t=this._getTextureDataFromSource();if(!t)return!1;let r=!1;return this._shouldUpdate(t)&&(this.bindTexture(),this._renderer.uploadTextureFromSource(this.textureHandle,t),r=!0),r}_shouldUpdate(t){let r=this.src;if(0===r.width||0===r.height)return!1;if(this.isFramebufferTexture)return this.src.update(),!1;let n=!1;return t.width!==this.width||t.height!==this.height?(n=!0,this.width=t.width||r.width,this.height=t.height||r.height,this.isSrcP5Image?r.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&r.setModified&&r.setModified(!0)):this.isSrcP5Image?r.isModified()&&(n=!0,r.setModified(!1)):this.isSrcMediaElement?r.isModified()?(n=!0,r.setModified(!1)):r.loadedmetadata&&this._videoPrevUpdateTime!==r.time()&&(this._videoPrevUpdateTime=r.time(),n=!0):this.isImageData?r._dirty&&(r._dirty=!1,n=!0):n=!0,n}bindTexture(){return this._renderer.bindTexture(this),this}unbindTexture(){this._renderer.unbindTexture()}getTexture(){return this.isFramebufferTexture?this.src.rawTexture():this.textureHandle}getSampler(){return this._renderer.getSampler(this)}setInterpolation(t,r){this.minFilter=t,this.magFilter=r,this._renderer.setTextureParams(this)}setWrapMode(t,r){this.wrapS=t,this.wrapT=r,this._renderer.setTextureParams(this)}}class iz extends iV{constructor(t,r,n={}){super(t,r,{minFilter:ef,magFilter:ef,...n}),this.levels=r}_getTextureDataFromSource(){return this.src}init(t){if(Array.isArray(t)){let r=t[0];this.width=r.width,this.height=r.height,this.textureHandle=this._renderer.createMipmapTextureHandle({levels:t,format:this.format,dataType:this.dataType,width:this.width,height:this.height})}else this.width=t.size,this.height=t.size,this.textureHandle=this._renderer.createMipmapTextureHandle({gpuTexture:t.gpuTexture,format:t.format,dataType:"uint8",width:this.width,height:this.height});this._renderer.setTextureParams(this,{minFilter:this.minFilter,magFilter:this.magFilter,wrapS:this.wrapS,wrapT:this.wrapT})}update(){}}function iU(t,r){t.Texture=iV,t.MipmapTexture=iz}function ij(t,r,n,i,s,a,o,l,u,h){let c=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,n);let d=l===r.RGBA?4:3,p=a*o*d,f=u===r.UNSIGNED_BYTE?Uint8Array:Float32Array;if(t instanceof f&&t.length===p||(t=new f(p)),r.readPixels(i,h?h-s-o:s,a,o,l,u,t),r.bindFramebuffer(r.FRAMEBUFFER,c),h){let r=Math.floor(o/2),n=new f(a*d);for(let i=0;i<r;i++){let r=i*a*4,s=(o-i-1)*a*4;n.set(t.subarray(r,r+4*a)),t.copyWithin(r,s,s+4*a),t.set(n,s)}}return t}function iG(t,r,n,i,s,a,o){let l=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,r);let u=s===t.RGBA?4:3,h=new(a===t.UNSIGNED_BYTE?Uint8Array:Float32Array)(u);return t.readPixels(n,o?o-i-1:i,1,1,s,a,h),t.bindFramebuffer(t.FRAMEBUFFER,l),Array.from(h)}function i$(t,r,n){let i,s,a,o,l,h;t.bindTexture();let c=t.minFilter===ex?r.NEAREST:t.minFilter===ev?r.LINEAR_MIPMAP_LINEAR:r.LINEAR,d=t.magFilter===ex?r.NEAREST:r.LINEAR,p=t._getTextureDataFromSource();p.naturalWidth&&p.naturalHeight?(i=p.naturalWidth,s=p.naturalHeight):(i=t.width,s=t.height);let f=!((l=i)&l-1),m=!((h=s)&h-1);t.wrapS===eb?n===u||f&&m?a=r.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),a=r.CLAMP_TO_EDGE):t.wrapS===e_?n===u||f&&m?a=r.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),a=r.CLAMP_TO_EDGE):a=r.CLAMP_TO_EDGE,t.wrapT===eb?n===u||f&&m?o=r.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),o=r.CLAMP_TO_EDGE):t.wrapT===e_?n===u||f&&m?o=r.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),o=r.CLAMP_TO_EDGE):o=r.CLAMP_TO_EDGE,r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,c),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,d),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,a),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,o),t.unbindTexture()}function iH(t,r,n,i,s){let a=r.location;switch(t.useProgram(),r.type){case s.BOOL:!0===n?s.uniform1i(a,1):s.uniform1i(a,0);break;case s.INT:r.size>1?n.length&&s.uniform1iv(a,n):s.uniform1i(a,n);break;case s.FLOAT:r.size>1?n.length&&s.uniform1fv(a,n):s.uniform1f(a,n);break;case s.FLOAT_MAT3:s.uniformMatrix3fv(a,!1,n);break;case s.FLOAT_MAT4:s.uniformMatrix4fv(a,!1,n);break;case s.FLOAT_VEC2:r.size>1?n.length&&s.uniform2fv(a,n):s.uniform2f(a,n[0],n[1]);break;case s.FLOAT_VEC3:r.size>1?n.length&&s.uniform3fv(a,n):s.uniform3f(a,n[0],n[1],n[2]);break;case s.FLOAT_VEC4:r.size>1?n.length&&s.uniform4fv(a,n):s.uniform4f(a,n[0],n[1],n[2],n[3]);break;case s.INT_VEC2:r.size>1?n.length&&s.uniform2iv(a,n):s.uniform2i(a,n[0],n[1]);break;case s.INT_VEC3:r.size>1?n.length&&s.uniform3iv(a,n):s.uniform3i(a,n[0],n[1],n[2]);break;case s.INT_VEC4:r.size>1?n.length&&s.uniform4iv(a,n):s.uniform4i(a,n[0],n[1],n[2],n[3]);break;case s.SAMPLER_2D:if("number"==typeof n){if(n<s.TEXTURE0||n>s.TEXTURE31||n!==Math.ceil(n))return console.log(" p5.js says: You're trying to use a number as the data for a texture.Please use a texture."),this;s.activeTexture(n),s.uniform1i(a,n)}else s.activeTexture(s.TEXTURE0+r.samplerIndex),r.texture=n instanceof iV?n:i(n),s.uniform1i(a,r.samplerIndex),r.texture.src.gifProperties&&r.texture.src._animateGif(this._pInst);break;case s.SAMPLER_CUBE:case s.SAMPLER_3D:case s.SAMPLER_2D_SHADOW:case s.SAMPLER_2D_ARRAY:case s.SAMPLER_2D_ARRAY_SHADOW:case s.SAMPLER_CUBE_SHADOW:case s.INT_SAMPLER_2D:case s.INT_SAMPLER_3D:case s.INT_SAMPLER_CUBE:case s.INT_SAMPLER_2D_ARRAY:case s.UNSIGNED_INT_SAMPLER_2D:case s.UNSIGNED_INT_SAMPLER_3D:case s.UNSIGNED_INT_SAMPLER_CUBE:case s.UNSIGNED_INT_SAMPLER_2D_ARRAY:if("number"!=typeof n)break;if(n<s.TEXTURE0||n>s.TEXTURE31||n!==Math.ceil(n)){console.log(" p5.js says: You're trying to use a number as the data for a texture.Please use a texture.");break}s.activeTexture(n),s.uniform1i(a,n)}}function iW(t,r){let n=t._glProgram,i=r.getProgramParameter(n,r.ACTIVE_UNIFORMS),s=[],a=0;for(let t=0;t<i;++t){let i=r.getActiveUniform(n,t),o={};o.location=r.getUniformLocation(n,i.name),o.size=i.size;let l=i.name;i.size>1&&(l=l.substring(0,l.indexOf("[0]"))),o.name=l,o.type=i.type,o._cachedData=void 0,o.type===r.SAMPLER_2D&&(o.isSampler=!0,o.samplerIndex=a,a++),o.isArray=i.size>1||o.type===r.FLOAT_MAT3||o.type===r.FLOAT_MAT4||o.type===r.FLOAT_VEC2||o.type===r.FLOAT_VEC3||o.type===r.FLOAT_VEC4||o.type===r.INT_VEC2||o.type===r.INT_VEC4||o.type===r.INT_VEC3,s.push(o)}return s}function iq(t,r){let n={},i=r.getProgramParameter(t._glProgram,r.ACTIVE_ATTRIBUTES);for(let s=0;s<i;++s){let i=r.getActiveAttrib(t._glProgram,s),a=i.name,o=r.getAttribLocation(t._glProgram,a),l={};l.name=a,l.location=o,l.index=s,l.type=i.type,l.size=i.size,n[a]=l}return n}function iY(t,r,n){let i="void main";if(!r.includes(i))return r;let[s,a]=r.split(i),o="",l="";for(let r in t.hooks.uniforms)o+=`uniform ${r};
`;if(t.hooks.declarations&&(o+=t.hooks.declarations+"\n"),t.hooks[n].declarations&&(o+=t.hooks[n].declarations+"\n"),t.hooks.varyingVariables&&t.hooks.varyingVariables.length>0)for(let r of t.hooks.varyingVariables)"vertex"===n?o+=`OUT ${r};
`:"fragment"===n&&(o+=`IN ${r};
`);for(let r in t.hooks.helpers)o+=`${r}${t.hooks.helpers[r]}
`;for(let r in t.hooks[n]){if("declarations"===r)continue;let[i,s]=r.split(" ");(t.hooks.modified.vertex[r]||t.hooks.modified.fragment[r])&&(l+="#define AUGMENTED_HOOK_"+s+"\n"),o+=i+" HOOK_"+s+t.hooks[n][r]+"\n"}return -1!==s.indexOf("#define HOOK_DEFINES")&&(s=s.replace("#define HOOK_DEFINES","\n"+l+"\n"),l=""),s+"\n"+l+o+i+a}function iX({GL:t,webglVersion:r}){let n=r===u?t.getExtension("EXT_color_buffer_float")&&t.getExtension("EXT_float_blend"):t.getExtension("OES_texture_float"),i=n&&t.getExtension("OES_texture_float_linear"),s=r===u?t.getExtension("EXT_color_buffer_float"):t.getExtension("OES_texture_half_float");return{float:n,floatLinear:i,halfFloat:s,halfFloatLinear:s&&t.getExtension("OES_texture_half_float_linear")}}void 0!==m&&iU(m);let iK=(t,r,n)=>Math.max(Math.min(t,n),r);class iZ extends ih{constructor(t){super(t.renderer),this.fbo=t,this.yScale=t.renderer.framebufferYScale()}_computeCameraDefaultSettings(){super._computeCameraDefaultSettings(),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}copy(){let t=super.copy();return t.fbo=this.fbo,t}}class iQ{constructor(t,r){this.framebuffer=t,this.property=r}get width(){return this.framebuffer.width*this.framebuffer.density}get height(){return this.framebuffer.height*this.framebuffer.density}update(){this.framebuffer._update(this.property)}rawTexture(){return{texture:this.framebuffer[this.property]}}}let iJ,i0=class{constructor(t,r={}){if(this.renderer=t,this.renderer.framebuffers.add(this),this._isClipApplied=!1,this.dirty={colorTexture:!1,depthTexture:!1},this.pixels=[],this.format=r.format||eM,this.channels=r.channels||(this.renderer.defaultFramebufferAlpha()?rH:rN),this.useDepth=void 0===r.depth||r.depth,this.depthFormat=r.depthFormat||eB,this.textureFiltering=r.textureFiltering||ef,void 0===r.antialias?this.antialiasSamples=2*!!this.renderer.defaultFramebufferAntialias():"number"==typeof r.antialias?this.antialiasSamples=r.antialias:this.antialiasSamples=2*!!r.antialias,this.antialias=this.antialiasSamples>0,this.antialias&&!this.renderer.supportsFramebufferAntialias()&&(console.warn("Framebuffer antialiasing is unsupported in this context"),this.antialias=!1),this.density=r.density||this.renderer._pixelDensity,r.width&&r.height){let t=this.renderer._adjustDimensions(r.width,r.height);this.width=t.adjustedWidth,this.height=t.adjustedHeight,this._autoSized=!1}else void 0===r.width!=(void 0===r.height)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=this.renderer.width,this.height=this.renderer.height,this._autoSized=!0;this.renderer.validateFramebufferFormats(this),r.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(void 0===r.stencil||r.stencil),this.renderer.createFramebufferResources(this),this._recreateTextures(),this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.draw(()=>this.renderer.clear())}resize(t,r){this._autoSized=!1;let n=this.renderer._adjustDimensions(t,r);t=n.adjustedWidth,r=n.adjustedHeight,this.width=t,this.height=r,this._handleResize()}pixelDensity(t){if(!t)return this.density;this._autoSized=!1,this.density=t,this._handleResize()}autoSized(t){if(void 0===t)return this._autoSized;this._autoSized=t,this._handleResize()}_checkIfFormatsAvailable(){let t=this.gl;this.useDepth&&this.renderer.webglVersion===l&&!t.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.renderer.webglVersion===l&&this.depthFormat===eB&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=eI),[eM,eB,eP].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=eM),this.useDepth&&![eI,eB].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=eB);let r=iX(this.renderer);r.float||this.format!==eB||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=eM),this.useDepth&&!r.float&&this.depthFormat===eB&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=eI),r.halfFloat||this.format!==eP||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=eM),this.channels===rN&&[eB,eP].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=rH)}_deleteTextures(){this.renderer.deleteFramebufferTextures(this)}_recreateTextures(){this._updateSize(),this.renderer.recreateFramebufferTextures(this),this.useDepth&&(this.depth=new iQ(this,"depthTexture"),this.depthP5Texture=new iV(this.renderer,this.depth,{minFilter:ex,magFilter:ex}),this.renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new iQ(this,"colorTexture");let t=this.textureFiltering===ef?ef:ex;this.colorP5Texture=new iV(this.renderer,this.color,{minFilter:t,magFilter:t}),this.renderer.textures.set(this.color,this.colorP5Texture)}_updateSize(){this._autoSized&&(this.width=this.renderer.width,this.height=this.renderer.height,this.density=this.renderer._pixelDensity)}_canvasSizeChanged(){this._autoSized&&this._handleResize()}_handleResize(){this._deleteTextures(),this._recreateTextures(),this.defaultCamera._resize()}createCamera(){let t=new iZ(this);return t._computeCameraDefaultSettings(),t._setDefaultCamera(),t}remove(){this._deleteTextures(),this.renderer.deleteFramebufferResources(this),this.renderer.framebuffers.delete(this)}begin(){this.prevFramebuffer=this.renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.renderer.activeFramebuffers.push(this),this._beforeBegin(),this.renderer.push(),this.renderer.states.setValue("curCamera",this.defaultCamera),this.renderer.states.setValue("uPMatrix",this.renderer.states.uPMatrix.clone()),this.renderer.states.uPMatrix.set(this.defaultCamera.projMatrix),this.renderer.states.setValue("uViewMatrix",this.renderer.states.uViewMatrix.clone()),this.renderer.states.uViewMatrix.set(this.defaultCamera.cameraMatrix),this.renderer.resetMatrix(),this.renderer.states.uViewMatrix.set(this.renderer.states.curCamera.cameraMatrix),this.renderer.states.uModelMatrix.reset(),this.renderer._applyStencilTestIfClipping()}_framebufferToBind(){return this.renderer.getFramebufferToBind(this)}_update(t){this.dirty[t]&&(this.renderer.updateFramebufferTexture(this,t),this.dirty[t]=!1)}_beforeBegin(){this.renderer.bindFramebuffer(this),this.renderer.viewport(this.width*this.density,this.height*this.density),this.renderer.flushDraw&&this.renderer.flushDraw()}_beforeEnd(){this.antialias&&(this.dirty={colorTexture:!0,depthTexture:!0}),this.renderer.flushDraw&&this.renderer.flushDraw()}end(){if(this.renderer.pop(),this.renderer.activeFramebuffers.pop()!==this)throw Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(this.renderer.bindFramebuffer(null),this.renderer.viewport(this.renderer._origViewport.width,this.renderer._origViewport.height)),this.renderer._applyStencilTestIfClipping()}draw(t){this.begin(),t(),this.end()}loadPixels(){this._update("colorTexture");let t=this.renderer.readFramebufferPixels(this);return t&&"function"==typeof t.then?t.then(t=>(this.pixels=t,t)):(this.pixels=t,t)}get(t,r,n,i){if(this._update("colorTexture"),void 0===t&&void 0===r)t=0,r=0,n=this.width,i=this.height;else if(void 0===n&&void 0===i)return(t<0||r<0||t>=this.width||r>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),t=iK(t,0,this.width-1),r=iK(r,0,this.height-1)),this.renderer.readFramebufferPixel(this,t*this.density,r*this.density);return t=iK(t,0,this.width-1),r=iK(r,0,this.height-1),n=iK(n,1,this.width-t),i=iK(i,1,this.height-r),this.renderer.readFramebufferRegion(this,t,r,n,i)}updatePixels(){this.renderer.updateFramebufferPixels(this)}};function i1(t,r){t.FramebufferCamera=iZ,t.FramebufferTexture=iQ,t.Framebuffer=i0}function i2(t,r){t.renderers||(t.renderers={}),iJ=t.renderers,r.createCanvas=function(t,r,n,...i){let s="p2d";return Reflect.ownKeys(iJ).includes(n)?s=n:i.unshift(n),this._renderer&&this._renderer.remove(),this._renderer=new iJ[s](this,t,r,!0,...i),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer),this._renderer._applyDefaults(),Object.hasOwn(this,"pixels")||Object.defineProperty(this,"pixels",{get(){return this._renderer?.pixels}}),this._renderer.contextReady?this._renderer.contextReady.then(()=>this._renderer):this._renderer},r.resizeCanvas=function(t,r,n){this._renderer&&(this._renderer.resize(t,r),n||this.redraw()),this._addAccsOutput()&&this._updateAccsOutput()},r.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},r.createGraphics=function(r,n,...i){return i[0]instanceof HTMLCanvasElement&&(i[1]=i[0],i[0]="p2d"),new t.Graphics(r,n,i[0],this,i[1])},r.createFramebuffer=function(t){return new i0(this._renderer,t)},r.clearDepth=function(t){this._assert3d("clearDepth"),this._renderer.clearDepth(t)}}void 0!==m&&i1(m),void 0!==m&&i2(m,m.prototype);var i5="precision highp float;\n\nuniform sampler2D tex0;\nuniform vec2 canvasSize;\nuniform vec2 texelSize;\n\nIN vec2 vTexCoord;\n\nstruct FilterInputs {\n  vec2 texCoord;\n  vec2 canvasSize;\n  vec2 texelSize;\n};\n\nvoid main(void) {\n  FilterInputs inputs;\n  inputs.texCoord = vTexCoord;\n  inputs.canvasSize = canvasSize;\n  inputs.texelSize = texelSize;\n  OUT_COLOR = HOOK_getColor(inputs, tex0);\n  OUT_COLOR.rgb *= outColor.a;\n}\n",i3="precision highp int;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nIN vec3 aPosition;\nIN vec2 aTexCoord;\nOUT vec2 vTexCoord;\n\nvoid main() {\n  // transferring texcoords for the frag shader\n  vTexCoord = aTexCoord;\n\n  // copy position with a fourth coordinate for projection (1.0 is normal)\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // project to 3D space\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n}\n",i4="#ifdef WEBGL2\n\n#define IN in\n#define OUT out\n\n#ifdef FRAGMENT_SHADER\nout vec4 outColor;\n#define OUT_COLOR outColor\n#endif\n#define TEXTURE texture\n\n#else\n\n#ifdef FRAGMENT_SHADER\n#define IN varying\n#else\n#define IN attribute\n#endif\n#define OUT varying\n#define TEXTURE texture2D\n\n#ifdef FRAGMENT_SHADER\n#define OUT_COLOR gl_FragColor\n#endif\n\n#endif\n\n#ifdef FRAGMENT_SHADER\nvec4 getTexture(in sampler2D content, vec2 coord) {\n  vec4 color = TEXTURE(content, coord);\n  if (color.a > 0.) color.rgb /= color.a;\n  return color;\n}\n#endif\n";let i6={OPERATION:"operation",LITERAL:"literal",VARIABLE:"variable",CONSTANT:"constant",STRUCT:"struct",PHI:"phi",STATEMENT:"statement",ASSIGNMENT:"assignment"},i8=Object.fromEntries(Object.entries(i6).map(([t,r])=>[r,t])),i9={[i6.OPERATION]:["opCode","dependsOn","dimension","baseType"],[i6.LITERAL]:["value","dimension","baseType"],[i6.VARIABLE]:["identifier","dimension","baseType"],[i6.CONSTANT]:["value","dimension","baseType"],[i6.STRUCT]:[""],[i6.PHI]:["dependsOn","phiBlocks","dimension","baseType"],[i6.STATEMENT]:["statementType"],[i6.ASSIGNMENT]:["dependsOn"]},i7="discard",se="break",st="early_return",sr="expression",sn="empty",si="float",ss="bool",sa="defer",so="sampler2D",sl="sampler",su={[si]:3,int:2,[ss]:1,mat:0,[sa]:-1,[so]:-10,[sl]:-11},sh={float1:{fnName:"float",baseType:si,dimension:1,priority:3},float2:{fnName:"vec2",baseType:si,dimension:2,priority:3},float3:{fnName:"vec3",baseType:si,dimension:3,priority:3},float4:{fnName:"vec4",baseType:si,dimension:4,priority:3},int1:{fnName:"int",baseType:"int",dimension:1,priority:2},int2:{fnName:"ivec2",baseType:"int",dimension:2,priority:2},int3:{fnName:"ivec3",baseType:"int",dimension:3,priority:2},int4:{fnName:"ivec4",baseType:"int",dimension:4,priority:2},bool1:{fnName:"bool",baseType:ss,dimension:1,priority:1},bool2:{fnName:"bvec2",baseType:ss,dimension:2,priority:1},bool3:{fnName:"bvec3",baseType:ss,dimension:3,priority:1},bool4:{fnName:"bvec4",baseType:ss,dimension:4,priority:1},mat2:{fnName:"mat2x2",baseType:"mat",dimension:2,priority:0},mat3:{fnName:"mat3x3",baseType:"mat",dimension:3,priority:0},mat4:{fnName:"mat4x4",baseType:"mat",dimension:4,priority:0},defer:{fnName:null,baseType:sa,dimension:null,priority:-1},sampler2D:{fnName:"sampler2D",baseType:so,dimension:1,priority:-10},sampler:{fnName:"sampler",baseType:sl,dimension:1,priority:-11}},sc=function(t){let r=void 0===t.type?t:t.type,n={name:t.name,properties:[],typeName:r.typeName};for(let t of r.properties){let r=t.type.dataType;n.properties.push({name:t.name,dataType:r})}return n};function sd(t){return!(!t||!t.properties)}let sp={baseType:si,dimension:null,priority:3},sf={baseType:"int",dimension:null,priority:2},sm={baseType:ss,dimension:null,priority:1},sg=Object.fromEntries(Object.values(sh).filter(t=>null!==t.fnName).map(t=>[t.fnName,t])),sy=[{arity:"unary",name:"not",symbol:"!",opCode:100},{arity:"unary",name:"neg",symbol:"-",opCode:101},{arity:"unary",name:"plus",symbol:"+",opCode:102},{arity:"binary",name:"add",symbol:"+",opCode:0},{arity:"binary",name:"sub",symbol:"-",opCode:1},{arity:"binary",name:"mult",symbol:"*",opCode:2},{arity:"binary",name:"div",symbol:"/",opCode:3},{arity:"binary",name:"mod",symbol:"%",opCode:4},{arity:"binary",name:"equalTo",symbol:"==",opCode:5},{arity:"binary",name:"notEqual",symbol:"!=",opCode:6},{arity:"binary",name:"greaterThan",symbol:">",opCode:7},{arity:"binary",name:"greaterEqual",symbol:">=",opCode:8},{arity:"binary",name:"lessThan",symbol:"<",opCode:9},{arity:"binary",name:"lessEqual",symbol:"<=",opCode:10},{arity:"binary",name:"and",symbol:"&&",opCode:11},{arity:"binary",name:"or",symbol:"||",opCode:12}],sv={},sx={};for(let{symbol:t,opCode:r,name:n,arity:i}of sy)sv[r]=t,"unary"===i&&(sx[t]=n);let sb={GLOBAL:"global",FUNCTION:"function",BRANCH:"branch",IF_COND:"if_cond",IF_BODY:"if_body",ELSE_COND:"else_cond",SCOPE_START:"scope_start",SCOPE_END:"scope_end",FOR:"for",MERGE:"merge",DEFAULT:"default"};function sw(t){throw Error(`[p5.strands internal error]: ${t}`)}function s_(t,r){throw Error(`[p5.strands ${t}]: ${r}`)}function sC(){return{nextID:0,cache:new Map,nodeTypes:[],baseTypes:[],dimensions:[],opCodes:[],values:[],identifiers:[],phiBlocks:[],dependsOn:[],usedBy:[],statementTypes:[],swizzles:[]}}function sS(t,r){var n=t,i=r;let s=n.nextID++;for(let t of(n.nodeTypes[s]=i.nodeType,n.opCodes[s]=i.opCode,n.values[s]=i.value,n.identifiers[s]=i.identifier,n.dependsOn[s]=i.dependsOn.slice(),n.usedBy[s]=i.usedBy,n.phiBlocks[s]=i.phiBlocks.slice(),n.baseTypes[s]=i.baseType,n.dimensions[s]=i.dimension,n.statementTypes[s]=i.statementType,n.swizzles[s]=i.swizzle,i.dependsOn))Array.isArray(n.usedBy[t])||(n.usedBy[t]=[]),n.usedBy[t].push(s);return s}function sE(t={}){let r={nodeType:t.nodeType??null,baseType:t.baseType??null,dimension:t.dimension??null,opCode:t.opCode??null,value:t.value??null,identifier:t.identifier??null,statementType:t.statementType??null,swizzle:t.swizzle??null,dependsOn:Array.isArray(t.dependsOn)?t.dependsOn:[],usedBy:Array.isArray(t.usedBy)?t.usedBy:[],phiBlocks:Array.isArray(t.phiBlocks)?t.phiBlocks:[]};return function(t){let r=t.nodeType,n=i9[r];2===n.length&&sw(`Required fields for node type '${i8[r]}' not defined. Please add them to the utils.js file in p5.strands!`);let i=[];for(let r of n)null===t[r]&&i.push(r);if(t.dependsOn?.some(t=>void 0===t))throw Error("Undefined dependency!");i.length>0&&sw(`Missing fields ${i.join(", ")} for a node type '${i8[r]}'.`)}(r),r}function sD(t,r){return{id:r,nodeType:t.nodeTypes[r],opCode:t.opCodes[r],value:t.values[r],identifier:t.identifiers[r],dependsOn:t.dependsOn[r],usedBy:t.usedBy[r],phiBlocks:t.phiBlocks[r],dimension:t.dimensions[r],baseType:t.baseTypes[r],statementType:t.statementTypes[r],swizzle:t.swizzles[r]}}function sA(t,r){return{baseType:t.baseTypes[r],dimension:t.dimensions[r],priority:su[t.baseTypes[r]]}}function sk(t,r){t.blockStack.push(r),t.blockOrder.push(r),t.currentBlock=r}function sT(t){t.blockStack.pop();let r=t.blockStack.length;t.currentBlock=t.blockStack[r-1]}function sF(t,r){t.blockStack.push(r),t.currentBlock=r}function sM(t,r){let n=t.nextID++;return t.blockTypes[n]=r,t.incomingEdges[n]=[],t.outgoingEdges[n]=[],t.blockInstructions[n]=[],n}function sI(t,r,n){t.outgoingEdges[r].push(n),t.incomingEdges[n].push(r)}function sB(t,r,n){void 0===n&&sw("undefined nodeID in `recordInBasicBlock()`"),void 0===r&&sw("undefined blockID in `recordInBasicBlock()"),t.blockInstructions[r]=t.blockInstructions[r]||[],t.blockInstructions[r].push(n)}Object.fromEntries(Object.entries(sb).map(([t,r])=>[r,t]));class sP{constructor(t,r,n){this.id=t,this.strandsContext=n,this.dimension=r,this.isStrandsNode=!0;let i=sD(this.strandsContext.dag,this.id);i&&i.identifier&&(this._originalIdentifier=i.identifier),i&&(this._originalBaseType=i.baseType,this._originalDimension=i.dimension)}copy(){return sL(this.id,this.dimension,this.strandsContext)}typeInfo(){return{baseType:this._originalBaseType||si,dimension:this.dimension}}bridge(t){let r,{dag:n,cfg:i}=this.strandsContext,s=sD(n,this.id),a=s?.baseType??si;if(r=t instanceof sP?t.id:sU(this.strandsContext,{baseType:a,dimension:this.dimension},t).id,this._originalIdentifier){let{id:t}=sO(this.strandsContext,{baseType:this._originalBaseType,dimension:this._originalDimension},this._originalIdentifier),s=sS(n,sE({nodeType:i6.ASSIGNMENT,dependsOn:[t,r],phiBlocks:[]}));sB(i,i.currentBlock,s),this.strandsContext.globalAssignments.push(s);let a=sS(n,sE({nodeType:i6.VARIABLE,baseType:this._originalBaseType,dimension:this._originalDimension,identifier:this._originalIdentifier}));this.id=a}else this.id=r;return this}bridgeSwizzle(t,r){let n,{dag:i,cfg:s}=this.strandsContext,a=sD(i,this.id),o=a?.baseType??si;if(n=r instanceof sP?r.id:sU(this.strandsContext,{baseType:o,dimension:this.dimension},r).id,this._originalIdentifier){let{id:r}=sO(this.strandsContext,{baseType:this._originalBaseType,dimension:this._originalDimension},this._originalIdentifier),a=sS(i,sE({nodeType:i6.OPERATION,opCode:103,baseType:this._originalBaseType,dimension:t.length,swizzle:t,dependsOn:[r]})),o=sS(i,sE({nodeType:i6.ASSIGNMENT,dependsOn:[a,n],phiBlocks:[]}));sB(s,s.currentBlock,o),this.strandsContext.globalAssignments.push(o);let l=sS(i,sE({nodeType:i6.VARIABLE,baseType:this._originalBaseType,dimension:this._originalDimension,identifier:this._originalIdentifier}));this.id=l}else this.id=n;return this}getValue(){if(this._originalIdentifier){let{id:t,dimension:r}=sO(this.strandsContext,{baseType:this._originalBaseType,dimension:this._originalDimension},this._originalIdentifier);return sL(t,r,this.strandsContext)}return this}}function sL(t,r,n,i){let s;return new Proxy(new sP(t,r,n),(s=[["x","y","z","w"],["r","g","b","a"],["s","t","p","q"]].map(t=>t.slice(0,r)),{get(t,r,i){if(r in t)return Reflect.get(...arguments);for(let i of s)if([...r.toString()].every(t=>i.includes(t))){let a=s$(n,t,[...r].map(t=>{let r=i.indexOf(t);return s[0][r]}).join(""));return sL(a.id,a.dimension,n)}},set(t,r,a,o){for(let o of s){let s=[...r];if(!(s.every(t=>o.includes(t))&&new Set(s).size===s.length&&t.dimension>=s.length))continue;let l=t.dimension,u=Array(l);for(let r=0;r<l;r++){let{id:i,dimension:s}=s$(n,t,"xyzw"[r]);u[r]=sL(i,s,n)}let h=[];if(a instanceof sP)if(1===a.dimension)h=Array(s.length).fill(a);else if(a.dimension===s.length)for(let t=0;t<s.length;t++){let{id:r,dimension:i}=s$(n,a,"xyzw"[t]);h.push(sL(r,i,n))}else s_("type error",`Swizzle assignment: RHS vector does not match LHS vector (need ${s.length}, got ${a.dimension}).`);else if(Array.isArray(a)){let t=a.flat(1/0);1===t.length?h=Array(s.length).fill(t[0]):t.length===s.length?h=t:s_("type error",`Swizzle assignment: RHS length ${t.length} does not match ${s.length}.`)}else"number"==typeof a?h=Array(s.length).fill(a):s_("type error",`Unsupported RHS for swizzle assignment: ${a}`);for(let t=0;t<s.length;t++)u[o.indexOf(s[t])]=h[t];let c=sD(n.dag,t.id),{id:d}=sU(n,{baseType:c?.baseType??si,dimension:l},u);return t.id=d,"function"==typeof i&&i(d),!0}return Reflect.set(...arguments)}}))}let sN={acos:[{params:[sp],returnType:sp,isp5Function:!0}],acosh:[{params:[sp],returnType:sp,isp5Function:!1}],asin:[{params:[sp],returnType:sp,isp5Function:!0}],asinh:[{params:[sp],returnType:sp,isp5Function:!1}],atan:[{params:[sp],returnType:sp,isp5Function:!0},{params:[sp,sp],returnType:sp,isp5Function:!0}],atanh:[{params:[sp],returnType:sp,isp5Function:!1}],cos:[{params:[sp],returnType:sp,isp5Function:!0}],cosh:[{params:[sp],returnType:sp,isp5Function:!1}],degrees:[{params:[sp],returnType:sp,isp5Function:!0}],radians:[{params:[sp],returnType:sp,isp5Function:!0}],sin:[{params:[sp],returnType:sp,isp5Function:!0}],sinh:[{params:[sp],returnType:sp,isp5Function:!1}],tan:[{params:[sp],returnType:sp,isp5Function:!0}],tanh:[{params:[sp],returnType:sp,isp5Function:!1}],abs:[{params:[sp],returnType:sp,isp5Function:!0},{params:[sp],returnType:sf,isp5Function:!0}],ceil:[{params:[sp],returnType:sp,isp5Function:!0}],clamp:[{params:[sp,sp,sp],returnType:sp,isp5Function:!1},{params:[sp,sh.float1,sh.float1],returnType:sp,isp5Function:!1},{params:[sf,sf,sf],returnType:sf,isp5Function:!1},{params:[sf,sh.int1,sh.int1],returnType:sf,isp5Function:!1}],dFdx:[{params:[sp],returnType:sp,isp5Function:!1}],dFdy:[{params:[sp],returnType:sp,isp5Function:!1}],exp:[{params:[sp],returnType:sp,isp5Function:!0}],exp2:[{params:[sp],returnType:sp,isp5Function:!1}],floor:[{params:[sp],returnType:sp,isp5Function:!0}],fma:[{params:[sp,sp,sp],returnType:sp,isp5Function:!1}],fract:[{params:[sp],returnType:sp,isp5Function:!0}],fwidth:[{params:[sp],returnType:sp,isp5Function:!1}],inversesqrt:[{params:[sp],returnType:sp,isp5Function:!0}],log:[{params:[sp],returnType:sp,isp5Function:!0}],log2:[{params:[sp],returnType:sp,isp5Function:!1}],max:[{params:[sp,sp],returnType:sp,isp5Function:!0},{params:[sp,sh.float1],returnType:sp,isp5Function:!0},{params:[sf,sf],returnType:sf,isp5Function:!0},{params:[sf,sh.int1],returnType:sf,isp5Function:!0}],min:[{params:[sp,sp],returnType:sp,isp5Function:!0},{params:[sp,sh.float1],returnType:sp,isp5Function:!0},{params:[sf,sf],returnType:sf,isp5Function:!0},{params:[sf,sh.int1],returnType:sf,isp5Function:!0}],mix:[{params:[sp,sp,sp],returnType:sp,isp5Function:!1},{params:[sp,sp,sh.float1],returnType:sp,isp5Function:!1},{params:[sp,sp,sm],returnType:sp,isp5Function:!1}],mod:[{params:[sp,sp],returnType:sp,isp5Function:!0},{params:[sp,sh.float1],returnType:sp,isp5Function:!0}],pow:[{params:[sp,sp],returnType:sp,isp5Function:!0}],round:[{params:[sp],returnType:sp,isp5Function:!0}],roundEven:[{params:[sp],returnType:sp,isp5Function:!1}],sign:[{params:[sp],returnType:sp,isp5Function:!1},{params:[sf],returnType:sf,isp5Function:!1}],smoothstep:[{params:[sp,sp,sp],returnType:sp,isp5Function:!1},{params:[sh.float1,sh.float1,sp],returnType:sp,isp5Function:!1}],sqrt:[{params:[sp],returnType:sp,isp5Function:!0}],step:[{params:[sp,sp],returnType:sp,isp5Function:!1}],trunc:[{params:[sp],returnType:sp,isp5Function:!1}],cross:[{params:[sh.float3,sh.float3],returnType:sh.float3,isp5Function:!0}],distance:[{params:[sp,sp],returnType:sh.float1,isp5Function:!0}],dot:[{params:[sp,sp],returnType:sh.float1,isp5Function:!0}],equal:[{params:[sp,sp],returnType:sm,isp5Function:!1},{params:[sf,sf],returnType:sm,isp5Function:!1},{params:[sm,sm],returnType:sm,isp5Function:!1}],faceforward:[{params:[sp,sp,sp],returnType:sp,isp5Function:!1}],length:[{params:[sp],returnType:sh.float1,isp5Function:!1}],normalize:[{params:[sp],returnType:sp,isp5Function:!0}],notEqual:[{params:[sp,sp],returnType:sm,isp5Function:!1},{params:[sf,sf],returnType:sm,isp5Function:!1},{params:[sm,sm],returnType:sm,isp5Function:!1}],reflect:[{params:[sp,sp],returnType:sp,isp5Function:!1}],refract:[{params:[sp,sp,sh.float1],returnType:sp,isp5Function:!1}]};function sO(t,r,n){let{cfg:i,dag:s}=t,{dimension:a,baseType:o}=r,l=sS(s,sE({nodeType:i6.VARIABLE,dimension:a,baseType:o,identifier:n}));return sB(i,i.currentBlock,l),{id:l,dimension:a}}function sR(t,r,n,i){let{cfg:s,dag:a}=t;if(0===i.length)for(let t of r.properties){let r=t.dataType,o=sS(a,sE({nodeType:i6.VARIABLE,baseType:r.baseType,dimension:r.dimension,identifier:`${n}.${t.name}`}));sB(s,s.currentBlock,o),i.push(o)}let o=sS(a,sE({nodeType:i6.VARIABLE,dimension:r.properties.length,baseType:r.typeName,identifier:n,dependsOn:i}));return sB(s,s.currentBlock,o),{id:o,dimension:0,components:i}}function sV(t,r,n){let i=Array.isArray(n)?n:[n],s=[],{dimension:a,baseType:o}=r,l=t.dag,u=0,h=null;for(let r of i.flat(1/0))if(r&&r.isStrandsNode){let t=sD(l,r.id);if(h=r.id,o=t.baseType,201===t.opCode)for(let r of t.dependsOn)s.push(r);else s.push(r.id);u+=t.dimension}else if("number"!=typeof r)s_("type error",`You've tried to construct a scalar or vector type with a non-numeric value: ${r}`);else{let{id:n,dimension:i}=function(t,r,n){let{cfg:i,dag:s}=t,{dimension:a,baseType:o}=r;1!==a&&sw("Created a scalar literal node with dimension > 1.");let l=sS(s,sE({nodeType:i6.LITERAL,dimension:a,baseType:o,value:n}));return sB(i,i.currentBlock,l),{id:l,dimension:a}}(t,{dimension:1,baseType:o},r);s.push(n),u+=i}return null===a?a=u:a>u&&1===u?u=a:1!==u&&u!==a&&s_("type error",`You've tried to construct a ${o+a} with ${u} components`),{originalNodeID:h,mappedDependencies:s,inferredTypeInfo:{dimension:a,baseType:o,priority:su[o]}}}function sz(t,r,n){let i=sE({nodeType:i6.OPERATION,opCode:201,dimension:r.dimension,baseType:r.baseType,dependsOn:n});return sS(t.dag,i)}function sU(t,r,n){let i=t.cfg,{mappedDependencies:s,inferredTypeInfo:a}=sV(t,r,n),o={baseType:r.baseType,dimension:a.dimension},l=sz(t,o,s);return r.baseType!==sa&&sB(i,i.currentBlock,l),{id:l,dimension:o.dimension,components:s}}function sj(t,r,n,{overloads:i}={}){var s;let{cfg:a,dag:o}=t,l=i||sN[r],u=n.map(r=>sV(t,sh.defer,r)),h=l.filter(t=>t.params.length===u.length);if(0===h.length){let t=new Set,n=[];l.forEach(r=>t.add(r.params.length)),t.forEach(t=>n.push(`${t}`));let i=n.join(", or ");s_("parameter validation error",`Function '${r}' has ${l.length} variants which expect ${i} arguments, but ${u.length} arguments were provided.`)}let c=t=>null===t.dimension,d=null,p=0,f=null,m=null;for(let t of h){let r=!0,n=0;for(let i=0;i<u.length;i++){let s=u[i].inferredTypeInfo,a=t.params[i],o=a.dimension;c(a)?(null!==m&&1!==m||(m=s.dimension),m===s.dimension||1===s.dimension&&m>=1||(r=!1),o=m):s.dimension>o&&(r=!1),s.baseType===a.baseType?n+=2:a.priority>s.priority&&(n+=1)}r&&(!d||n>p)&&(d=t,p=n,c(f={...t.returnType})&&(f.dimension=m))}null===d&&s_("parameter validation",`No matching overload for ${r} was found!`);let g=[];for(let r=0;r<d.params.length;r++){let n=u[r],i={...d.params[r]};if(c(i)&&(i.dimension=m),n.originalNodeID&&(s=n.inferredTypeInfo).dimension===i.dimension&&s.baseType===i.baseType)g.push(n.originalNodeID);else{let r=sz(t,i,n.mappedDependencies);sB(a,a.currentBlock,r),g.push(r)}}let y=sS(o,sE({nodeType:i6.OPERATION,opCode:200,identifier:r,dependsOn:g,baseType:f.baseType,dimension:f.dimension}));return sB(a,a.currentBlock,y),{id:y,dimension:f.dimension}}function sG(t,r){let{dag:n,cfg:i}=t,s=sS(n,sE({nodeType:i6.STATEMENT,statementType:r}));return sB(i,i.currentBlock,s),s}function s$(t,r,n){let{dag:i,cfg:s}=t,a=i.baseTypes[r.id],o=sS(i,sE({nodeType:i6.OPERATION,baseType:a,dimension:n.length,opCode:103,dependsOn:[r.id],swizzle:n}));return sB(s,s.currentBlock,o),{id:o,dimension:n.length}}function sH(t,r){return t.nodeTypes[r]===i6.OPERATION&&t.baseTypes[r]!==so&&(t.usedBy[r]||[]).length>1}let sW={float1:"float",float2:"vec2",float3:"vec3",float4:"vec4",int1:"int",int2:"ivec2",int3:"ivec3",int4:"ivec4",bool1:"bool",bool2:"bvec2",bool3:"bvec3",bool4:"bvec4",mat2:"mat2x2",mat3:"mat3x3",mat4:"mat4x4"},sq={[sb.DEFAULT]:(t,r,n)=>{let{dag:i,cfg:s}=r;for(let r of s.blockInstructions[t]||[]){let t=i.nodeTypes[r];if(sH(i,r)){let t=sY.generateDeclaration(n,i,r);n.write(t)}t===i6.STATEMENT&&sY.generateStatement(n,i,r),t===i6.ASSIGNMENT&&(sY.generateAssignment(n,i,r),n.visitedNodes.add(r))}},[sb.BRANCH](t,r,n){let{dag:i,cfg:s}=r;for(let r of s.blockInstructions[t]||[]){let t=sD(i,r);if(t.nodeType===i6.PHI){let s=t.dependsOn||[];if(s.length>0){let t=s[0],i=n.tempNames[t];if(i){n.tempNames[r]=i;continue}}let a="T"+n.nextTempID++;n.tempNames[r]=a;let o=sA(i,r),l=sY.getTypeName(o.baseType,o.dimension);n.write(`${l} ${a};`)}}this[sb.DEFAULT](t,r,n)},[sb.IF_COND](t,r,n){let{dag:i,cfg:s}=r,a=s.blockConditions[t],o=sY.generateExpression(n,i,a);n.write(`if (${o})`),this[sb.DEFAULT](t,r,n)},[sb.ELSE_COND](t,r,n){n.write("else"),this[sb.DEFAULT](t,r,n)},[sb.IF_BODY](t,r,n){this[sb.DEFAULT](t,r,n),this.assignPhiNodeValues(t,r,n)},[sb.SCOPE_START](t,r,n){n.write("{"),n.indent++},[sb.SCOPE_END](t,r,n){n.indent--,n.write("}")},[sb.MERGE](t,r,n){this[sb.DEFAULT](t,r,n)},[sb.FUNCTION](t,r,n){this[sb.DEFAULT](t,r,n)},[sb.FOR](t,r,n){let{dag:i,cfg:s}=r,a=s.blockInstructions[t]||[];n.write("for (");let o=n.suppressSemicolon;for(let t=0;t<a.length;t++){let r=a[t],s=sD(i,r);if(n.suppressSemicolon=t===a.length-1,sH(i,r)){let t=sY.generateDeclaration(n,i,r);n.write(t)}s.nodeType===i6.STATEMENT&&sY.generateStatement(n,i,r),s.nodeType===i6.ASSIGNMENT&&(sY.generateAssignment(n,i,r),n.visitedNodes.add(r))}n.suppressSemicolon=o,n.write(")")},assignPhiNodeValues(t,r,n){let{dag:i,cfg:s}=r;for(let r of s.outgoingEdges[t]||[])for(let a of s.blockInstructions[r]||[]){let r=sD(i,a);if(r.nodeType===i6.PHI){let s=r.phiBlocks?.indexOf(t);if(-1!==s&&s<r.dependsOn.length){let t=r.dependsOn[s],o=n.tempNames[a];if(o&&null!==t){let r=sY.generateExpression(n,i,t);n.write(`${o} = ${r};`)}}}}}},sY={hookEntry:t=>`(${t.parameters.flatMap(t=>`${t.qualifiers?.length?t.qualifiers.join(" "):""}${t.type.typeName} ${t.name}`).join(", ")}) {`,getTypeName:(t,r)=>sW[t+r]||t,generateHookUniformKey(t,r){return`${this.getTypeName(r.baseType,r.dimension)} ${t}`},generateVaryingVariable:(t,r)=>`${r.fnName} ${t}`,generateLocalDeclaration:(t,r)=>`${r.fnName} ${t};`,generateStatement(t,r,n){let i=sD(r,n),s=t.suppressSemicolon?"":";";if(i.statementType===i7)t.write(`discard${s}`);else if(i.statementType===se)t.write(`break${s}`);else if(i.statementType===sr){let n=i.dependsOn[0],a=this.generateExpression(t,r,n);t.write(`${a}${s}`)}else if(i.statementType===sn)t.write(s);else if(i.statementType===st){let n=i.dependsOn[0],a=this.generateExpression(t,r,n);t.write(`return ${a}${s}`)}},generateAssignment(t,r,n){let i=sD(r,n),s=i.dependsOn[0],a=i.dependsOn[1],o=this.generateExpression(t,r,s),l=this.generateExpression(t,r,a),u=t.suppressSemicolon?"":";";o&&l&&o!==l&&t.write(`${o} = ${l}${u}`)},generateDeclaration(t,r,n){let i=this.generateExpression(t,r,n),s="T"+t.nextTempID++;t.tempNames[n]=s;let a=sA(r,n);return`${this.getTypeName(a.baseType,a.dimension)} ${s} = ${i};`},generateReturnStatement(t,r,n,i){let s=t.dag,a=sD(s,n);if(sd(i))for(let t=0;t<i.properties.length;t++){let n=i.properties[t],o=this.generateExpression(r,s,a.dependsOn[t]);n.name!==o&&r.write(`${a.identifier}.${n.name} = ${o};`)}r.write(`return ${this.generateExpression(r,s,n)};`)},generateExpression(t,r,n){let i=sD(r,n);if(t.tempNames?.[n])return t.tempNames[n];switch(i.nodeType){case i6.LITERAL:return i.baseType===si?i.value.toFixed(4):i.value;case i6.VARIABLE:if(t.shaderContext&&t.strandsContext?.sharedVariables?.has(i.identifier)){let r=t.strandsContext.sharedVariables.get(i.identifier);"vertex"===t.shaderContext?r.usedInVertex=!0:"fragment"===t.shaderContext&&(r.usedInFragment=!0)}return i.identifier;case i6.OPERATION:let s=i.usedBy.length>0;if(201===i.opCode){if(i.baseType===so)return this.generateExpression(t,r,i.dependsOn[0]);return`${this.getTypeName(i.baseType,i.dimension)}(${i.dependsOn.map(n=>this.generateExpression(t,r,n)).join(", ")})`}if(200===i.opCode){let n=i.dependsOn.map(n=>this.generateExpression(t,r,n));return`${i.identifier}(${n.join(", ")})`}if(13===i.opCode){let[n,s]=i.dependsOn;return`${this.generateExpression(t,r,n)}.${this.generateExpression(t,r,s)}`}if(103===i.opCode){let n=i.dependsOn[0];return`${this.generateExpression(t,r,n)}.${i.swizzle}`}if(2===i.dependsOn.length){let[n,a]=i.dependsOn,o=this.generateExpression(t,r,n),l=this.generateExpression(t,r,a);if(4===i.opCode){let t=sD(r,n),i=sD(r,a);return t.baseType===si||i.baseType===si?`mod(${o}, ${l})`:`(${o} % ${l})`}let u=sv[i.opCode];return s?`(${o} ${u} ${l})`:`${o} ${u} ${l}`}if(100===i.opCode||101===i.opCode||102===i.opCode){let[n]=i.dependsOn,s=this.generateExpression(t,r,n);return`${sv[i.opCode]}${s}`}case i6.PHI:if(i.identifier)return i.identifier;if(t.tempNames?.[n])return t.tempNames[n];{let n=i.dependsOn.filter(t=>null!==t);if(n.length>0)return this.generateExpression(t,r,n[0]);throw Error("No valid inputs for node")}case i6.ASSIGNMENT:sw("ASSIGNMENT nodes should not be used as expressions");default:sw(`${i8[i.nodeType]} code generation not implemented yet`)}},generateBlock(t,r,n){(sq[r.cfg.blockTypes[t]]||sq[sb.DEFAULT]).call(sq,t,r,n)},createGetTextureCall(t,r){let{id:n,dimension:i}=sj(t,"getTexture",r,{overloads:[{params:[sh.sampler2D,sh.float2],returnType:sh.float4}]});return{id:n,dimension:i}},instanceIdReference:()=>"gl_InstanceID"};function sX(t,r){let n=t._vertSrc,i=t.hooks.vertex[r];if(i||(i=t.hooks.fragment[r],n=t._fragSrc),!i)throw Error(`Can't find hook ${r}!`);let s=r.split(/\s+/g),a=s.pop(),o=s.pop(),l=[...s],u=/\(([^\)]*)\)/.exec(i);if(!u)throw Error(`Couldn't find function parameters in hook body:
${i}`);let h=t=>{let r=RegExp(`struct\\s+${t}\\s*{([^}]*)}`).exec(n);if(!r)return;let i=[];for(let t of r[1].split(";")){let r=t.trim().split(/\s+|,/g),n=r.shift(),s=[...r],a=h(n);for(let t of s){let r=sg[n]||null;i.push({name:t,type:{typeName:n,qualifiers:[],properties:a,dataType:r}})}}return i},c=u[1].split(",").map(t=>{let r=t.trim().split(/\s+/g),n=r.pop(),i=r.pop();return{name:n,type:{typeName:i,qualifiers:[...r],properties:h(i),dataType:sg[i]||null}}}),d=sg[o]||null;return{name:a,returnType:{typeName:o,qualifiers:l,properties:h(o),dataType:d},parameters:c}}var sK="// Based on https://github.com/stegu/webgl-noise/blob/22434e04d7753f7e949e8d724ab3da2864c17a0f/src/noise3D.glsl\n// MIT licensed, adapted for p5.strands\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n  return mod289(((x*34.0)+10.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat baseNoise(vec3 v)\n{\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n  // First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n  // Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n  // Permutations\n  i = mod289(i);\n  vec4 p = permute( permute( permute(\n          i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n        + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n      + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n  // Gradients: 7x7 points over a square, mapped onto an octahedron.\n  // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n  //Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n  // Mix final noise value\n  vec4 m = max(0.5 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 105.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n        dot(p2,x2), dot(p3,x3) ) );\n}\n\nfloat noise(vec3 st, int octaves, float ampFalloff) {\n  float result = 0.0;\n  float amplitude = 1.0;\n  float frequency = 1.0;\n\n  for (int i = 0; i < 8; i++) {\n    if (i >= octaves) break;\n    result += amplitude * baseNoise(st * frequency);\n    frequency *= 2.0;\n    amplitude *= ampFalloff;\n  }\n\n  return result;\n}\n";class sZ{constructor(t){this.parentRenderer=t,this.canvas=document.createElement("canvas"),this.canvas.width=t.width,this.canvas.height=t.height;let r=u;this.gl=this.canvas.getContext("webgl2"),this.gl||(r=l,this.gl=this.canvas.getContext("webgl")),this.gl?(this.textures=new Map,this._renderer={GL:this.gl,registerEnabled:new Set,_curShader:null,_emptyTexture:null,webglVersion:r,states:{textureWrapX:ew,textureWrapY:ew},_arraysEqual:(t,r)=>JSON.stringify(t)===JSON.stringify(r),_getEmptyTexture:()=>{if(!this._emptyTexture){let t=new r6(1,1);t.set(0,0,255),this._emptyTexture=new iV(this._renderer,t)}return this._emptyTexture},_initShader:t=>{let r=this.gl,n=r.createShader(r.VERTEX_SHADER);if(r.shaderSource(n,t.vertSrc()),r.compileShader(n),!r.getShaderParameter(n,r.COMPILE_STATUS))throw Error(`Yikes! An error occurred compiling the vertex shader: ${r.getShaderInfoLog(n)}`);let i=r.createShader(r.FRAGMENT_SHADER);if(r.shaderSource(i,t.fragSrc()),r.compileShader(i),!r.getShaderParameter(i,r.COMPILE_STATUS))throw Error(`Darn! An error occurred compiling the fragment shader: ${r.getShaderInfoLog(i)}`);let s=r.createProgram();if(r.attachShader(s,n),r.attachShader(s,i),r.linkProgram(s),!r.getProgramParameter(s,r.LINK_STATUS))throw Error(`Snap! Error linking shader program: ${r.getProgramInfoLog(s)}`);t._glProgram=s,t._vertShader=n,t._fragShader=i},getTexture:t=>{let r=t;r instanceof Framebuffer&&(r=r.color);let n=this.textures.get(r);if(n)return n;let i=new iV(this._renderer,r);return this.textures.set(r,i),i},populateHooks:(t,r,n)=>iY(t,r,n),_getShaderAttributes:t=>iq(t,this.gl),getUniformMetadata:t=>iW(t,this.gl),_finalizeShader:()=>{},_useShader:t=>{this.gl.useProgram(t._glProgram)},bindTexture:t=>{this.gl.bindTexture(this.gl.TEXTURE_2D,t.getTexture().texture)},unbindTexture:()=>{this.gl.bindTexture(this.gl.TEXTURE_2D,null)},_unbindFramebufferTexture:t=>{let r=this.gl,n=this._getEmptyTexture();r.activeTexture(r.TEXTURE0+t.samplerIndex),n.bindTexture(),r.uniform1i(t.location,t.samplerIndex)},createTexture:({width:t,height:r,format:n,dataType:i})=>{let s=this.gl,a=s.createTexture();return s.bindTexture(s.TEXTURE_2D,a),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,t,r,0,s.RGBA,s.UNSIGNED_BYTE,null),{texture:a,glFormat:s.RGBA,glDataType:s.UNSIGNED_BYTE}},uploadTextureFromSource:({texture:t,glFormat:r,glDataType:n},i)=>{let s=this.gl;s.bindTexture(s.TEXTURE_2D,t),s.texImage2D(s.TEXTURE_2D,0,r,r,n,i)},uploadTextureFromData:({texture:t,glFormat:r,glDataType:n},i,s,a)=>{let o=this.gl;o.bindTexture(o.TEXTURE_2D,t),o.texImage2D(o.TEXTURE_2D,0,r,s,a,0,r,n,i)},setTextureParams:t=>i$(t,this.gl,this._renderer.webglVersion),updateUniformValue:(t,r,n)=>iH(t,r,n,t=>this._renderer.getTexture(t),this.gl),_enableAttrib:(t,r,n,i,s,a,o)=>{let l=r.location,u=this.gl;this._renderer.registerEnabled.has(l)||(u.enableVertexAttribArray(l),this._renderer.registerEnabled.add(l)),u.vertexAttribPointer(l,n,i||u.FLOAT,s||!1,a||0,o||0)},_disableRemainingAttributes:t=>{for(let r of this._renderer.registerEnabled.values())Object.keys(t.attributes).some(n=>t.attributes[n].location===r)||(this.gl.disableVertexAttribArray(r),this._renderer.registerEnabled.delete(r))},_updateTexture:(t,r)=>{let n=this.gl;n.activeTexture(n.TEXTURE0+t.samplerIndex),r.bindTexture(),r.update(),n.uniform1i(t.location,t.samplerIndex)},baseFilterShader:()=>this.baseFilterShader(),strandsBackend:sY,getShaderHookTypes:(t,r)=>sX(t,r),uniformNameFromHookKey:t=>t.slice(t.indexOf(" ")+1)},this._baseFilterShader=void 0,this.filterShaders={},this.operation=null,this.filterParameter=1,this.customShader=null,this._shader=null,this.vertexBuffer=this.gl.createBuffer(),this.texcoordBuffer=this.gl.createBuffer(),this.vertices=new Float32Array([-1,-1,1,-1,-1,1,1,1]),this.texcoords=new Float32Array([0,1,1,1,0,0,1,0]),this._bindBufferData(this.vertexBuffer,this.gl.ARRAY_BUFFER,this.vertices),this._bindBufferData(this.texcoordBuffer,this.gl.ARRAY_BUFFER,this.texcoords)):console.error("WebGL not supported, cannot apply filter.")}_webGL2CompatibilityPrefix(t,r){let n="";return this._renderer.webglVersion===u&&(n+="#version 300 es\n#define WEBGL2\n"),"vert"===t?n+="#define VERTEX_SHADER\n":"frag"===t&&(n+="#define FRAGMENT_SHADER\n"),r&&(n+=`precision ${r} float;
`),n}baseFilterShader(){return this._baseFilterShader||(this._baseFilterShader=new iP(this._renderer,this._webGL2CompatibilityPrefix("vert","highp")+i4+i3,this._webGL2CompatibilityPrefix("frag","highp")+i4+i5,{vertex:{},fragment:{"vec4 getColor":"(FilterInputs inputs, in sampler2D canvasContent) {\n              return getTexture(canvasContent, inputs.texCoord);\n            }"}})),this._baseFilterShader}getNoiseShaderSnippet(){return sK}setOperation(t,r,n=null){this.operation=t,this.filterParameter=r,t in iw&&void 0===r&&(this.filterParameter=iw[t]),this.customShader=n,this._initializeShader()}_initializeShader(){if(this.customShader)return void(this._shader=this.customShader);if(!this.operation)return void console.error("No operation set for FilterRenderer2D, cannot initialize shader.");if(this.filterShaders[this.operation])return void(this._shader=this.filterShaders[this.operation]);let t=iD(this._renderer,this.operation,this.parentRenderer._pInst);this.filterShaders[this.operation]=t,this._shader=t}_bindBufferData(t,r,n){let i=this.gl;i.bindBuffer(r,t),i.bufferData(r,n,i.STATIC_DRAW)}get canvasTexture(){return this._canvasTexture||(this._canvasTexture=new iV(this._renderer,this.parentRenderer.wrappedElt)),this._canvasTexture}_renderPass(){let t=this.gl;this._shader.bindShader("fill");let r=this.parentRenderer.pixelDensity?this.parentRenderer.pixelDensity():1,n=[1/(this.parentRenderer.width*r),1/(this.parentRenderer.height*r)],i=this.canvasTexture;this._shader.setUniform("tex0",i),this._shader.setUniform("texelSize",n),this._shader.setUniform("canvasSize",[this.parentRenderer.width,this.parentRenderer.height]),this._shader.setUniform("radius",Math.max(1,this.filterParameter)),this._shader.setUniform("filterParameter",this.filterParameter),this._shader.setDefaultUniforms(),this.parentRenderer.states.setValue("rectMode",C),this.parentRenderer.states.setValue("imageMode",C),this.parentRenderer.blendMode(j),this.parentRenderer.resetMatrix();let s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];this._shader.setUniform("uModelViewMatrix",s),this._shader.setUniform("uProjectionMatrix",s),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),this._shader.enableAttrib(this._shader.attributes.aPosition,2),t.bindBuffer(t.ARRAY_BUFFER,this.texcoordBuffer),this._shader.enableAttrib(this._shader.attributes.aTexCoord,2),this._shader.bindTextures(),this._renderer._disableRemainingAttributes(this._shader),t.drawArrays(t.TRIANGLE_STRIP,0,4),this._shader.unbindShader()}applyFilter(){this._shader?(this.parentRenderer.push(),this.parentRenderer.resetMatrix(),this.operation!==ec||this.customShader?(this._renderPass(),this.parentRenderer.clear(),this.parentRenderer.blendMode(j)):(this._shader.setUniform("direction",[1,0]),this._renderPass(),this.parentRenderer.clear(),this.parentRenderer.drawingContext.drawImage(this.canvas,0,0,this.parentRenderer.width,this.parentRenderer.height),this._shader.setUniform("direction",[0,1]),this._renderPass(),this.parentRenderer.clear()),this.parentRenderer.drawingContext.drawImage(this.canvas,0,0,this.parentRenderer.width,this.parentRenderer.height),this.parentRenderer.pop()):console.error("Cannot apply filter: shader not initialized.")}}let sQ="rgba(0,0,0,0)";class sJ extends nA{constructor(t,r,n,i,s,a={}){for(let a of(super(t,r,n,i),this.canvas=this.elt=s||document.createElement("canvas"),i?(this._pInst._curElement=this,this._pInst.canvas=this.canvas):this.canvas.style.display="none",this.elt.id="defaultCanvas0",this.elt.classList.add("p5Canvas"),Object.getOwnPropertyNames(rZ.prototype)))"constructor"!==a&&"_"!==a[0]&&Object.defineProperty(this,a,{get(){return this.wrappedElt[a]}});if(this.elt.width=r*this._pixelDensity,this.elt.height=n*this._pixelDensity,this.elt.style.width=`${r}px`,this.elt.style.height=`${n}px`,this._pInst._userNode)this._pInst._userNode.appendChild(this.elt);else{if(0===document.getElementsByTagName("main").length){let t=document.createElement("main");document.body.appendChild(t)}document.getElementsByTagName("main")[0].appendChild(this.elt)}this.drawingContext=this.canvas.getContext("2d",a),"display-p3"===a.colorSpace&&(this.states.colorMode=rO),this.scale(this._pixelDensity,this._pixelDensity),this.wrappedElt=new rZ(this.elt,this._pInst),this.clipPath=null}get filterRenderer(){return this._filterRenderer||(this._filterRenderer=new sZ(this)),this._filterRenderer}remove(){this.wrappedElt.remove(),this.wrappedElt=null,this.canvas=null,this.elt=null}getFilterGraphicsLayer(){if(!this.filterGraphicsLayer){let t=this._pInst;this.filterGraphicsLayer=new iR(this.width,this.height,l,t)}return this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}_applyDefaults(){this.states.setValue("_cachedFillStyle",void 0),this.states.setValue("_cachedStrokeStyle",void 0),this._cachedBlendMode=j,this._setFill(eD),this._setStroke(eE),this.drawingContext.lineCap=R,this.drawingContext.font="normal 12px sans-serif"}resize(t,r){super.resize(t,r);let n={};for(let t in this.drawingContext){let r=this.drawingContext[t];"object"!=typeof r&&"function"!=typeof r&&(n[t]=r)}for(let i in this.canvas.width=t*this._pixelDensity,this.canvas.height=r*this._pixelDensity,this.canvas.style.width=`${t}px`,this.canvas.style.height=`${r}px`,this.drawingContext.scale(this._pixelDensity,this._pixelDensity),n)try{this.drawingContext[i]=n[i]}catch(t){}}background(...t){if(this.push(),this.resetMatrix(),t[0]instanceof r6)if(t[1]>=0){let r=t[0];this.drawingContext.globalAlpha=t[1]/255,this._pInst.image(r,0,0,this.width,this.height)}else this._pInst.image(t[0],0,0,this.width,this.height);else{let r=this._pInst.color(...t);this._pInst._addAccsOutput?.()&&this._pInst._accsBackground?.(r._getRGBA([255,255,255,255]));let n=r.toString();this._setFill(n),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._isErasing&&this._pInst.erase()}this.pop()}clear(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}fill(...t){super.fill(...t);let r=this.states.fillColor;this._setFill(r.toString()),this._pInst._addAccsOutput?.()&&this._pInst._accsCanvasColors?.("fill",r._getRGBA([255,255,255,255]))}stroke(...t){super.stroke(...t);let r=this.states.strokeColor;this._setStroke(r.toString()),this._pInst._addAccsOutput?.()&&this._pInst._accsCanvasColors?.("stroke",r._getRGBA([255,255,255,255]))}erase(t,r){if(!this._isErasing){this.states.setValue("_cachedFillStyle",this.drawingContext.fillStyle);let n=this._pInst.color(255,t).toString();this.drawingContext.fillStyle=n,this.states.setValue("_cachedStrokeStyle",this.drawingContext.strokeStyle);let i=this._pInst.color(255,r).toString();this.drawingContext.strokeStyle=i;let s=this._cachedBlendMode;this.blendMode(G),this._cachedBlendMode=s,this._isErasing=!0}}noErase(){this._isErasing&&(this.drawingContext.fillStyle=this.states._cachedFillStyle,this.drawingContext.strokeStyle=this.states._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}drawShape(t){let r=new nw({strokeWeight:this.states.strokeWeight});t.accept(r),this._clipping?(this.clipPath.addPath(r.path),this.clipPath.closePath()):(this.states.fillColor&&this.drawingContext.fill(r.path),this.states.strokeColor&&this.drawingContext.stroke(r.path))}beginClip(t={}){super.beginClip(t),this.states.setValue("_cachedFillStyle",this.drawingContext.fillStyle);let r=this._pInst.color(255,0).toString();this.drawingContext.fillStyle=r,this.states.setValue("_cachedStrokeStyle",this.drawingContext.strokeStyle);let n=this._pInst.color(255,0).toString();this.drawingContext.strokeStyle=n;let i=this._cachedBlendMode;this.blendMode(j),this._cachedBlendMode=i,this.clipPath=new Path2D,this._clipBaseTransform=this.drawingContext.getTransform(),this._clipInvert&&(this.clipPath.moveTo(-2*this.width,-2*this.height),this.clipPath.lineTo(-2*this.width,2*this.height),this.clipPath.lineTo(2*this.width,2*this.height),this.clipPath.lineTo(2*this.width,-2*this.height),this.clipPath.closePath())}endClip(){let t=this.drawingContext.getTransform();this.drawingContext.setTransform(this._clipBaseTransform),this.drawingContext.clip(this.clipPath),this.drawingContext.setTransform(t),this.clipPath=null,super.endClip(),this.drawingContext.fillStyle=this.states._cachedFillStyle,this.drawingContext.strokeStyle=this.states._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}image(t,r,n,i,s,a,o,l,u){let h;t.gifProperties&&t._animateGif(this._pInst);try{t instanceof nM&&t._ensureCanvas(),this.states.tint&&t.canvas&&(h=this._getTintedImageCanvas(t)),h||(h=t.canvas||t.elt);let c=1;t.width&&t.width>0&&(c=h.width/t.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(h,c*r,c*n,c*i,c*s,a,o,l,u),this._isErasing&&this._pInst.erase()}catch(t){if("NS_ERROR_NOT_AVAILABLE"!==t.name)throw t}}_getTintedImageCanvas(t){if(!t.canvas)return t;t.tintCanvas||(t.tintCanvas=document.createElement("canvas")),t.tintCanvas.width!==t.canvas.width&&(t.tintCanvas.width=t.canvas.width),t.tintCanvas.height!==t.canvas.height&&(t.tintCanvas.height=t.canvas.height);let r=t.tintCanvas.getContext("2d");return r.save(),r.clearRect(0,0,t.canvas.width,t.canvas.height),(this.states.tint[0]<255||this.states.tint[1]<255||this.states.tint[2]<255)&&(r.drawImage(t.canvas,0,0),r.globalCompositeOperation="luminosity",r.drawImage(t.canvas,0,0),r.globalCompositeOperation="color",r.drawImage(t.canvas,0,0),r.globalCompositeOperation="multiply",r.fillStyle=`rgb(${this.states.tint.slice(0,3).join(", ")})`,r.fillRect(0,0,t.canvas.width,t.canvas.height),r.globalCompositeOperation="destination-in"),r.globalAlpha=this.states.tint[3]/255,r.drawImage(t.canvas,0,0),r.restore(),t.tintCanvas}blendMode(t){if(t===Y)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(t!==j&&t!==G&&t!==H&&t!==W&&t!==q&&t!==K&&t!==X&&t!==Z&&t!==Q&&t!==J&&t!==ee&&t!==et&&t!==er&&t!==en&&t!==$)throw Error(`Mode ${t} not recognized.`);this._cachedBlendMode=t,this.drawingContext.globalCompositeOperation=t}}blend(...t){let r=this.drawingContext.globalCompositeOperation,n=t[t.length-1],i=Array.prototype.slice.call(t,0,t.length-1);this.drawingContext.globalCompositeOperation=n,s0.prototype.copy.apply(this,i),this.drawingContext.globalCompositeOperation=r}_getPixel(t,r){let n;return[(n=this.drawingContext.getImageData(t,r,1,1).data)[0],n[1],n[2],n[3]]}loadPixels(){let t=this._pixelDensity,r=this.width*t,n=this.height*t,i=this.drawingContext.getImageData(0,0,r,n);this.imageData=i,this.pixels=i.data}set(t,r,n){if(t=Math.floor(t),r=Math.floor(r),n instanceof iR||n instanceof r6){this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pixelDensity,this._pixelDensity);let i=n.width,s=n.height;this.drawingContext.clearRect(t,r,i,s),this.drawingContext.drawImage(n.canvas,t,r,i,s)}else{let i=0,s=0,a=0,o=0,l=4*(r*this._pixelDensity*(this.width*this._pixelDensity)+t*this._pixelDensity);if(this.imageData||this.loadPixels(),"number"==typeof n)l<this.pixels.length&&(i=n,s=n,a=n,o=255);else if(Array.isArray(n)){if(n.length<4)throw Error("pixel array must be of the form [R, G, B, A]");l<this.pixels.length&&(i=n[0],s=n[1],a=n[2],o=n[3])}else n instanceof s0.Color&&l<this.pixels.length&&([i,s,a,o]=n._getRGBA([255,255,255,255]));for(let n=0;n<this._pixelDensity;n++)for(let u=0;u<this._pixelDensity;u++)l=4*((r*this._pixelDensity+u)*this.width*this._pixelDensity+(t*this._pixelDensity+n)),this.pixels[l]=i,this.pixels[l+1]=s,this.pixels[l+2]=a,this.pixels[l+3]=o}}updatePixels(t,r,n,i){let s=this._pixelDensity;void 0===t&&void 0===r&&void 0===n&&void 0===i&&(t=0,r=0,n=this.width,i=this.height),t*=s,r*=s,n*=s,i*=s,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=this.imageData),this.drawingContext.putImageData(this.imageData,0,0,t,r,n,i)}arc(t,r,n,i,s,a,o){let l=this.drawingContext,u=t+n/2,h=r+i/2,c=n/2,d=i/2;if(this._clipping){let t=new Path2D;t.ellipse(u,h,c,d,0,s,a);let r=this.drawingContext.getTransform(),n=this._clipBaseTransform.inverse().multiply(r);return this.clipPath.addPath(t,n),this}let p=o!==L&&o!==P&&(a-s)%b!=0;return this.states.fillColor&&(l.beginPath(),l.ellipse(u,h,c,d,0,s,a),p&&l.lineTo(u,h),l.closePath(),l.fill()),this.states.strokeColor&&(l.beginPath(),l.ellipse(u,h,c,d,0,s,a),"pie"===o&&p&&l.lineTo(u,h),"pie"!==o&&o!==L||l.closePath(),l.stroke()),this}ellipse(t){let r=this.drawingContext,n=!!this.states.fillColor,i=this.states.strokeColor,s=parseFloat(t[0]),a=parseFloat(t[1]),o=parseFloat(t[2]),l=parseFloat(t[3]);if(n&&!i){if(this._getFill()===sQ)return this}else if(!n&&i&&this._getStroke()===sQ)return this;let u=s+o/2,h=a+l/2,c=o/2,d=l/2;if(this._clipping){let t=new Path2D;t.ellipse(u,h,c,d,0,0,2*Math.PI);let r=this.drawingContext.getTransform(),n=this._clipBaseTransform.inverse().multiply(r);return this.clipPath.addPath(t,n),this}return r.beginPath(),r.ellipse(u,h,c,d,0,0,2*Math.PI),r.closePath(),n&&r.fill(),i&&r.stroke(),this}line(t,r,n,i){let s=this.drawingContext;if(!this.states.strokeColor||this._getStroke()===sQ)return this;if(this._clipping){let s=new Path2D;s.moveTo(t,r),s.lineTo(n,i);let a=this.drawingContext.getTransform(),o=this._clipBaseTransform.inverse().multiply(a);return this.clipPath.addPath(s,o),this}return s.beginPath(),s.moveTo(t,r),s.lineTo(n,i),s.stroke(),this}point(t,r){let n=this.drawingContext;if(!this.states.strokeColor||this._getStroke()===sQ)return this;let i=this._getStroke(),s=this._getFill();if(this._clipping){let n=new Path2D,i=this.drawingContext.lineWidth;n.arc(t,r,i/2,0,b);let s=this.drawingContext.getTransform(),a=this._clipBaseTransform.inverse().multiply(s);return this.clipPath.addPath(n,a),this}return this._setFill(i),n.beginPath(),n.arc(t,r,n.lineWidth/2,0,b,!1),n.fill(),this._setFill(s),this}quad(t,r,n,i,s,a,o,l){let u=this.drawingContext,h=!!this.states.fillColor,c=this.states.strokeColor;if(h&&!c){if(this._getFill()===sQ)return this}else if(!h&&c&&this._getStroke()===sQ)return this;if(this._clipping){let u=new Path2D;u.moveTo(t,r),u.lineTo(n,i),u.lineTo(s,a),u.lineTo(o,l),u.closePath();let h=this.drawingContext.getTransform(),c=this._clipBaseTransform.inverse().multiply(h);return this.clipPath.addPath(u,c),this}return u.beginPath(),u.moveTo(t,r),u.lineTo(n,i),u.lineTo(s,a),u.lineTo(o,l),u.closePath(),h&&u.fill(),c&&u.stroke(),this}rect(t){let r=t[0],n=t[1],i=t[2],s=t[3],a=t[4],o=t[5],l=t[6],u=t[7],h=this.drawingContext,c=!!this.states.fillColor,d=this.states.strokeColor;if(c&&!d){if(this._getFill()===sQ)return this}else if(!c&&d&&this._getStroke()===sQ)return this;if(this._clipping){let t=new Path2D;void 0===a?t.rect(r,n,i,s):t.roundRect(r,n,i,s,[a,o,l,u]);let h=this.drawingContext.getTransform(),c=this._clipBaseTransform.inverse().multiply(h);return this.clipPath.addPath(t,c),this}if(h.beginPath(),void 0===a)h.rect(r,n,i,s);else{void 0===o&&(o=a),void 0===l&&(l=o),void 0===u&&(u=l);let t=Math.abs(i),c=Math.abs(s),d=t/2,p=c/2;t<2*a&&(a=d),c<2*a&&(a=p),t<2*o&&(o=d),c<2*o&&(o=p),t<2*l&&(l=d),c<2*l&&(l=p),t<2*u&&(u=d),c<2*u&&(u=p),h.roundRect(r,n,i,s,[a,o,l,u])}return c&&h.fill(),d&&h.stroke(),this}triangle(t){let r=this.drawingContext,n=!!this.states.fillColor,i=this.states.strokeColor,s=t[0],a=t[1],o=t[2],l=t[3],u=t[4],h=t[5];if(n&&!i){if(this._getFill()===sQ)return this}else if(!n&&i&&this._getStroke()===sQ)return this;if(this._clipping){let t=new Path2D;t.moveTo(s,a),t.lineTo(o,l),t.lineTo(u,h),t.closePath();let r=this.drawingContext.getTransform(),n=this._clipBaseTransform.inverse().multiply(r);return this.clipPath.addPath(t,n),this}return r.beginPath(),r.moveTo(s,a),r.lineTo(o,l),r.lineTo(u,h),r.closePath(),n&&r.fill(),i&&r.stroke(),this}strokeCap(t){return t!==R&&t!==O&&t!==N||(this.drawingContext.lineCap=t),this}strokeJoin(t){return t!==R&&t!==V&&t!==z||(this.drawingContext.lineJoin=t),this}strokeWeight(t){return super.strokeWeight(t),this.drawingContext.lineWidth=void 0===t||0===t?1e-4:t,this}_getFill(){return this.states._cachedFillStyle||this.states.setValue("_cachedFillStyle",this.drawingContext.fillStyle),this.states._cachedFillStyle}_setFill(t){t!==this.states._cachedFillStyle&&(this.drawingContext.fillStyle=t,this.states.setValue("_cachedFillStyle",t))}_getStroke(){return this.states._cachedStrokeStyle||this.states.setValue("_cachedStrokeStyle",this.drawingContext.strokeStyle),this.states._cachedStrokeStyle}_setStroke(t){t!==this.states._cachedStrokeStyle&&(this.drawingContext.strokeStyle=t,this.states.setValue("_cachedStrokeStyle",t))}applyMatrix(t,r,n,i,s,a){this.drawingContext.transform(t,r,n,i,s,a)}getWorldToScreenMatrix(){return new ie((new DOMMatrix).scale(1/this._pixelDensity).multiply(this.drawingContext.getTransform()).toFloat32Array())}resetMatrix(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pixelDensity,this._pixelDensity),this}rotate(t){this.drawingContext.rotate(t)}scale(t,r){return this.drawingContext.scale(t,r),this}translate(t,r){return t instanceof s0.Vector&&(r=t.y,t=t.x),this.drawingContext.translate(t,r),this}push(){return this.drawingContext.save(),super.push()}pop(t){this.drawingContext.restore(),super.pop(t)}textCanvas(){return this.canvas}textDrawingContext(){return this.drawingContext}_renderText(t,r,n,i,s){let a=this.states,o=this.textDrawingContext();n<s||n>=i||(this.push(),a.strokeColor&&a.strokeSet&&o.strokeText(t,r,n),!this._clipping&&a.fillColor&&(a.fillSet||this._setFill("#000000"),o.fillText(t,r,n)),this.pop())}_positionLines(t,r,n,i,s){let a,{textLeading:o,textAlign:l}=this.states,u=Array(s.length),h=void 0===n?0:n;for(let n=0;n<s.length;n++){switch(l){case iS:throw Error("textBounds: START not yet supported for textAlign");case A:a=t;break;case k:a=t+h/2;break;case D:a=t+h;break;case"end":throw Error("textBounds: END not yet supported for textAlign")}u[n]={text:s[n],x:a,y:r+n*o}}return this._yAlignOffset(u,void 0===i?0:i)}_yAlignOffset(t,r){if(void 0===r)throw Error("_yAlignOffset: height is required");let{textLeading:n,textBaseline:i}=this.states,s=0,a=r-n*(t.length-1);switch(i){case"top":case F:break;case i_:s=a/2+this._middleAlignOffset();break;case T:s=a;break;case"ideographic":console.warn("textBounds: IDEOGRAPHIC not yet supported for textBaseline");break;case"hanging":console.warn("textBounds: HANGING not yet supported for textBaseline")}return t.forEach(t=>t.y+=s),t}}let s0=class t{static VERSION=o;static instance=null;static lifecycleHooks={presetup:[],postsetup:[],predraw:[],postdraw:[],remove:[]};static _checkForUserDefinedFunctions=()=>{};static _friendlyFileLoadError=()=>{};constructor(r,n){var i;if(t.decorations.size>0){for(let[r,n]of t.decorations)for(let i in t.prototype)"function"==typeof t.prototype[i]&&r.some(t=>"string"==typeof t?t===i:t instanceof RegExp?t.test(i):void 0)&&(t.prototype[i]=n(t.prototype[i],{kind:"method",name:i,access:{},static:!1,private:!1,addInitializer(t){}}));t.decorations.clear()}this.hitCriticalError=!1,this._setupDone=!1,this._userNode=n,this._curElement=null,this._elements=[],this._glAttributes=null,this._webgpuAttributes=null,this._requestAnimId=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._events={},this._removeAbortController=new AbortController,this._removeSignal=this._removeAbortController.signal,this._millisStart=-1,this._recording=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._updateWindowSize();let s=(i=this,function(t){if("constructor"===t)return;let r=Object.getOwnPropertyDescriptor(i,t),n=Object.getOwnPropertyDescriptor(s0.prototype,t),s=r&&r.get||n&&n.get,a,o=!1,l=!1;if(!s){let r=s0.prototype[t];(o="function"==typeof r)||void 0===eR[t]||(l=!0,a=r)}if(o){let r=s0.prototype[t].bind(i);Object.defineProperty(window,t,{configurable:!0,enumerable:!0,value:r})}else if(l)Object.defineProperty(window,t,{configurable:!0,enumerable:!0,value:a});else if(s||!o){let r=null,n=null,s=null;Object.defineProperty(window,t,{configurable:!0,enumerable:!0,get:()=>{let a=i[t];return null===s?(s="function"==typeof a)?(r=a,n=a.bind(i)):a:s?(a!==r&&(r=a,n=a.bind(i)),n):a}})}});if(r)r(this),t._checkForUserDefinedFunctions(this);else{if(this._isGlobal=!0,window.hitCriticalError)return;for(let r of(t.instance=this,Object.getOwnPropertyNames(t.prototype)))"_"!==r[0]&&s(r);let r=["constructor","length"];for(let t in this)if(this.hasOwnProperty(t)){if("_"===t[0]||r.includes(t))continue;s(t)}}let a=()=>{this.focused=!0},o=()=>{this.focused=!1};window.addEventListener("focus",a),window.addEventListener("blur",o),t.lifecycleHooks.remove.push(function(){window.removeEventListener("focus",a),window.removeEventListener("blur",o)}),"complete"===document.readyState?this.#A():(this._startListener=this.#A.bind(this),window.addEventListener("load",this._startListener,!1))}get pixels(){return this._renderer.pixels}get drawingContext(){return this._renderer.drawingContext}static _registeredAddons=new Set;static registerAddon(r){let n={};if(!t._registeredAddons.has(r))for(let i of(t._registeredAddons.add(r),r(t,t.prototype,n),Object.keys(t.lifecycleHooks)))"function"==typeof n[i]&&t.lifecycleHooks[i].push(n[i])}static decorations=new Map;static decorateHelper(r,n){let i=r;Array.isArray(r)||(i=[r]),t.decorations.set(i,n)}#k={};_customActions=new Proxy({},{get:(t,r)=>{if(!this.#k[r]){let t=this._isGlobal?window:this;"function"==typeof t[r]&&(this.#k[r]=t[r].bind(this))}return this.#k[r]}});async #A(){this.hitCriticalError||(this._userNode&&"string"==typeof this._userNode&&(this._userNode=document.getElementById(this._userNode)),await this.#T(),this.hitCriticalError||this._recording||this._draw())}async #T(){if(await this._runLifecycleHook("presetup"),this.hitCriticalError)return;this.createCanvas(100,100,"p2d"),this._millisStart=window.performance.now();let t=this._isGlobal?window:this;if("function"==typeof t.setup&&await t.setup(),!this.hitCriticalError){for(let t of document.getElementsByTagName("canvas"))t.style.touchAction="none","true"===t.dataset.hidden&&(t.style.visibility="",delete t.dataset.hidden);this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),this._setupDone=!0,(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),await this._runLifecycleHook("postsetup"),this._millisStart=window.performance.now()}}async _draw(t){if(this.hitCriticalError)return;let r=t||window.performance.now(),n=r-this._lastTargetFrameTime,i=1e3/this._targetFrameRate;(!this._loop||n>=i-5)&&(this.deltaTime=r-this._lastRealFrameTime,this._frameRate=1e3/this.deltaTime,await this.redraw(),this._lastTargetFrameTime=Math.max(this._lastTargetFrameTime+i,r),this._lastRealFrameTime=r,void 0!==this._updateMouseCoords&&(this._updateMouseCoords(),this.movedX=0,this.movedY=0)),this._loop&&(this._requestAnimId=window.requestAnimationFrame(this._draw.bind(this)))}async remove(){if(this._startListener&&window.removeEventListener("load",this._startListener,!1),this._curElement){for(let t of(this._loop=!1,this._requestAnimId&&window.cancelAnimationFrame(this._requestAnimId),this._removeAbortController.abort(),this._elements))t.elt&&t.elt.parentNode&&t.elt.parentNode.removeChild(t.elt);await this._runLifecycleHook("remove")}if(this._isGlobal){for(let r in t.prototype)try{delete window[r]}catch(t){window[r]=void 0}for(let t in this)if(this.hasOwnProperty(t))try{delete window[t]}catch(r){window[t]=void 0}t.instance=null}}async _runLifecycleHook(r){await Promise.all(t.lifecycleHooks[r].map(t=>t.call(this)))}_initializeInstanceVariables(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._downKeys={},this._downKeyCodes={}}};for(let t in eR)s0.prototype[t]=eR[t];function s1(t,r){let n="_Description",i="_fallbackDesc",s="_fallbackTable",a="_fte_",o="_Label",l="_labelDesc",u="_labelTable",h="_lte_";function c(t){if("label"===t||"fallback"===t)throw Error("description should not be LABEL or FALLBACK");return t.endsWith(".")||t.endsWith(";")||t.endsWith(",")||t.endsWith("?")||t.endsWith("!")||(t+="."),t}r.describe=function(t,r){if("string"!=typeof t)return;let n=this.canvas.id;t=c(t),this.dummyDOM||(this.dummyDOM=document.getElementById(n).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==t&&(this.descriptions.fallback.innerHTML=t):this._describeHTML("fallback",t),r===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==t&&(this.descriptions.label.innerHTML=t):this._describeHTML("label",t))},r.describeElement=function(t,r,n){if("string"!=typeof r||"string"!=typeof t)return;let i=this.canvas.id;r=c(r);let s=function(t){if("label"===t||"fallback"===t)throw Error("element name should not be LABEL or FALLBACK");return t.endsWith(".")||t.endsWith(";")||t.endsWith(",")?t=t.replace(/.$/,":"):t.endsWith(":")||(t+=":"),t}(t);t=t.replace(/[^a-zA-Z0-9]/g,"");let a=`<th scope="row">${s}</th><td>${r}</td>`;this.dummyDOM||(this.dummyDOM=document.getElementById(i).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[t]?this.descriptions.fallbackElements[t].innerHTML!==a&&(this.descriptions.fallbackElements[t].innerHTML=a):this._describeElementHTML("fallback",t,a),n===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[t]?this.descriptions.labelElements[t].innerHTML!==a&&(this.descriptions.labelElements[t].innerHTML=a):this._describeElementHTML("label",t,a))},r._describeHTML=function(t,r){let a=this.canvas.id;if("fallback"===t){if(this.dummyDOM.querySelector(`#${a+n}`))this.dummyDOM.querySelector("#"+a+s).insertAdjacentHTML("beforebegin",`<p id="${a+i}"></p>`);else{let t=`<div id="${a}${n}" role="region" aria-label="Canvas Description"><p id="${a}${i}"></p></div>`;this.dummyDOM.querySelector(`#${a}accessibleOutput`)?this.dummyDOM.querySelector(`#${a}accessibleOutput`).insertAdjacentHTML("beforebegin",t):this.dummyDOM.querySelector(`#${a}`).innerHTML=t}return this.descriptions.fallback=this.dummyDOM.querySelector(`#${a}${i}`),void(this.descriptions.fallback.innerHTML=r)}if("label"===t){if(this.dummyDOM.querySelector(`#${a+o}`))this.dummyDOM.querySelector(`#${a+u}`)&&this.dummyDOM.querySelector(`#${a+u}`).insertAdjacentHTML("beforebegin",`<p id="${a}${l}"></p>`);else{let t=`<div id="${a}${o}" class="p5Label"><p id="${a}${l}"></p></div>`;this.dummyDOM.querySelector(`#${a}accessibleOutputLabel`)?this.dummyDOM.querySelector(`#${a}accessibleOutputLabel`).insertAdjacentHTML("beforebegin",t):this.dummyDOM.querySelector("#"+a).insertAdjacentHTML("afterend",t)}return this.descriptions.label=this.dummyDOM.querySelector("#"+a+l),void(this.descriptions.label.innerHTML=r)}},r._describeElementHTML=function(t,r,c){let d=this.canvas.id;if("fallback"===t){if(this.dummyDOM.querySelector(`#${d+n}`))this.dummyDOM.querySelector("#"+d+s)||this.dummyDOM.querySelector("#"+d+i).insertAdjacentHTML("afterend",`<table id="${d}${s}"><caption>Canvas elements and their descriptions</caption></table>`);else{let t=`<div id="${d}${n}" role="region" aria-label="Canvas Description"><table id="${d}${s}"><caption>Canvas elements and their descriptions</caption></table></div>`;this.dummyDOM.querySelector(`#${d}accessibleOutput`)?this.dummyDOM.querySelector(`#${d}accessibleOutput`).insertAdjacentHTML("beforebegin",t):this.dummyDOM.querySelector("#"+d).innerHTML=t}let t=document.createElement("tr");return t.id=d+a+r,this.dummyDOM.querySelector("#"+d+s).appendChild(t),this.descriptions.fallbackElements[r]=this.dummyDOM.querySelector(`#${d}${a}${r}`),void(this.descriptions.fallbackElements[r].innerHTML=c)}if("label"===t){if(this.dummyDOM.querySelector(`#${d+o}`))this.dummyDOM.querySelector(`#${d+u}`)||this.dummyDOM.querySelector("#"+d+l).insertAdjacentHTML("afterend",`<table id="${d+u}"></table>`);else{let t=`<div id="${d}${o}" class="p5Label"><table id="${d}${u}"></table></div>`;this.dummyDOM.querySelector(`#${d}accessibleOutputLabel`)?this.dummyDOM.querySelector(`#${d}accessibleOutputLabel`).insertAdjacentHTML("beforebegin",t):this.dummyDOM.querySelector("#"+d).insertAdjacentHTML("afterend",t)}let t=document.createElement("tr");t.id=d+h+r,this.dummyDOM.querySelector("#"+d+u).appendChild(t),this.descriptions.labelElements[r]=this.dummyDOM.querySelector(`#${d}${h}${r}`),this.descriptions.labelElements[r].innerHTML=c}}}function s2(t,r){r._updateGridOutput=function(t){var r,n,i,s;let a;if(this._renderer&&this._renderer.isP3D)return void(this._didOutputGridWebGLMessage||(this._didOutputGridWebGLMessage=!0,console.error("gridOutput() does not yet work in WebGL mode.")));if(!this.dummyDOM.querySelector(`#${t}_summary`))return;let o=this._accessibleOutputs[t],l=function(t,r){let n="",i="",s=0;for(let a in r){let o=0;for(let i in r[a]){let l=`<li id="${t}shape${s}">${r[a][i].color} ${a},`;"line"===a?l+=` location = ${r[a][i].pos}, length = ${r[a][i].length} pixels`:(l+=` location = ${r[a][i].pos}`,"point"!==a&&(l+=`, area = ${r[a][i].area} %`),l+="</li>"),n+=l,o++,s++}i=o>1?`${i} ${o} ${a}s`:`${i} ${o} ${a}`}return{numShapes:[s,i],details:n}}(t,this.ingredients.shapes),u=(r=l.numShapes,n=this.ingredients.colors.background,i=this.width,s=this.height,a=`${n} canvas, ${i} by ${s} pixels, contains ${r[0]}`,a=1===r[0]?`${a} shape: ${r[1]}`:`${a} shapes: ${r[1]}`),h=function(t,r){let n=0,i="",s=Array.from(Array(10),()=>Array(10));for(let i in r)for(let a in r[i]){let o;o="line"!==i?`<a href="#${t}shape${n}">${r[i][a].color} ${i}</a>`:`<a href="#${t}shape${n}">${r[i][a].color} ${i} midpoint</a>`,r[i][a].loc.locY<s.length&&r[i][a].loc.locX<s[r[i][a].loc.locY].length&&(s[r[i][a].loc.locY][r[i][a].loc.locX]?s[r[i][a].loc.locY][r[i][a].loc.locX]=s[r[i][a].loc.locY][r[i][a].loc.locX]+"  "+o:s[r[i][a].loc.locY][r[i][a].loc.locX]=o,n++)}for(let t in s){let r="<tr>";for(let n in s[t])r+="<td>",void 0!==s[t][n]&&(r+=s[t][n]),r+="</td>";i=i+r+"</tr>"}return i}(t,this.ingredients.shapes);u!==o.summary.innerHTML&&(o.summary.innerHTML=u),h!==o.map.innerHTML&&(o.map.innerHTML=h),l.details!==o.shapeDetails.innerHTML&&(o.shapeDetails.innerHTML=l.details),this._accessibleOutputs[t]=o}}function s5(t,r){r._updateTextOutput=function(t){var r,n,i,s;let a;if(this._renderer&&this._renderer.isP3D)return void(this._didOutputTextWebGLMessage||(this._didOutputTextWebGLMessage=!0,console.error("textOutput() does not yet work in WebGL mode.")));if(!this.dummyDOM.querySelector(`#${t}_summary`))return;let o=this._accessibleOutputs[t],l=function(t,r){let n="",i=0;for(let s in r)for(let a in r[s]){let o=`<li><a href="#${t}shape${i}">${r[s][a].color} ${s}</a>`;"line"===s?o+=`, ${r[s][a].pos}, ${r[s][a].length} pixels long.</li>`:(o+=`, at ${r[s][a].pos}`,"point"!==s&&(o+=`, covering ${r[s][a].area}% of the canvas`),o+=".</li>"),n+=o,i++}return{numShapes:i,listShapes:n}}(t,this.ingredients.shapes),u=(r=l.numShapes,n=this.ingredients.colors.background,i=this.width,s=this.height,a=`Your output is a, ${i} by ${s} pixels, ${n} canvas containing the following`,a=1===r?`${a} shape:`:`${a} ${r} shapes:`),h=function(t,r){let n="",i=0;for(let s in r)for(let a in r[s]){let o=`<tr id="${t}shape${i}"><th>${r[s][a].color} ${s}</th>`;"line"===s?o+=`<td>location = ${r[s][a].pos}</td><td>length = ${r[s][a].length} pixels</td></tr>`:(o+=`<td>location = ${r[s][a].pos}</td>`,"point"!==s&&(o+=`<td> area = ${r[s][a].area}%</td>`),o+="</tr>"),n+=o,i++}return n}(t,this.ingredients.shapes);u!==o.summary.innerHTML&&(o.summary.innerHTML=u),l.listShapes!==o.list.innerHTML&&(o.list.innerHTML=l.listShapes),h!==o.shapeDetails.innerHTML&&(o.shapeDetails.innerHTML=h),this._accessibleOutputs[t]=o}}function s3(t,r){function n(t,r,n){let i=Math.floor(t[0]/r*10),s=Math.floor(t[1]/n*10);return 10===i&&(i-=1),10===s&&(s-=1),{locX:i,locY:s}}r.textOutput=function(t){this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),t===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},r.gridOutput=function(t){this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),t===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},r._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},r._createOutput=function(t,r){let n,i,s,a=this.canvas.id;this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(a).parentNode);let o="";"Fallback"===r?(n=a+t,i=a+"accessibleOutput",this.dummyDOM.querySelector(`#${i}`)||(this.dummyDOM.querySelector(`#${a}_Description`)?this.dummyDOM.querySelector(`#${a}_Description`).insertAdjacentHTML("afterend",`<div id="${i}" role="region" aria-label="Canvas Outputs"></div>`):this.dummyDOM.querySelector(`#${a}`).innerHTML=`<div id="${i}" role="region" aria-label="Canvas Outputs"></div>`)):"Label"===r&&(o=r,n=a+t+r,i=a+"accessibleOutput"+r,this.dummyDOM.querySelector(`#${i}`)||(this.dummyDOM.querySelector(`#${a}_Label`)?this.dummyDOM.querySelector(`#${a}_Label`).insertAdjacentHTML("afterend",`<div id="${i}"></div>`):this.dummyDOM.querySelector(`#${a}`).insertAdjacentHTML("afterend",`<div id="${i}"></div>`))),this._accessibleOutputs[n]={},"textOutput"===t?(o=`#${a}gridOutput${o}`,s=`<div id="${n}">Text Output<div id="${n}Summary" aria-label="text output summary"><p id="${n}_summary"></p><ul id="${n}_list"></ul></div><table id="${n}_shapeDetails" summary="text output shape details"></table></div>`,this.dummyDOM.querySelector(o)?this.dummyDOM.querySelector(o).insertAdjacentHTML("beforebegin",s):this.dummyDOM.querySelector(`#${i}`).innerHTML=s,this._accessibleOutputs[n].list=this.dummyDOM.querySelector(`#${n}_list`)):"gridOutput"===t&&(o=`#${a}textOutput${o}`,s=`<div id="${n}">Grid Output<p id="${n}_summary" aria-label="grid output summary"><table id="${n}_map" summary="grid output content"></table><ul id="${n}_shapeDetails" aria-label="grid output shape details"></ul></div>`,this.dummyDOM.querySelector(o)?this.dummyDOM.querySelector(o).insertAdjacentHTML("afterend",s):this.dummyDOM.querySelector(`#${i}`).innerHTML=s,this._accessibleOutputs[n].map=this.dummyDOM.querySelector(`#${n}_map`)),this._accessibleOutputs[n].shapeDetails=this.dummyDOM.querySelector(`#${n}_shapeDetails`),this._accessibleOutputs[n].summary=this.dummyDOM.querySelector(`#${n}_summary`)},r._updateAccsOutput=function(){let t=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(t+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(t+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(t+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(t+"gridOutputLabel"))},r._accsBackground=function(t){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==t&&(this.ingredients.colors.backgroundRGBA=t,this.ingredients.colors.background=this._rgbColorName(t))},r._accsCanvasColors=function(t,r){"fill"===t?this.ingredients.colors.fillRGBA!==r&&(this.ingredients.colors.fillRGBA=r,this.ingredients.colors.fill=this._rgbColorName(r)):"stroke"===t&&this.ingredients.colors.strokeRGBA!==r&&(this.ingredients.colors.strokeRGBA=r,this.ingredients.colors.stroke=this._rgbColorName(r))},r._accsOutput=function(t,r){var i;let s,a;"ellipse"===t&&r[2]===r[3]?t="circle":"rectangle"===t&&r[2]===r[3]&&(t="square");let o={},l=!0,u=("rectangle"===(i=t)||"ellipse"===i||"arc"===i||"circle"===i||"square"===i?(s=Math.round(r[0]+r[2]/2),a=Math.round(r[1]+r[3]/2)):"triangle"===i?(s=(r[0]+r[2]+r[4])/3,a=(r[1]+r[3]+r[5])/3):"quadrilateral"===i?(s=(r[0]+r[2]+r[4]+r[6])/4,a=(r[1]+r[3]+r[5]+r[7])/4):"line"===i?(s=(r[0]+r[2])/2,a=(r[1]+r[3])/2):(s=r[0],a=r[1]),[s,a]);if("line"===t){o.color=this.ingredients.colors.stroke,o.length=Math.round(Math.hypot(r[2]-r[0],r[3]-r[1]));let t=this._getPos(r[0],[1]),i=this._getPos(r[2],[3]);o.loc=n(u,this.width,this.height),o.pos=t===i?`at ${t}`:`from ${t} to ${i}`}else"point"===t?o.color=this.ingredients.colors.stroke:(o.color=this.ingredients.colors.fill,o.area=this._getArea(t,r)),o.pos=this._getPos(...u),o.loc=n(u,this.width,this.height);if(this.ingredients.shapes[t]){for(let r in this.ingredients.shapes[t])JSON.stringify(this.ingredients.shapes[t][r])===JSON.stringify(o)&&(l=!1);!0===l&&this.ingredients.shapes[t].push(o)}else this.ingredients.shapes[t]=[o]},r._getPos=function(r,n){let{x:i,y:s}=this.worldToScreen(new t.Vector(r,n)),a=this.width,o=this.height;return i<.4*a?s<.4*o?"top left":s>.6*o?"bottom left":"mid left":i>.6*a?s<.4*o?"top right":s>.6*o?"bottom right":"mid right":s<.4*o?"top middle":s>.6*o?"bottom middle":"middle"},r._getArea=function(t,r){let n=0;if("arc"===t){let t=((r[5]-r[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI);if(n=t*r[2]*r[3]/8,"open"===r[6]||"chord"===r[6]){let i=r[0],s=r[1],a=r[0]+r[2]/2*Math.cos(r[4]).toFixed(2),o=r[1]+r[3]/2*Math.sin(r[4]).toFixed(2),l=r[0]+r[2]/2*Math.cos(r[5]).toFixed(2),u=r[1]+r[3]/2*Math.sin(r[5]).toFixed(2),h=Math.abs(i*(o-u)+a*(u-s)+l*(s-o))/2;t>Math.PI?n+=h:n-=h}}else"ellipse"===t||"circle"===t?n=3.14*r[2]/2*r[3]/2:"line"===t||"point"===t?n=0:"quadrilateral"===t?n=Math.abs((r[6]+r[0])*(r[7]-r[1])+(r[0]+r[2])*(r[1]-r[3])+(r[2]+r[4])*(r[3]-r[5])+(r[4]+r[6])*(r[5]-r[7]))/2:"rectangle"===t||"square"===t?n=r[2]*r[3]:"triangle"===t&&(n=Math.abs(r[0]*(r[3]-r[5])+r[2]*(r[5]-r[1])+r[4]*(r[1]-r[3]))/2);let i=this.width*this._renderer._pixelDensity,s=this.height*this._renderer._pixelDensity,a=[new DOMPoint(0,0),new DOMPoint(i,0),new DOMPoint(i,s),new DOMPoint(0,s)],o=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),l=a.map(t=>t.matrixTransform(o));return Math.round(100*n/(Math.abs((l[3].x+l[0].x)*(l[3].y-l[0].y)+(l[0].x+l[1].x)*(l[0].y-l[1].y)+(l[1].x+l[2].x)*(l[1].y-l[2].y)+(l[2].x+l[3].x)*(l[2].y-l[3].y))/2))}}s0.registerAddon(eV),s0.registerAddon(ez),s0.registerAddon(eU),s0.registerAddon(i2),s0.registerAddon(function(t,r){t.Renderer=nA}),s0.registerAddon(function(t,r){t.Renderer2D=sJ,t.renderers.p2d=sJ,t.renderers["p2d-hdr"]=new Proxy(sJ,{construct:(t,[r,n,i,s,a])=>new t(r,n,i,s,a,{colorSpace:"display-p3"})})}),s0.registerAddon(function(t,r){t.Graphics=iR,nN(t,t.Graphics.prototype),nO(0,t.Graphics.prototype),nR(0,t.Graphics.prototype),nV(0,t.Graphics.prototype),nS(t,t.Graphics.prototype),nz(0,t.Graphics.prototype),n3(t,t.Graphics.prototype),nj(t,t.Graphics.prototype),n4(t,t.Graphics.prototype),eV(t,t.Graphics.prototype),iI(t,t.Graphics.prototype),iB(0,t.Graphics.prototype),iN(0,t.Graphics.prototype),rW(t,t.Graphics.prototype),iO(0,t.Graphics.prototype)}),void 0!==m&&s1(0,m.prototype),void 0!==m&&s2(0,m.prototype),void 0!==m&&s5(0,m.prototype),void 0!==m&&s3(m,m.prototype),s0.ColorConversion={_hsbaToHSLA(t){let r=t[0],n=t[1],i=t[2],s=(2-n)*i/2;return 0!==s&&(1===s?n=0:s<.5?n/=2-n:n=n*i/(2-2*s)),[r,n,s,t[3]]},_hsbaToRGBA(t){let r=6*t[0],n=t[1],i=t[2],s=[];if(0===n)s=[i,i,i,t[3]];else{let a,o,l,u=Math.floor(r),h=i*(1-n),c=i*(1-n*(r-u)),d=i*(1-n*(1+u-r));1===u?(a=c,o=i,l=h):2===u?(a=h,o=i,l=d):3===u?(a=h,o=c,l=i):4===u?(a=d,o=h,l=i):5===u?(a=i,o=h,l=c):(a=i,o=d,l=h),s=[a,o,l,t[3]]}return s},_hslaToHSBA(t){let r,n=t[0],i=t[1],s=t[2];return[n,i=2*((r=s<.5?(1+i)*s:s+i-s*i)-s)/r,r,t[3]]},_hslaToRGBA(t){let r=6*t[0],n=t[1],i=t[2],s=[];if(0===n)s=[i,i,i,t[3]];else{let a;a=i<.5?(1+n)*i:i+n-i*n;let o=2*i-a,l=(t,r,n)=>(t<0?t+=6:t>=6&&(t-=6),t<1?r+(n-r)*t:t<3?n:t<4?r+(n-r)*(4-t):r);s=[l(r+2,o,a),l(r,o,a),l(r-2,o,a),t[3]]}return s},_rgbaToHSBA(t){let r,n,i=t[0],s=t[1],a=t[2],o=Math.max(i,s,a),l=o-Math.min(i,s,a);return 0===l?(r=0,n=0):(n=l/o,i===o?r=(s-a)/l:s===o?r=2+(a-i)/l:a===o&&(r=4+(i-s)/l),r<0?r+=6:r>=6&&(r-=6)),[r/6,n,o,t[3]]},_rgbaToHSLA(t){let r,n,i=t[0],s=t[1],a=t[2],o=Math.max(i,s,a),l=Math.min(i,s,a),u=o+l,h=o-l;return 0===h?(r=0,n=0):(n=u<1?h/u:h/(2-u),i===o?r=(s-a)/h:s===o?r=2+(a-i)/h:a===o&&(r=4+(i-s)/h),r<0?r+=6:r>=6&&(r-=6)),[r/6,n,u/2,t[3]]}};var s4=s0.ColorConversion;function s6(t,r){let n,i=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],s=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];r._rgbColorName=function(t){let r=s4._rgbaToHSBA(t);return n=r,function(t){let r;if(0!==t[0]){t[0]=Math.round(100*t[0]);let r=t[0].toString().split(""),n=r.length-1;r[n]=parseInt(r[n]),r[n]<2.5?r[n]=0:r[n]>=2.5&&r[n]<7.5&&(r[n]=5),2===r.length?(r[0]=parseInt(r[0]),r[n]>=7.5&&(r[n]=0,r[0]=r[0]+1),t[0]=10*r[0]+r[1]):r[n]>=7.5?t[0]=10:t[0]=r[n]}t[2]=t[2]/255;for(let r=t.length-1;r>=1;r--)t[r]<=.25?t[r]=0:t[r]>.25&&t[r]<.75?t[r]=.5:t[r]=1;if(0===t[0]&&0===t[1]&&1===t[2]){for(let t=2;t>=0;t--)n[t]=Math.round(1e4*n[t])/1e4;for(let t=0;t<i.length;t++){if(i[t].h===n[0]&&i[t].s===n[1]&&i[t].b===n[2]){r=i[t].name;break}r="white"}}else for(let n=0;n<s.length;n++)if(s[n].h===t[0]&&s[n].s===t[1]&&s[n].b===t[2]){r=s[n].name;break}return r}([r[0],r[1],r[2]])}}function s8(t,r){r.storeItem=function(r,n){"string"!=typeof r&&console.log(`The argument that you passed to storeItem() - ${r} is not a string.`),r.endsWith("p5TypeID")&&console.log(`The argument that you passed to storeItem() - ${r} must not end with 'p5TypeID'.`),void 0===n&&console.log("You cannot store undefined variables using storeItem().");let i=typeof n;switch(i){case"number":case"boolean":n=n.toString();break;case"object":n instanceof t.Color?(i="p5.Color",n=n.toString()):n instanceof t.Vector&&(i="p5.Vector",n=n.values),n=JSON.stringify(n)}localStorage.setItem(r,n);let s=`${r}p5TypeID`;localStorage.setItem(s,i)},r.getItem=function(t){let r=localStorage.getItem(t),n=localStorage.getItem(`${t}p5TypeID`);if(void 0===n)console.log(`Unable to determine type of item stored under ${t}in local storage. Did you save the item with something other than setItem()?`);else if(null!==r)switch(n){case"number":r=parseFloat(r);break;case"boolean":r="true"===r;break;case"object":r=JSON.parse(r);break;case"p5.Color":r=this.color(JSON.parse(r));break;case"p5.Vector":r=JSON.parse(r),r=this.createVector(...r)}return r},r.clearStorage=function(){Object.keys(localStorage).forEach(t=>{t.endsWith("p5TypeID")&&this.removeItem(t.replace("p5TypeID",""))})},r.removeItem=function(t){"string"!=typeof t&&console.log(`The argument that you passed to removeItem() - ${t} is not a string.`),localStorage.removeItem(t),localStorage.removeItem(`${t}p5TypeID`)}}function s9(t,r){function n(t,r,n){(r._userNode?r._userNode:document.body).appendChild(t);let i=n?new nM(t,r):new rZ(t,r);return r._elements.push(i),i}r.select=function(t,r){let n=this._getContainer(r).querySelector(t);return n?this._wrapElement(n):null},r.selectAll=function(t,r){let n=[],i=this._getContainer(r).querySelectorAll(t);if(i)for(let t=0;t<i.length;t++){let r=this._wrapElement(i[t]);n.push(r)}return n},r._getContainer=function(t){let r=document;return"string"==typeof t?r=document.querySelector(t)||document:t instanceof rZ?r=t.elt:t instanceof HTMLElement&&(r=t),r},r._wrapElement=function(t){let r=Array.prototype.slice.call(t.children);if("INPUT"===t.tagName&&"checkbox"===t.type){let r=new rZ(t,this);return r.checked=function(...t){return 0===t.length?this.elt.checked:(t[0]?this.elt.checked=!0:this.elt.checked=!1,this)},r}return"VIDEO"===t.tagName||"AUDIO"===t.tagName?new nM(t,this):"SELECT"===t.tagName?this.createSelect(new rZ(t,this)):r.length>0&&r.every(function(t){return"INPUT"===t.tagName||"LABEL"===t.tagName})&&("DIV"===t.tagName||"SPAN"===t.tagName)?this.createRadio(new rZ(t,this)):new rZ(t,this)},r.createElement=function(t,r){let i=document.createElement(t);return void 0!==r&&(i.innerHTML=r),n(i,this)},r.removeElements=function(t){this._elements.filter(t=>!(t.elt instanceof HTMLCanvasElement)).map(t=>t.remove())},r.createDiv=function(t=""){let r=document.createElement("div");return r.innerHTML=t,n(r,this)},r.createP=function(t=""){let r=document.createElement("p");return r.innerHTML=t,n(r,this)},r.createSpan=function(t=""){let r=document.createElement("span");return r.innerHTML=t,n(r,this)},r.createImg=function(){let t,r=document.createElement("img"),i=arguments;return i.length>1&&"string"==typeof i[1]&&(r.alt=i[1]),i.length>2&&"string"==typeof i[2]&&(r.crossOrigin=i[2]),r.src=i[0],t=n(r,this),r.addEventListener("load",function(){t.width=r.offsetWidth||r.width,t.height=r.offsetHeight||r.height;let n=i[i.length-1];"function"==typeof n&&n(t)}),t},r.createA=function(t,r,i){let s=document.createElement("a");return s.href=t,s.innerHTML=r,i&&(s.target=i),n(s,this)},r.createSlider=function(t,r,i,s){let a=document.createElement("input");return a.type="range",a.min=t,a.max=r,0===s?a.step=1e-18:s&&(a.step=s),"number"==typeof i&&(a.value=i),n(a,this)},r.createButton=function(t,r){let i=document.createElement("button");return i.innerHTML=t,r&&(i.value=r),n(i,this)},r.createCheckbox=function(...t){let r=document.createElement("div"),i=document.createElement("input");i.type="checkbox";let s=document.createElement("label");s.appendChild(i),r.appendChild(s);let a=n(r,this);if(a.checked=function(...t){let r=a.elt.firstElementChild.getElementsByTagName("input")[0];if(r){if(0===t.length)return r.checked;t[0]?r.checked=!0:r.checked=!1}return a},this.value=function(t){return a.value=t,this},t[0]){a.value(t[0]);let r=document.createElement("span");r.innerHTML=t[0],s.appendChild(r)}return t[1]&&(i.checked=!0),a},r.createSelect=function(...t){let r,i=t[0];if(i instanceof rZ&&i.elt instanceof HTMLSelectElement)r=i,this.elt=i.elt;else if(i instanceof HTMLSelectElement)r=n(i,this),this.elt=i;else{let t=document.createElement("select");i&&"boolean"==typeof i&&t.setAttribute("multiple","true"),r=n(t,this),this.elt=t}return r.option=function(t,r){let n;if(void 0!==t){for(let r=0;r<this.elt.length;r+=1)if(this.elt[r].textContent===t){n=r;break}if(void 0!==n)!1===r?this.elt.remove(n):this.elt[n].value=r;else{let n=document.createElement("option");n.textContent=t,n.value=void 0===r?t:r,this.elt.appendChild(n),this._pInst._elements.push(n)}}},r.selected=function(t){if(void 0!==t){for(let r=0;r<this.elt.length;r+=1)this.elt[r].value.toString()===t.toString()&&(this.elt.selectedIndex=r);return this}if(this.elt.getAttribute("multiple")){let t=[];for(let r of this.elt.selectedOptions)t.push(r.value);return t}return this.elt.value},r.disable=function(t){if("string"==typeof t)for(let r=0;r<this.elt.length;r++)this.elt[r].value.toString()===t&&(this.elt[r].disabled=!0,this.elt[r].selected=!1);else this.elt.disabled=!0;return this},r.enable=function(t){if("string"==typeof t)for(let r=0;r<this.elt.length;r++)this.elt[r].value.toString()===t&&(this.elt[r].disabled=!1,this.elt[r].selected=!1);else{this.elt.disabled=!1;for(let t=0;t<this.elt.length;t++)this.elt[t].disabled=!1,this.elt[t].selected=!1}return this},r};let i=0;r.createRadio=function(...t){let r,s,a,o=t[0];o instanceof rZ&&(o.elt instanceof HTMLDivElement||o.elt instanceof HTMLSpanElement)?(r=o,this.elt=o.elt):o instanceof HTMLDivElement||o instanceof HTMLSpanElement?(r=n(o,this),this.elt=o,s=o,"string"==typeof t[1]&&(a=t[1])):("string"==typeof o&&(a=o),r=n(s=document.createElement("div"),this),this.elt=s),r._name=a||"radioOption_"+i++;let l=t=>t instanceof HTMLInputElement&&"radio"===t.type,u=t=>t instanceof HTMLLabelElement;return r._getOptionsArray=function(){return Array.from(this.elt.children).filter(t=>l(t)||u(t)&&l(t.firstElementChild)).map(t=>l(t)?t:t.firstElementChild)},r.option=function(t,n){let i,s,a;for(let n of r._getOptionsArray())if(n.value===t){i=n;break}return void 0===i&&((i=document.createElement("input")).setAttribute("type","radio"),i.setAttribute("value",t)),i.setAttribute("name",r._name),u(i.parentElement)?s=i.parentElement:(s=document.createElement("label")).insertAdjacentElement("afterbegin",i),s.lastElementChild instanceof HTMLSpanElement?a=s.lastElementChild:(a=document.createElement("span"),i.insertAdjacentElement("afterend",a)),a.innerHTML=void 0===n?t:n,this.elt.appendChild(s),i},r.remove=function(t){for(let n of r._getOptionsArray())if(n.value===t)return void(u(n.parentElement)?n.parentElement.remove():n.remove())},r.value=function(){let t="";for(let n of r._getOptionsArray())if(n.checked){t=n.value;break}return t},r.selected=function(t){let n=null;if(void 0===t){for(let t of r._getOptionsArray())if(t.checked){n=t;break}}else for(let i of(r._getOptionsArray().forEach(t=>{t.checked=!1,t.removeAttribute("checked")}),r._getOptionsArray()))i.value===t&&(i.setAttribute("checked",!0),i.checked=!0,n=i);return n},r.disable=function(t=!0){for(let n of r._getOptionsArray())n.setAttribute("disabled",t)},r},r.createColorPicker=function(r){let i,s=document.createElement("input");s.type="color",r?r instanceof t.Color?s.value=r.toString("#rrggbb"):(this.push(),this.colorMode("rgb"),s.value=this.color(r).toString("#rrggbb"),this.pop()):s.value="#000000";let a=this;return(i=n(s,this)).color=function(){a.push(),r&&r.mode&&a.colorMode(r.mode,...r?.maxes&&r.maxes[r.mode]||[]);let t=a.color(this.elt.value);return a.pop(),t},i},r.createInput=function(t="",r="text"){let i=document.createElement("input");return i.setAttribute("value",t),i.setAttribute("type",r),n(i,this)},r.createFileInput=function(t,r=!1){if(!(window.File&&window.FileReader&&window.FileList&&window.Blob))return void console.log("The File APIs are not fully supported in this browser. Cannot create element.");let i=document.createElement("input");return i.setAttribute("type","file"),r&&i.setAttribute("multiple",!0),i.addEventListener("change",function(r){for(let n of r.target.files)rX._load(n,t)},!1),n(i,this)}}function s7(t,r,n){n.presetup=function(){for(let t of["deviceorientation","devicemotion"])window.addEventListener(t,this[`_on${t}`].bind(this),{passive:!1,signal:this._removeSignal})},r.deviceOrientation=window.innerWidth/window.innerHeight>1?"landscape":"portrait",r.accelerationX=0,r.accelerationY=0,r.accelerationZ=0,r.pAccelerationX=0,r.pAccelerationY=0,r.pAccelerationZ=0,r._updatePAccelerations=function(){this.pAccelerationX=this.accelerationX,this.pAccelerationY=this.accelerationY,this.pAccelerationZ=this.accelerationZ},r.rotationX=0,r.rotationY=0,r.rotationZ=0,r.pRotationX=0,r.pRotationY=0,r.pRotationZ=0;let i=0,s=0,a=0,o="clockwise",l="clockwise",u="clockwise";r.pRotateDirectionX=void 0,r.pRotateDirectionY=void 0,r.pRotateDirectionZ=void 0,r._updatePRotations=function(){this.pRotationX=this.rotationX,this.pRotationY=this.rotationY,this.pRotationZ=this.rotationZ},r.turnAxis=void 0;let h=.5,c=30;r.setMoveThreshold=function(t){h=t},r.setShakeThreshold=function(t){c=t},r._ondeviceorientation=function(t){this._updatePRotations(),this.rotationX=this._fromDegrees(t.beta),this.rotationY=this._fromDegrees(t.gamma),this.rotationZ=this._fromDegrees(t.alpha),this._handleMotion()},r._ondevicemotion=function(t){this._updatePAccelerations(),this.accelerationX=2*t.acceleration.x,this.accelerationY=2*t.acceleration.y,this.accelerationZ=2*t.acceleration.z,this._handleMotion()},r._handleMotion=function(){if("landscape-primary"===screen.orientation.type||"landscape-secondary"===screen.orientation.type?this.deviceOrientation="landscape":"portrait-primary"===screen.orientation.type||"portrait-secondary"===screen.orientation.type?this.deviceOrientation="portrait":this.deviceOrientation="undefined","function"==typeof this._customActions.deviceMoved&&(Math.abs(this.accelerationX-this.pAccelerationX)>h||Math.abs(this.accelerationY-this.pAccelerationY)>h||Math.abs(this.accelerationZ-this.pAccelerationZ)>h)&&this._customActions.deviceMoved(),"function"==typeof this._customActions.deviceTurned){let t=this._toDegrees(this.rotationX)+180,r=this._toDegrees(this.pRotationX)+180,n=i+180;t-r>0&&t-r<270||t-r<-270?o="clockwise":(t-r<0||t-r>270)&&(o="counter-clockwise"),o!==this.pRotateDirectionX&&(n=t),Math.abs(t-n)>90&&270>Math.abs(t-n)&&(n=t,this.turnAxis="X",this._customActions.deviceTurned()),this.pRotateDirectionX=o,i=n-180;let h=this._toDegrees(this.rotationY)+180,c=this._toDegrees(this.pRotationY)+180,d=s+180;h-c>0&&h-c<270||h-c<-270?l="clockwise":(h-c<0||h-this.pRotationY>270)&&(l="counter-clockwise"),l!==this.pRotateDirectionY&&(d=h),Math.abs(h-d)>90&&270>Math.abs(h-d)&&(d=h,this.turnAxis="Y",this._customActions.deviceTurned()),this.pRotateDirectionY=l,s=d-180;let p=this._toDegrees(this.rotationZ),f=this._toDegrees(this.pRotationZ);p-f>0&&p-f<270||p-f<-270?u="clockwise":(p-f<0||p-f>270)&&(u="counter-clockwise"),u!==this.pRotateDirectionZ&&(a=p),Math.abs(p-a)>90&&270>Math.abs(p-a)&&(a=p,this.turnAxis="Z",this._customActions.deviceTurned()),this.pRotateDirectionZ=u,this.turnAxis=void 0}if("function"==typeof this._customActions.deviceShaken){let t,r;null!==this.pAccelerationX&&(t=Math.abs(this.accelerationX-this.pAccelerationX),r=Math.abs(this.accelerationY-this.pAccelerationY)),t+r>c&&this._customActions.deviceShaken()}}}function ae(t,r,n){n.presetup=function(){for(let t of["keydown","keyup","keypress","blur"])window.addEventListener(t,this[`_on${t}`].bind(this),{passive:!1,signal:this._removeSignal})},r.keyIsPressed=!1,r.key="",r.code="",r.keyCode=0,r._onkeydown=function(t){this._downKeys[t.code]||(this.keyIsPressed=!0,this.keyCode=t.which,this.key=t.key,this.code=t.code,this._downKeyCodes[t.code]=!0,this._downKeys[t.key]=!0,"function"!=typeof this._customActions.keyPressed||t.charCode)||!1!==this._customActions.keyPressed(t)||t.preventDefault()},r._onkeyup=function(t){if("function"==typeof this._customActions.keyReleased&&!1===this._customActions.keyReleased(t)&&t.preventDefault(),delete this._downKeyCodes[t.code],delete this._downKeys[t.key],this._areDownKeys()){let t=Object.keys(this._downKeyCodes).pop();this.code=t;let r=Object.keys(this._downKeys).pop();this.key=r}else this.keyIsPressed=!1,this.key="",this.code=""},r._onkeypress=function(t){t.which===this._lastKeyCodeTyped&&t.repeat||(this._lastKeyCodeTyped=t.which,this.key=t.key||String.fromCharCode(t.which)||t.which,"function"!=typeof this._customActions.keyTyped)||!1!==this._customActions.keyTyped(t)||t.preventDefault()},r._onblur=function(t){this._downKeys={}},r.keyIsDown=function(t){return!["Alt","Shift","Control","Meta"].includes(t)&&"string"==typeof t&&t.length>1?this._downKeyCodes[t]||this._downKeys[t]||!1:this._downKeys[t]||this._downKeyCodes[t]||!1},r._areDownKeys=function(){for(let t in this._downKeys)if(this._downKeys.hasOwnProperty(t)&&!0===this._downKeys[t])return!0;return!1}}function at(t,r,n){n.presetup=function(){for(let t of["pointerdown","pointerup","pointermove","dragend","dragover","click","dblclick","wheel"])window.addEventListener(t,this[`_on${t}`].bind(this),{passive:!1,signal:this._removeSignal})},r.movedX=0,r.movedY=0,r._hasMouseInteracted=!1,r.mouseX=0,r.mouseY=0,r.pmouseX=0,r.pmouseY=0,r.winMouseX=0,r.winMouseY=0,r.pwinMouseX=0,r.pwinMouseY=0,r.mouseButton={left:!1,right:!1,center:!1},r.touches=[],r._activePointers=new Map,r.mouseIsPressed=!1,r._updatePointerCoords=function(t){if(null!==this._curElement){let r,n=this._curElement.elt,i=n.scrollWidth/this.width||1,s=n.scrollHeight/this.height||1;if("touch"===t.pointerType){let t=[];for(let r of this._activePointers.values())t.push(function(t,r,n,i){let s=t.getBoundingClientRect();return{x:(i.clientX-s.left)/r,y:(i.clientY-s.top)/n,winX:i.clientX,winY:i.clientY,id:i.pointerId}}(n,i,s,r));this.touches=t}let a=(r=n.getBoundingClientRect(),{x:(t.clientX-r.left)/i,y:(t.clientY-r.top)/s,winX:t.clientX,winY:t.clientY});this.movedX=t.movementX||0,this.movedY=t.movementY||0,this.mouseX=a.x,this.mouseY=a.y,this.winMouseX=a.winX,this.winMouseY=a.winY,this._hasMouseInteracted||(this._updateMouseCoords(),this._hasMouseInteracted=!0)}},r._updateMouseCoords=function(){this.pmouseX=this.mouseX,this.pmouseY=this.mouseY,this.pwinMouseX=this.winMouseX,this.pwinMouseY=this.winMouseY,this._pmouseWheelDeltaY=this._mouseWheelDeltaY},r._setMouseButton=function(t){this.mouseButton.left=Array.from(this._activePointers.values()).some(t=>!!(1&t.buttons)),this.mouseButton.center=Array.from(this._activePointers.values()).some(t=>!!(4&t.buttons)),this.mouseButton.right=Array.from(this._activePointers.values()).some(t=>!!(2&t.buttons))},r._onpointermove=function(t){this._updatePointerCoords(t),this._activePointers.set(t.pointerId,t),this._setMouseButton(t),this.mouseIsPressed||"function"!=typeof this._customActions.mouseMoved?this.mouseIsPressed&&"function"==typeof this._customActions.mouseDragged&&!1===this._customActions.mouseDragged(t)&&t.preventDefault():!1===this._customActions.mouseMoved(t)&&t.preventDefault()},r._onpointerdown=function(t){this.mouseIsPressed=!0,this._activePointers.set(t.pointerId,t),this._setMouseButton(t),this._updatePointerCoords(t),"function"==typeof this._customActions.mousePressed&&!1===this._customActions.mousePressed(t)&&t.preventDefault()},r._onpointerup=function(t){this.mouseIsPressed=!1,this._activePointers.delete(t.pointerId),this._setMouseButton(t),this._updatePointerCoords(t),"function"==typeof this._customActions.mouseReleased&&!1===this._customActions.mouseReleased(t)&&t.preventDefault()},r._ondragend=r._onpointerup,r._ondragover=r._onpointermove,r._onclick=function(t){"function"==typeof this._customActions.mouseClicked&&!1===this._customActions.mouseClicked(t)&&t.preventDefault()},r._ondblclick=function(t){"function"==typeof this._customActions.doubleClicked&&!1===this._customActions.doubleClicked(t)&&t.preventDefault()},r._mouseWheelDeltaY=0,r._pmouseWheelDeltaY=0,r._onwheel=function(t){this._mouseWheelDeltaY=t.deltaY,"function"==typeof this._customActions.mouseWheel&&(t.delta=t.deltaY,!1===this._customActions.mouseWheel(t)&&t.preventDefault())},r.requestPointerLock=function(){let t=this._curElement.elt;return t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock,t.requestPointerLock?(t.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},r.exitPointerLock=function(){document.exitPointerLock()}}void 0!==m&&s6(0,m.prototype),void 0!==m&&s8(m,m.prototype),void 0!==m&&s9(m,m.prototype),void 0!==m&&s7(0,m.prototype),void 0!==m&&ae(0,m.prototype),void 0!==m&&at(0,m.prototype);class ar{constructor(t){this.columns=[],this.rows=[]}toString(t=","){let r=this.rows.map(t=>t.arr);return this.columns.some(t=>null===t)||(r=[this.columns,...r]),function(t,r={},n=t=>t){let i=Object.create(null);if(i.options=r,i.options.eof=void 0===i.options.eof||i.options.eof,i.row=1,i.col=1,i.output="",i.options.delimiter=void 0===i.options.delimiter?'"':r.delimiter,i.options.delimiter.length>1||0===i.options.delimiter.length)throw Error(`CSVError: delimiter must be one character [${i.options.separator}]`);if(i.options.separator=void 0===i.options.separator?",":r.separator,i.options.separator.length>1||0===i.options.separator.length)throw Error(`CSVError: separator must be one character [${i.options.separator}]`);let s=RegExp(`${nH(i.options.delimiter)}|${nH(i.options.separator)}|\r
|
|\r`);return t.forEach((r,a)=>{let o="";switch(i.col=1,r.forEach((t,a)=>{"string"==typeof t&&(t=t.replace(RegExp(i.options.delimiter,"g"),`${i.options.delimiter}${i.options.delimiter}`),t=s.test(t)?`${i.options.delimiter}${t}${i.options.delimiter}`:t),o+=n(t,i.row,i.col),a!==r.length-1&&(o+=i.options.separator),i.col++}),!0){case i.options.eof:case!i.options.eof&&a!==t.length-1:i.output+=`${o}
`;break;default:i.output+=`${o}`}i.row++}),i.output}(r,{separator:t})}addRow(t){let r=t||new m.TableRow;if(void 0===r.arr||void 0===r.obj)throw Error(`invalid TableRow: ${r}`);return r.table=this,this.rows.push(r),r}removeRow(t){this.rows[t].table=null;let r=this.rows.splice(t+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(r)}getRow(t){return this.rows[t]}getRows(){return this.rows}findRow(t,r){if("string"==typeof r){for(let n=0;n<this.rows.length;n++)if(this.rows[n].obj[this.columns.indexOf(r)]===t)return this.rows[n]}else for(let n=0;n<this.rows.length;n++)if(this.rows[n].arr[r]===t)return this.rows[n];return null}findRows(t,r){let n=[];if("string"==typeof r)for(let i=0;i<this.rows.length;i++)this.rows[i].obj[this.columns.indexOf(r)]===t&&n.push(this.rows[i]);else for(let i=0;i<this.rows.length;i++)this.rows[i].arr[r]===t&&n.push(this.rows[i]);return n}matchRow(t,r){if("number"==typeof r){for(let n=0;n<this.rows.length;n++)if(this.rows[n].arr[r].match(t))return this.rows[n]}else for(let n=0;n<this.rows.length;n++)if(this.rows[n].obj[this.columns.indexOf(r)].match(t))return this.rows[n];return null}matchRows(t,r){let n=[];if("number"==typeof r)for(let i=0;i<this.rows.length;i++)this.rows[i].arr[r].match(t)&&n.push(this.rows[i]);else for(let i=0;i<this.rows.length;i++)this.rows[i].obj[this.columns.indexOf(r)].match(t)&&n.push(this.rows[i]);return n}getColumn(t){let r=[];if("string"==typeof t)for(let n=0;n<this.rows.length;n++)r.push(this.rows[n].obj[this.columns.indexOf(t)]);else for(let n=0;n<this.rows.length;n++)r.push(this.rows[n].arr[t]);return r}clearRows(){delete this.rows,this.rows=[]}addColumn(t){this.columns.push(t||null)}getColumnCount(){return this.columns.length}getRowCount(){return this.rows.length}removeTokens(t,r){let n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));let i=RegExp(n.join("|"),"g");if(void 0===r)for(let t=0;t<this.columns.length;t++)for(let r=0;r<this.rows.length;r++){let n=this.rows[r].arr[t];n=n.replace(i,""),this.rows[r].arr[t]=n,this.rows[r].obj[this.columns[t]]=n}else if("string"==typeof r)for(let t=0;t<this.rows.length;t++){let n=this.rows[t].obj[r];n=n.replace(i,""),this.rows[t].obj[r]=n;let s=this.columns.indexOf(r);this.rows[t].arr[s]=n}else for(let t=0;t<this.rows.length;t++){let n=this.rows[t].arr[r];n=n.replace(i,""),this.rows[t].arr[r]=n,this.rows[t].obj[this.columns[r]]=n}}trim(t){let r=RegExp(" ","g");if(void 0===t)for(let t=0;t<this.columns.length;t++)for(let n=0;n<this.rows.length;n++){let i=this.rows[n].arr[t];i=i.replace(r,""),this.rows[n].arr[t]=i,this.rows[n].obj[this.columns[t]]=i}else if("string"==typeof t)for(let n=0;n<this.rows.length;n++){let i=this.rows[n].obj[t];i=i.replace(r,""),this.rows[n].obj[t]=i;let s=this.columns.indexOf(t);this.rows[n].arr[s]=i}else for(let n=0;n<this.rows.length;n++){let i=this.rows[n].arr[t];i=i.replace(r,""),this.rows[n].arr[t]=i,this.rows[n].obj[this.columns[t]]=i}}removeColumn(t){let r,n;"string"==typeof t?(r=t,n=this.columns.indexOf(t)):(n=t,r=this.columns[t]);let i=this.columns.splice(n+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(i);for(let t=0;t<this.rows.length;t++){let i=this.rows[t].arr,s=i.splice(n+1,i.length);i.pop(),this.rows[t].arr=i.concat(s),delete this.rows[t].obj[r]}}set(t,r,n){this.rows[t].set(r,n)}setNum(t,r,n){this.rows[t].setNum(r,n)}setString(t,r,n){this.rows[t].setString(r,n)}get(t,r){return"string"==typeof r?this.rows[t].get(this.columns.indexOf(r)):this.rows[t].get(r)}getNum(t,r){return this.rows[t].getNum(r)}getString(t,r){return this.rows[t].getString(r)}getObject(t){let r,n={};for(let i=0;i<this.rows.length;i++)if(r=this.rows[i].obj,"string"==typeof t){if(!(this.columns.indexOf(t)>=0))throw Error(`This table has no column named "${t}"`);n[r[t]]=r}else n[i]=this.rows[i].obj;return n}getArray(){let t=[];for(let r=0;r<this.rows.length;r++)t.push(this.rows[r].arr);return t}}function an(t,r){t.Table=ar}void 0!==m&&an(m);class ai{constructor(t=[]){this.arr=t,this.obj=Object.fromEntries(t.entries()),this.table=null}set(t,r){if("string"==typeof t){let n=this.table.columns.indexOf(t);if(!(n>=0))throw Error(`This table has no column named "${t}"`);this.obj[t]=r,this.arr[n]=r}else{if(!(t<this.table.columns.length))throw Error(`Column #${t} is out of the range of this table`);{this.arr[t]=r;let n=this.table.columns[t];this.obj[n]=r}}}setNum(t,r){let n=parseFloat(r);this.set(t,n)}setString(t,r){let n=r.toString();this.set(t,n)}get(t){return"string"==typeof t?this.obj[this.table.columns.indexOf(t)]:this.arr[t]}getNum(t){let r;if("NaN"===(r="string"==typeof t?parseFloat(this.obj[this.table.columns.indexOf(t)]):parseFloat(this.arr[t])).toString())throw`Error: ${this.obj[t]} is NaN (Not a Number)`;return r}getString(t){return"string"==typeof t?this.obj[this.table.columns.indexOf(t)].toString():this.arr[t].toString()}}function as(t,r){t.TableRow=ai}function aa(t,r){r.abs=Math.abs,r.ceil=Math.ceil,r.constrain=function(t,r,n){return Math.max(Math.min(t,n),r)},r.dist=function(...t){return 4===t.length?Math.hypot(t[2]-t[0],t[3]-t[1]):6===t.length?Math.hypot(t[3]-t[0],t[4]-t[1],t[5]-t[2]):void 0},r.exp=Math.exp,r.floor=Math.floor,r.lerp=function(t,r,n){return n*(r-t)+t},r.log=Math.log,r.mag=function(t,r){return Math.hypot(t,r)},r.map=function(t,r,n,i,s,a){let o=(t-r)/(n-r)*(s-i)+i;return a?i<s?this.constrain(o,i,s):this.constrain(o,s,i):o},r.max=function(...t){var r=t[0]instanceof Array?t[0]:t;let n=-1/0;for(let t of r)n=Math.max(n,t);return n},r.min=function(...t){var r=t[0]instanceof Array?t[0]:t;let n=1/0;for(let t of r)n=Math.min(n,t);return n},r.norm=function(t,r,n){return this.map(t,r,n,0,1)},r.pow=Math.pow,r.round=function(t,r){if(!r)return Math.round(t);let n=Math.pow(10,r);return Math.round(t*n)/n},r.sq=t=>t*t,r.sqrt=Math.sqrt,r.fract=function(t){let r=0,n=Number(t);if(isNaN(n)||Math.abs(n)===1/0)return n;if(n<0&&(n=-n,r=1),String(n).includes(".")&&!String(n).includes("e")){let t=String(n);return Math.abs(r-(t=Number("0"+t.slice(t.indexOf(".")))))}return n<1?Math.abs(r-n):0}}function ao(t,r){let n,i=4,s=.5,a=t=>.5*(1-Math.cos(t*Math.PI));r.noise=function(t,r=0,o=0){if(null==n){n=Array(4096);for(let t=0;t<4096;t++)n[t]=Math.random()}t<0&&(t=-t),r<0&&(r=-r),o<0&&(o=-o);let l,u,h,c,d,p=Math.floor(t),f=Math.floor(r),m=Math.floor(o),g=t-p,y=r-f,v=o-m,x=0,b=.5;for(let t=0;t<i;t++){let t=p+(f<<4)+(m<<8);l=a(g),u=a(y),h=n[4095&t],h+=l*(n[t+1&4095]-h),c=n[t+16&4095],c+=l*(n[t+16+1&4095]-c),h+=u*(c-h),t+=256,c=n[4095&t],c+=l*(n[t+1&4095]-c),d=n[t+16&4095],d+=l*(n[t+16+1&4095]-d),c+=u*(d-c),h+=a(v)*(c-h),x+=h*b,b*=s,p<<=1,f<<=1,y*=2,m<<=1,v*=2,(g*=2)>=1&&(p++,g--),y>=1&&(f++,y--),v>=1&&(m++,v--)}return x},r.noiseDetail=function(t,r){t>0&&(i=t),r>0&&(s=r)},r._getNoiseOctaves=function(){return i},r._getNoiseAmpFalloff=function(){return s},r.noiseSeed=function(t){let r,i,s={setSeed(t){i=r=(null==t?0x100000000*Math.random():t)>>>0},getSeed:()=>r,rand:()=>(i=(1664525*i+0x3c6ef35f)%0x100000000)/0x100000000};s.setSeed(t),n=Array(4096);for(let t=0;t<4096;t++)n[t]=s.rand()}}function al(t,r){let n="_lcg_random_state",i=0;r._lcg=function(t){return this[t]=(1664525*this[t]+0x3c6ef35f)%0x100000000,this[t]/0x100000000},r._lcgSetSeed=function(t,r){this[t]=(null==r?0x100000000*Math.random():r)>>>0},r.randomSeed=function(t){this._lcgSetSeed(n,t),this._gaussian_previous=!1},r.random=function(t,r){let i;if(i=null!=this[n]?this._lcg(n):Math.random(),void 0===t)return i;if(void 0===r)return t instanceof Array?t[Math.floor(i*t.length)]:i*t;if(t>r){let n=t;t=r,r=n}return i*(r-t)+t},r.randomGaussian=function(t,r=1){let n,s,a,o;if(this._gaussian_previous)n=i,this._gaussian_previous=!1;else{do o=(s=this.random(2)-1)*s+(a=this.random(2)-1)*a;while(o>=1)n=s*(o=Math.sqrt(-2*Math.log(o)/o)),i=a*o,this._gaussian_previous=!0}return n*r+(t||0)}}function au(t,r){r.createVector=function(r,n,i){return 0==arguments.length&&t._friendlyError("In 1.x, createVector() was a shortcut for createVector(0, 0, 0). In 2.x, p5.js has vectors of any dimension, so you must provide your desired number of zeros. Use createVector(0, 0) for a 2D vector and createVector(0, 0, 0) for a 3D vector."),this instanceof t?new t.Vector(this._fromRadians.bind(this),this._toRadians.bind(this),...arguments):new t.Vector(r,n,i)},r.createMatrix=function(...r){return new t.Matrix(...r)}}function ah(t,r){r.float=function(t){return t instanceof Array?t.map(parseFloat):parseFloat(t)},r.int=function(t,n=10){return t===1/0||"Infinity"===t?1/0:t===-1/0||"-Infinity"===t?-1/0:"string"==typeof t?parseInt(t,n):"number"==typeof t?0|t:"boolean"==typeof t?+!!t:t instanceof Array?t.map(t=>r.int(t,n)):void 0},r.str=function(t){return t instanceof Array?t.map(r.str):String(t)},r.boolean=function(t){return"number"==typeof t?0!==t:"string"==typeof t?"true"===t.toLowerCase():"boolean"==typeof t?t:t instanceof Array?t.map(r.boolean):void 0},r.byte=function(t){let n=r.int(t,10);return"number"==typeof n?(n+128)%256-128:n instanceof Array?n.map(r.byte):void 0},r.char=function(t){return"number"!=typeof t||isNaN(t)?t instanceof Array?t.map(r.char):"string"==typeof t?r.char(parseInt(t,10)):void 0:String.fromCharCode(t)},r.unchar=function(t){return"string"==typeof t&&1===t.length?t.charCodeAt(0):t instanceof Array?t.map(r.unchar):void 0},r.hex=function(t,n){if(n=null==n?n=8:n,t instanceof Array)return t.map(t=>r.hex(t,n));if(t===1/0||t===-1/0)return(t===1/0?"F":"0").repeat(n);if("number"==typeof t){t<0&&(t=0xffffffff+t+1);let r=Number(t).toString(16).toUpperCase();for(;r.length<n;)r=`0${r}`;return r.length>=n&&(r=r.substring(r.length-n,r.length)),r}},r.unhex=function(t){return t instanceof Array?t.map(r.unhex):parseInt(`0x${t}`,16)}}function ac(t,r){function n(t,r,n){let i=t<0,[s,a]=(t=Math.abs(t)).toString().split(".");if(void 0===n){s=s.padStart(r,"0");let t=a?s+"."+a:s;return i?"-"+t:t}{let o=t.toFixed(n);[s,a]=o.toString().split("."),s=s.padStart(r,"0");let l=void 0===a?s:s+"."+a;return i?"-"+l:l}}function i(t,r){let n=(t=t.toString()).indexOf("."),i=-1!==n?t.substring(n):"",s=-1!==n?t.substring(0,n):t;if(s=s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===r)i="";else if(void 0!==r)if(r>i.length){let t=r-(i+=-1===n?".":"").length+1;for(let r=0;r<t;r++)i+="0"}else i=i.substring(0,r+1);return s+i}function s(t){return parseFloat(t)>0?`+${t.toString()}`:t.toString()}function a(t){return parseFloat(t)>=0?` ${t.toString()}`:t.toString()}r.nf=function(t,r,i){return t instanceof Array?t.map(t=>n(t,r,i)):"[object Arguments]"===Object.prototype.toString.call(t)?3===t.length?this.nf(t[0],t[1],t[2]):2===t.length?this.nf(t[0],t[1]):this.nf(t[0]):n(t,r,i)},r.nfc=function(t,r){return t instanceof Array?t.map(t=>i(t,r)):i(t,r)},r.nfp=function(...t){let n=r.nf.apply(this,t);return n instanceof Array?n.map(s):s(n)},r.nfs=function(...t){let n=r.nf.apply(this,t);return n instanceof Array?n.map(a):a(n)},r.splitTokens=function(t,r){let n;if(void 0!==r){let t=r,i=/\]/g.exec(t),s=/\[/g.exec(t);s&&i?(t=t.slice(0,i.index)+t.slice(i.index+1),s=/\[/g.exec(t),t=t.slice(0,s.index)+t.slice(s.index+1),n=RegExp(`[\\[${t}\\]]`,"g")):i?(t=t.slice(0,i.index)+t.slice(i.index+1),n=RegExp(`[${t}\\]]`,"g")):s?(t=t.slice(0,s.index)+t.slice(s.index+1),n=RegExp(`[${t}\\[]`,"g")):n=RegExp(`[${t}]`,"g")}else n=/\s/g;return t.split(n).filter(t=>t)},r.shuffle=function(t,r){let n=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(t),i,s,a=(t=r||n?t:t.slice()).length;for(;a>1;)i=this.random(0,1)*a|0,s=t[--a],t[a]=t[i],t[i]=s;return t}}function ad(t,r){r.day=function(){return(new Date).getDate()},r.hour=function(){return(new Date).getHours()},r.minute=function(){return(new Date).getMinutes()},r.millis=function(){return -1===this._millisStart?0:window.performance.now()-this._millisStart},r.month=function(){return(new Date).getMonth()+1},r.second=function(){return(new Date).getSeconds()},r.year=function(){return(new Date).getFullYear()}}function ap(t,r){r.orbitControl=function(t,r,n,i){this._assert3d("orbitControl");let s=this._renderer.states.curCamera;void 0===t&&(t=1),void 0===r&&(r=t),void 0===n&&(n=1),"object"!=typeof i&&(i={}),!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=()=>!1,this.contextMenuDisabled=!0),!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=()=>!1,this.wheelDefaultDisabled=!0);let{disableTouchActions:a=!0}=i;!0!==this.touchActionsDisabled&&a&&(this.canvas.style["touch-action"]="none",this.touchActionsDisabled=!0);let{freeRotation:o=!1}=i,l=[];this.touches.forEach(t=>{this._renderer.prevTouches.forEach(r=>{if(t.id===r.id){let n={x:t.x,y:t.y,px:r.x,py:r.y};l.push(n)}})}),this._renderer.prevTouches=this.touches;let u=0,h=0,c=0,d=0,p=0,f=this.height<this.width?this.height:this.width,m=!1;if(l.length>0){if(m=l[0].x>0&&l[0].x<this.width&&l[0].y>0&&l[0].y<this.height,1===l.length){let n=l[0];h=-t*(n.x-n.px)/f,c=r*(n.y-n.py)/f}else{let t=l[0],r=l[1];u=-(Math.hypot(t.x-r.x,t.y-r.y)-Math.hypot(t.px-r.px,t.py-r.py))*n*4e-4,d=.5*(t.x+r.x)-.5*(t.px+r.px),p=.5*(t.y+r.y)-.5*(t.py+r.py)}this.touches.length>0?m&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)}else m=this.mouseX>0&&this.mouseX<this.width&&this.mouseY>0&&this.mouseY<this.height,0!==this._mouseWheelDeltaY?(u=Math.sign(this._mouseWheelDeltaY)*n*.01,this._mouseWheelDeltaY=0,m&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton.left?(h=-t*this.movedX/f,c=r*this.movedY/f):this.mouseButton.right&&(d=this.movedX,p=this.movedY*s.yScale),m&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1;if(0!==u&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=u),Math.abs(this._renderer.zoomVelocity)>.001?(o?s._orbitFree(0,0,this._renderer.zoomVelocity):s._orbit(0,0,this._renderer.zoomVelocity),0!==s.projMatrix.mat4[15]&&(s.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),s.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.mat4[0]=s.projMatrix.mat4[0],this._renderer.states.uPMatrix.mat4[5]=s.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,(0!==h||0!==c)&&this._renderer.executeRotateAndMove&&this._renderer.rotateVelocity.add(.6*h,.6*c),this._renderer.rotateVelocity.magSq()>1e-6?(o?s._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):s._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),(0!==d||0!==p)&&this._renderer.executeRotateAndMove){let t=2*d/this.width,r=-(2*p)/this.height;this._renderer.moveVelocity.add(.15*t,.15*r)}if(this._renderer.moveVelocity.magSq()>1e-6){let t=s._getLocalAxes(),r=s.eyeX-s.centerX,n=s.eyeY-s.centerY,i=s.eyeZ-s.centerZ,a=Math.sqrt(r*r+n*n+i*i),o,l,u=new ne(s.centerX,s.centerY,s.centerZ);u=s.cameraMatrix.multiplyPoint(u),u=this._renderer.states.uPMatrix.multiplyAndNormalizePoint(u),u.x-=this._renderer.moveVelocity.x,u.y-=this._renderer.moveVelocity.y;let h=this._renderer.states.uPMatrix.mat4;0===h[15]?(o=(h[8]+u.x)/h[0]*a,l=(h[9]+u.y)/h[5]*a):(o=(u.x-h[12])/h[0],l=(u.y-h[13])/h[5]),s.setPosition(s.eyeX+o*t.x[0]+l*t.y[0],s.eyeY+o*t.x[1]+l*t.y[1],s.eyeZ+o*t.x[2]+l*t.y[2]),this._renderer.moveVelocity.mult(.85)}else this._renderer.moveVelocity.set(0,0);return this},r.debugMode=function(...r){this._assert3d("debugMode");for(let r=t.lifecycleHooks.postdraw.length-1;r>=0;r--)t.lifecycleHooks.postdraw[r].toString()!==this._grid().toString()&&t.lifecycleHooks.postdraw[r].toString()!==this._axesIcon().toString()||t.lifecycleHooks.postdraw.splice(r,1);r[0]===eA?t.lifecycleHooks.postdraw.push(this._grid(r[1],r[2],r[3],r[4],r[5])):r[0]===ek?t.lifecycleHooks.postdraw.push(this._axesIcon(r[1],r[2],r[3],r[4])):(t.lifecycleHooks.postdraw.push(this._grid(r[0],r[1],r[2],r[3],r[4])),t.lifecycleHooks.postdraw.push(this._axesIcon(r[5],r[6],r[7],r[8])))},r.noDebugMode=function(){this._assert3d("noDebugMode");for(let r=t.lifecycleHooks.postdraw.length-1;r>=0;r--)t.lifecycleHooks.postdraw[r].toString()!==this._grid().toString()&&t.lifecycleHooks.postdraw[r].toString()!==this._axesIcon().toString()||t.lifecycleHooks.postdraw.splice(r,1)},r._grid=function(t,r,n,i,s){void 0===t&&(t=this.width/2),void 0===r&&(r=4>Math.round(t/30)?4:Math.round(t/30)),void 0===n&&(n=0),void 0===i&&(i=0),void 0===s&&(s=0);let a=t/r,o=t/2;return function(){this.push(),this.stroke(255*this._renderer.states.curStrokeColor[0],255*this._renderer.states.curStrokeColor[1],255*this._renderer.states.curStrokeColor[2]),this._renderer.states.setValue("uModelMatrix",this._renderer.states.uModelMatrix.clone()),this._renderer.states.uModelMatrix.reset();for(let t=0;t<=r;t++)this.beginShape(this.LINES),this.vertex(-o+n,i,t*a-o+s),this.vertex(+o+n,i,t*a-o+s),this.endShape();for(let t=0;t<=r;t++)this.beginShape(this.LINES),this.vertex(t*a-o+n,i,-o+s),this.vertex(t*a-o+n,i,+o+s),this.endShape();this.pop()}},r._axesIcon=function(t,r,n,i){return void 0===t&&(t=this.width/20>40?this.width/20:40),void 0===r&&(r=-this.width/4),void 0===n&&(n=r),void 0===i&&(i=r),()=>{this.push(),this._renderer.states.setValue("uModelMatrix",this._renderer.states.uModelMatrix.clone()),this._renderer.states.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(r,n,i),this.vertex(r+t,n,i),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(r,n,i),this.vertex(r,n+t,i),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(r,n,i),this.vertex(r,n,i+t),this.endShape(),this.pop()}}}async function af(t){try{return(await fetch(t,{method:"HEAD"})).ok}catch(t){return!1}}function am(t,r){async function n(t){let r=null,n={},{data:i}=await nq(t,"text"),s=i.split("\n");for(let t=0;t<s.length;++t){let i=s[t].trim().split(/\s+/);"newmtl"===i[0]?n[r=i[1]]={}:"Kd"===i[0]?n[r].diffuseColor=[parseFloat(i[1]),parseFloat(i[2]),parseFloat(i[3])]:"Ka"===i[0]?n[r].ambientColor=[parseFloat(i[1]),parseFloat(i[2]),parseFloat(i[3])]:"Ks"===i[0]?n[r].specularColor=[parseFloat(i[1]),parseFloat(i[2]),parseFloat(i[3])]:"map_Kd"===i[0]&&(n[r].texturePath=i[1])}return n}function i(t,r,n={}){let s={v:[],vt:[],vn:[]},a={},o=null,l=!1,u=!1;for(let i=0;i<r.length;++i){let h=r[i].trim().split(/\b\s+/);if(h.length>0){if("usemtl"===h[0])o=h[1];else if("v"===h[0]||"vn"===h[0]){let t=new ne(parseFloat(h[1]),parseFloat(h[2]),parseFloat(h[3]));s[h[0]].push(t)}else if("vt"===h[0]){let t=[parseFloat(h[1]),1-parseFloat(h[2])];s[h[0]].push(t)}else if("f"===h[0])for(let r=3;r<h.length;++r){let i=[],c=[1,r-1,r];for(let r=0;r<c.length;++r){let d=h[c[r]],p=d.split("/");for(let t=0;t<p.length;t++)p[t]=parseInt(p[t])-1;if(a[d]||(a[d]={}),void 0===a[d][o]){let r=t.vertices.length;if(t.vertices.push(s.v[p[0]].copy()),t.uvs.push(s.vt[p[1]]?s.vt[p[1]].slice():[0,0]),t.vertexNormals.push(s.vn[p[2]]?s.vn[p[2]].copy():new ne),a[d][o]=r,i.push(r),o&&n[o]&&n[o].diffuseColor){l=!0;let r=n[o].diffuseColor;t.vertexColors.push(r[0]),t.vertexColors.push(r[1]),t.vertexColors.push(r[2]),t.vertexColors.push(1)}else u=!0}else i.push(a[d][o])}i[0]!==i[1]&&i[0]!==i[2]&&i[1]!==i[2]&&t.faces.push(i)}}}if(0===t.vertexNormals.length&&t.computeNormals(),l===u)throw Error("Model coloring is inconsistent. Either all vertices should have colors or none should.");return t}function s(t,r){if(function(t){let r=new DataView(t),n=[115,111,108,105,100];for(let t=0;t<5;t++)if(function(t,r,n){for(let i=0,s=t.length;i<s;i++)if(t[i]!==r.getUint8(n+i,!1))return!1;return!0}(n,r,t))return!1;return!0}(r))!function(t,r){let n=new DataView(r),i=n.getUint32(80,!0),s,a,o,l,u,h,c,d=!1;for(let t=0;t<70;t++)0x434f4c4f===n.getUint32(t,!1)&&82===n.getUint8(t+4)&&61===n.getUint8(t+5)&&(d=!0,l=[],u=n.getUint8(t+6)/255,h=n.getUint8(t+7)/255,c=n.getUint8(t+8)/255);for(let r=0;r<i;r++){let i=84+50*r,p=n.getFloat32(i,!0),f=n.getFloat32(i+4,!0),m=n.getFloat32(i+8,!0);if(d){let t=n.getUint16(i+48,!0);32768&t?(s=u,a=h,o=c):(s=(31&t)/31,a=(t>>5&31)/31,o=(t>>10&31)/31)}let g=new ne(p,f,m);for(let r=1;r<=3;r++){let u=i+12*r,h=new ne(n.getFloat32(u,!0),n.getFloat32(u+4,!0),n.getFloat32(u+8,!0));t.vertices.push(h),t.vertexNormals.push(g),d&&l.push(s,a,o)}t.faces.push([3*r,3*r+1,3*r+2]),t.uvs.push([0,0],[0,0],[0,0])}}(t,r);else{let n=new DataView(r);if(!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)"),t;!function(t,r){let n,i,s="",a=[];for(let o=0;o<r.length;++o){let l=r[o].trim(),u=l.split(" ");for(let t=0;t<u.length;++t)""===u[t]&&u.splice(t,1);if(0!==u.length)switch(s){case"":if("solid"!==u[0])return console.error(l),void console.error(`Invalid state "${u[0]}", should be "solid"`);s="solid";break;case"solid":if("facet"!==u[0]||"normal"!==u[1])return console.error(l),void console.error(`Invalid state "${u[0]}", should be "facet normal"`);n=new ne(parseFloat(u[2]),parseFloat(u[3]),parseFloat(u[4])),t.vertexNormals.push(n,n,n),s="facet normal";break;case"facet normal":if("outer"!==u[0]||"loop"!==u[1])return console.error(l),void console.error(`Invalid state "${u[0]}", should be "outer loop"`);s="vertex";break;case"vertex":if("vertex"===u[0])i=new ne(parseFloat(u[1]),parseFloat(u[2]),parseFloat(u[3])),t.vertices.push(i),t.uvs.push([0,0]),a.push(t.vertices.indexOf(i));else{if("endloop"!==u[0])return console.error(l),void console.error(`Invalid state "${u[0]}", should be "vertex" or "endloop"`);t.faces.push(a),a=[],s="endloop"}break;case"endloop":if("endfacet"!==u[0])return console.error(l),void console.error(`Invalid state "${u[0]}", should be "endfacet"`);s="endfacet";break;case"endfacet":if("endsolid"===u[0]);else{if("facet"!==u[0]||"normal"!==u[1])return console.error(l),void console.error(`Invalid state "${u[0]}", should be "endsolid" or "facet normal"`);n=new ne(parseFloat(u[2]),parseFloat(u[3]),parseFloat(u[4])),t.vertexNormals.push(n,n,n),s="facet normal"}break;default:console.error(`Invalid state "${s}"`)}}}(t,new TextDecoder("utf-8").decode(n).split("\n"))}return t}r.loadModel=async function(r,a,o,l,u){let h=!1,c=!1;"object"==typeof a?(o=a.normalize||!1,l=a.successCallback,u=a.failureCallback,h=(a=a.fileType||a).flipU||!1,c=a.flipV||!1):("function"==typeof arguments[arguments.length-1]&&("function"==typeof arguments[arguments.length-2]?(l=arguments[arguments.length-2],u=arguments[arguments.length-1]):l=arguments[arguments.length-1]),"string"==typeof a?"boolean"!=typeof o&&(o=!1):"boolean"==typeof a?(o=a,a=r.slice(-4)):(a=r.slice(-4),o=!1)),".obj"!==a.toLowerCase()&&".stl"!==a.toLowerCase()&&(a=".obj");let d=new is(void 0,void 0,void 0,this._renderer);d.gid=`${r}|${o}`;try{if(a.match(/\.stl$/i)){let{data:t}=await nq(r,"arrayBuffer");return s(d,t),o&&d.normalize(),h&&d.flipU(),c&&d.flipV(),d._makeTriangleEdges(),l?l(d):d}if(a.match(/\.obj$/i)){let{data:t}=await nq(r,"text"),s=t.split("\n"),a=await async function(t){let i=[];for(let s of t){let t=s.match(/^mtllib (.+)/);if(t){let s="",a=t[1],o=r.split("/");o.length>1?(o.pop(),s=o.join("/")+"/"+a):s=a,i.push(af(s).then(t=>t?n(s):(console.warn(`MTL file not found or error in parsing; proceeding without materials: ${s}`),{})).catch(t=>(console.warn(`Error loading MTL file: ${s}`,t),{})))}}try{let t=await Promise.all(i);return Object.assign({},...t)}catch(t){return{}}}(s);return i(d,s,a),o&&d.normalize(),h&&d.flipU(),c&&d.flipV(),d._makeTriangleEdges(),l?l(d):d}}catch(n){if(t._friendlyFileLoadError(3,r),u)return u(n);throw n}},r.model=function(t,r=1){this._assert3d("model"),this._renderer.model(t,r)};let a=0;r.createModel=function(r,n=" ",o){let l,u,h=!1,c=!1,d=!1;o&&"object"==typeof o?(h=o.normalize||!1,l=o.successCallback,u=o.failureCallback,c=o.flipU||!1,d=o.flipV||!1):"boolean"==typeof o?(h=o,l=arguments[3],u=arguments[4]):(l="function"==typeof arguments[2]?arguments[2]:void 0,u=arguments[3]);let p=new t.Geometry;if(p.gid=`${n}|${h}|${a++}`,n.match(/\.stl$/i))try{s(p,(new TextEncoder).encode(r).buffer)}catch(r){return void(u?u(r):t._friendlyError("Error during parsing: "+r.message))}else if(n.match(/\.obj$/i))try{i(p,r.split("\n"))}catch(r){return void(u?u(r):t._friendlyError("Error during parsing: "+r.message))}else t._friendlyFileLoadError(3,r),u?u():t._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.");return h&&p.normalize(),c&&p.flipU(),d&&p.flipV(),p._makeTriangleEdges(),"function"==typeof l&&l(p),p}}void 0!==m&&as(m),void 0!==m&&aa(0,m.prototype),void 0!==m&&ao(0,m.prototype),void 0!==m&&al(0,m.prototype),void 0!==m&&au(m,m.prototype),void 0!==m&&ah(0,m.prototype),void 0!==m&&ac(0,m.prototype),void 0!==m&&ad(0,m.prototype),void 0!==m&&ap(m,m.prototype),void 0!==m&&am(m,m.prototype);var ag={};Object.defineProperty(ag,"__esModule",{value:!0});var ay=ag.UnicodeRange=function(){function t(){}return t.parse=function(r){for(var n=new Set,i=0;i<r.length;i++){var s=r[i];if(!t.REGEXP.test(s))throw TypeError('"'+s+'" is invalid unicode-range.');var a=s.match(t.REGEXP),o=a[1],l=a[2],u=a[3];if(o){if(/\?[^?]+$/.test(o))throw TypeError('"'+s+'" is invalid unicode-range.');if(o.includes("?"))for(var h=o.replace(/\?/g,"0"),c=o.replace(/\?/g,"F"),d=0,p=t.parse(["U+"+h+"-"+c]);d<p.length;d++){var f=p[d];n.add(f)}else n.add(parseInt(o,16))}if(l&&u){var m=parseInt(l,16),g=parseInt(u,16);for(f=m;f<=g;f++)n.add(f)}}return Array.from(n).sort(function(t,r){return t-r})},t.stringify=function(r){for(var n,i=Array.from(new Set(r)).sort(function(t,r){return t-r}),s=[],a=0;a<i.length;a++){var o=i[a],l=i[a-1];n&&o-l!=1&&(s.push(t.rangeString(n,l)),n=o),n||(n=o),a===i.length-1&&(n===o?s.push(t.rangeString(o)):s.push(t.rangeString(n,o)))}return s},t.rangeString=function(t,r){return r&&t!==r?"U+"+t.toString(16)+"-"+r.toString(16):"U+"+t.toString(16)},t.REGEXP=/^u\+(?:([0-9a-f]?[0-9a-f?]{1,5})|([0-9a-f]{1,6})-([0-9a-f]{1,6}))?$/i,t}();let av=[{category:"control character",hexrange:["0000","001f"]},{category:"basic latin",hexrange:["0000","007f"]},{category:"latin-1 supplement",hexrange:["0080","00ff"]},{category:"latin extended-a",hexrange:["0100","017f"]},{category:"latin extended-b",hexrange:["0180","024f"]},{category:"ipa extensions",hexrange:["0250","02af"]},{category:"spacing modifier letters",hexrange:["02b0","02ff"]},{category:"combining diacritical marks",hexrange:["0300","036f"]},{category:"greek and coptic",hexrange:["0370","03ff"]},{category:"cyrillic",hexrange:["0400","04ff"]},{category:"cyrillic supplement",hexrange:["0500","052f"]},{category:"armenian",hexrange:["0530","058f"]},{category:"hebrew",hexrange:["0590","05ff"]},{category:"arabic",hexrange:["0600","06ff"]},{category:"syriac",hexrange:["0700","074f"]},{category:"arabic supplement",hexrange:["0750","077f"]},{category:"thaana",hexrange:["0780","07bf"]},{category:"nko",hexrange:["07c0","07ff"]},{category:"samaritan",hexrange:["0800","083f"]},{category:"mandaic",hexrange:["0840","085f"]},{category:"syriac supplement",hexrange:["0860","086f"]},{category:"arabic extended-b",hexrange:["0870","089f"]},{category:"arabic extended-a",hexrange:["08a0","08ff"]},{category:"devanagari",hexrange:["0900","097f"]},{category:"bengali",hexrange:["0980","09ff"]},{category:"gurmukhi",hexrange:["0a00","0a7f"]},{category:"gujarati",hexrange:["0a80","0aff"]},{category:"oriya",hexrange:["0b00","0b7f"]},{category:"tamil",hexrange:["0b80","0bff"]},{category:"telugu",hexrange:["0c00","0c7f"]},{category:"kannada",hexrange:["0c80","0cff"]},{category:"malayalam",hexrange:["0d00","0d7f"]},{category:"sinhala",hexrange:["0d80","0dff"]},{category:"thai",hexrange:["0e00","0e7f"]},{category:"lao",hexrange:["0e80","0eff"]},{category:"tibetan",hexrange:["0f00","0fff"]},{category:"myanmar",hexrange:["1000","109f"]},{category:"georgian",hexrange:["10a0","10ff"]},{category:"hangul jamo",hexrange:["1100","11ff"]},{category:"ethiopic",hexrange:["1200","137f"]},{category:"ethiopic supplement",hexrange:["1380","139f"]},{category:"cherokee",hexrange:["13a0","13ff"]},{category:"unified canadian aboriginal syllabics",hexrange:["1400","167f"]},{category:"ogham",hexrange:["1680","169f"]},{category:"runic",hexrange:["16a0","16ff"]},{category:"tagalog",hexrange:["1700","171f"]},{category:"hanunoo",hexrange:["1720","173f"]},{category:"buhid",hexrange:["1740","175f"]},{category:"tagbanwa",hexrange:["1760","177f"]},{category:"khmer",hexrange:["1780","17ff"]},{category:"mongolian",hexrange:["1800","18af"]},{category:"unified canadian aboriginal syllabics extended",hexrange:["18b0","18ff"]},{category:"limbu",hexrange:["1900","194f"]},{category:"tai le",hexrange:["1950","197f"]},{category:"new tai lue",hexrange:["1980","19df"]},{category:"khmer symbols",hexrange:["19e0","19ff"]},{category:"buginese",hexrange:["1a00","1a1f"]},{category:"tai tham",hexrange:["1a20","1aaf"]},{category:"combining diacritical marks extended",hexrange:["1ab0","1aff"]},{category:"balinese",hexrange:["1b00","1b7f"]},{category:"sundanese",hexrange:["1b80","1bbf"]},{category:"batak",hexrange:["1bc0","1bff"]},{category:"lepcha",hexrange:["1c00","1c4f"]},{category:"ol chiki",hexrange:["1c50","1c7f"]},{category:"cyrillic extended-c",hexrange:["1c80","1c8f"]},{category:"georgian extended",hexrange:["1c90","1cbf"]},{category:"sundanese supplement",hexrange:["1cc0","1ccf"]},{category:"vedic extensions",hexrange:["1cd0","1cff"]},{category:"phonetic extensions",hexrange:["1d00","1d7f"]},{category:"phonetic extensions supplement",hexrange:["1d80","1dbf"]},{category:"combining diacritical marks supplement",hexrange:["1dc0","1dff"]},{category:"latin extended additional",hexrange:["1e00","1eff"]},{category:"greek extended",hexrange:["1f00","1fff"]},{category:"general punctuation",hexrange:["2000","206f"]},{category:"superscripts and subscripts",hexrange:["2070","209f"]},{category:"currency symbols",hexrange:["20a0","20cf"]},{category:"combining diacritical marks for symbols",hexrange:["20d0","20ff"]},{category:"letterlike symbols",hexrange:["2100","214f"]},{category:"number forms",hexrange:["2150","218f"]},{category:"arrows",hexrange:["2190","21ff"]},{category:"mathematical operators",hexrange:["2200","22ff"]},{category:"miscellaneous technical",hexrange:["2300","23ff"]},{category:"control pictures",hexrange:["2400","243f"]},{category:"optical character recognition",hexrange:["2440","245f"]},{category:"enclosed alphanumerics",hexrange:["2460","24ff"]},{category:"box drawing",hexrange:["2500","257f"]},{category:"block elements",hexrange:["2580","259f"]},{category:"geometric shapes",hexrange:["25a0","25ff"]},{category:"miscellaneous symbols",hexrange:["2600","26ff"]},{category:"dingbats",hexrange:["2700","27bf"]},{category:"miscellaneous mathematical symbols-a",hexrange:["27c0","27ef"]},{category:"supplemental arrows-a",hexrange:["27f0","27ff"]},{category:"braille patterns",hexrange:["2800","28ff"]},{category:"supplemental arrows-b",hexrange:["2900","297f"]},{category:"miscellaneous mathematical symbols-b",hexrange:["2980","29ff"]},{category:"supplemental mathematical operators",hexrange:["2a00","2aff"]},{category:"miscellaneous symbols and arrows",hexrange:["2b00","2bff"]},{category:"glagolitic",hexrange:["2c00","2c5f"]},{category:"latin extended-c",hexrange:["2c60","2c7f"]},{category:"coptic",hexrange:["2c80","2cff"]},{category:"georgian supplement",hexrange:["2d00","2d2f"]},{category:"tifinagh",hexrange:["2d30","2d7f"]},{category:"ethiopic extended",hexrange:["2d80","2ddf"]},{category:"cyrillic extended-a",hexrange:["2de0","2dff"]},{category:"supplemental punctuation",hexrange:["2e00","2e7f"]},{category:"cjk radicals supplement",hexrange:["2e80","2eff"]},{category:"kangxi radicals",hexrange:["2f00","2fdf"]},{category:"ideographic description characters",hexrange:["2ff0","2fff"]},{category:"cjk symbols and punctuation",hexrange:["3000","303f"]},{category:"hiragana",hexrange:["3040","309f"]},{category:"katakana",hexrange:["30a0","30ff"]},{category:"bopomofo",hexrange:["3100","312f"]},{category:"hangul compatibility jamo",hexrange:["3130","318f"]},{category:"kanbun",hexrange:["3190","319f"]},{category:"bopomofo extended",hexrange:["31a0","31bf"]},{category:"cjk strokes",hexrange:["31c0","31ef"]},{category:"katakana phonetic extensions",hexrange:["31f0","31ff"]},{category:"enclosed cjk letters and months",hexrange:["3200","32ff"]},{category:"cjk compatibility",hexrange:["3300","33ff"]},{category:"cjk unified ideographs extension a",hexrange:["3400","4dbf"]},{category:"yijing hexagram symbols",hexrange:["4dc0","4dff"]},{category:"cjk unified ideographs",hexrange:["4e00","9fff"]},{category:"yi syllables",hexrange:["a000","a48f"]},{category:"yi radicals",hexrange:["a490","a4cf"]},{category:"lisu",hexrange:["a4d0","a4ff"]},{category:"vai",hexrange:["a500","a63f"]},{category:"cyrillic extended-b",hexrange:["a640","a69f"]},{category:"bamum",hexrange:["a6a0","a6ff"]},{category:"modifier tone letters",hexrange:["a700","a71f"]},{category:"latin extended-d",hexrange:["a720","a7ff"]},{category:"syloti nagri",hexrange:["a800","a82f"]},{category:"common indic number forms",hexrange:["a830","a83f"]},{category:"phags-pa",hexrange:["a840","a87f"]},{category:"saurashtra",hexrange:["a880","a8df"]},{category:"devanagari extended",hexrange:["a8e0","a8ff"]},{category:"kayah li",hexrange:["a900","a92f"]},{category:"rejang",hexrange:["a930","a95f"]},{category:"hangul jamo extended-a",hexrange:["a960","a97f"]},{category:"javanese",hexrange:["a980","a9df"]},{category:"myanmar extended-b",hexrange:["a9e0","a9ff"]},{category:"cham",hexrange:["aa00","aa5f"]},{category:"myanmar extended-a",hexrange:["aa60","aa7f"]},{category:"tai viet",hexrange:["aa80","aadf"]},{category:"meetei mayek extensions",hexrange:["aae0","aaff"]},{category:"ethiopic extended-a",hexrange:["ab00","ab2f"]},{category:"latin extended-e",hexrange:["ab30","ab6f"]},{category:"cherokee supplement",hexrange:["ab70","abbf"]},{category:"meetei mayek",hexrange:["abc0","abff"]},{category:"hangul syllables",hexrange:["ac00","d7af"]},{category:"hangul jamo extended-b",hexrange:["d7b0","d7ff"]},{category:"high surrogates",hexrange:["d800","db7f"]},{category:"high private use surrogates",hexrange:["db80","dbff"]},{category:"low surrogates",hexrange:["dc00","dfff"]},{category:"private use area",hexrange:["e000","f8ff"]},{category:"cjk compatibility ideographs",hexrange:["f900","faff"]},{category:"alphabetic presentation forms",hexrange:["fb00","fb4f"]},{category:"arabic presentation forms-a",hexrange:["fb50","fdff"]},{category:"variation selectors",hexrange:["fe00","fe0f"]},{category:"vertical forms",hexrange:["fe10","fe1f"]},{category:"combining half marks",hexrange:["fe20","fe2f"]},{category:"cjk compatibility forms",hexrange:["fe30","fe4f"]},{category:"small form variants",hexrange:["fe50","fe6f"]},{category:"arabic presentation forms-b",hexrange:["fe70","feff"]},{category:"halfwidth and fullwidth forms",hexrange:["ff00","ffef"]},{category:"specials",hexrange:["fff0","ffff"]},{category:"linear b syllabary",hexrange:["10000","1007f"]},{category:"linear b ideograms",hexrange:["10080","100ff"]},{category:"aegean numbers",hexrange:["10100","1013f"]},{category:"ancient greek numbers",hexrange:["10140","1018f"]},{category:"ancient symbols",hexrange:["10190","101cf"]},{category:"phaistos disc",hexrange:["101d0","101ff"]},{category:"lycian",hexrange:["10280","1029f"]},{category:"carian",hexrange:["102a0","102df"]},{category:"coptic epact numbers",hexrange:["102e0","102ff"]},{category:"old italic",hexrange:["10300","1032f"]},{category:"gothic",hexrange:["10330","1034f"]},{category:"old permic",hexrange:["10350","1037f"]},{category:"ugaritic",hexrange:["10380","1039f"]},{category:"old persian",hexrange:["103a0","103df"]},{category:"deseret",hexrange:["10400","1044f"]},{category:"shavian",hexrange:["10450","1047f"]},{category:"osmanya",hexrange:["10480","104af"]},{category:"osage",hexrange:["104b0","104ff"]},{category:"elbasan",hexrange:["10500","1052f"]},{category:"caucasian albanian",hexrange:["10530","1056f"]},{category:"vithkuqi",hexrange:["10570","105bf"]},{category:"linear a",hexrange:["10600","1077f"]},{category:"latin extended-f",hexrange:["10780","107bf"]},{category:"cypriot syllabary",hexrange:["10800","1083f"]},{category:"imperial aramaic",hexrange:["10840","1085f"]},{category:"palmyrene",hexrange:["10860","1087f"]},{category:"nabataean",hexrange:["10880","108af"]},{category:"hatran",hexrange:["108e0","108ff"]},{category:"phoenician",hexrange:["10900","1091f"]},{category:"lydian",hexrange:["10920","1093f"]},{category:"meroitic hieroglyphs",hexrange:["10980","1099f"]},{category:"meroitic cursive",hexrange:["109a0","109ff"]},{category:"kharoshthi",hexrange:["10a00","10a5f"]},{category:"old south arabian",hexrange:["10a60","10a7f"]},{category:"old north arabian",hexrange:["10a80","10a9f"]},{category:"manichaean",hexrange:["10ac0","10aff"]},{category:"avestan",hexrange:["10b00","10b3f"]},{category:"inscriptional parthian",hexrange:["10b40","10b5f"]},{category:"inscriptional pahlavi",hexrange:["10b60","10b7f"]},{category:"psalter pahlavi",hexrange:["10b80","10baf"]},{category:"old turkic",hexrange:["10c00","10c4f"]},{category:"old hungarian",hexrange:["10c80","10cff"]},{category:"hanifi rohingya",hexrange:["10d00","10d3f"]},{category:"rumi numeral symbols",hexrange:["10e60","10e7f"]},{category:"yezidi",hexrange:["10e80","10ebf"]},{category:"arabic extended-c",hexrange:["10ec0","10eff"]},{category:"old sogdian",hexrange:["10f00","10f2f"]},{category:"sogdian",hexrange:["10f30","10f6f"]},{category:"old uyghur",hexrange:["10f70","10faf"]},{category:"chorasmian",hexrange:["10fb0","10fdf"]},{category:"elymaic",hexrange:["10fe0","10fff"]},{category:"brahmi",hexrange:["11000","1107f"]},{category:"kaithi",hexrange:["11080","110cf"]},{category:"sora sompeng",hexrange:["110d0","110ff"]},{category:"chakma",hexrange:["11100","1114f"]},{category:"mahajani",hexrange:["11150","1117f"]},{category:"sharada",hexrange:["11180","111df"]},{category:"sinhala archaic numbers",hexrange:["111e0","111ff"]},{category:"khojki",hexrange:["11200","1124f"]},{category:"multani",hexrange:["11280","112af"]},{category:"khudawadi",hexrange:["112b0","112ff"]},{category:"grantha",hexrange:["11300","1137f"]},{category:"newa",hexrange:["11400","1147f"]},{category:"tirhuta",hexrange:["11480","114df"]},{category:"siddham",hexrange:["11580","115ff"]},{category:"modi",hexrange:["11600","1165f"]},{category:"mongolian supplement",hexrange:["11660","1167f"]},{category:"takri",hexrange:["11680","116cf"]},{category:"ahom",hexrange:["11700","1174f"]},{category:"dogra",hexrange:["11800","1184f"]},{category:"warang citi",hexrange:["118a0","118ff"]},{category:"dives akuru",hexrange:["11900","1195f"]},{category:"nandinagari",hexrange:["119a0","119ff"]},{category:"zanabazar square",hexrange:["11a00","11a4f"]},{category:"soyombo",hexrange:["11a50","11aaf"]},{category:"unified canadian aboriginal syllabics extended-a",hexrange:["11ab0","11abf"]},{category:"pau cin hau",hexrange:["11ac0","11aff"]},{category:"devanagari extended-a",hexrange:["11b00","11b5f"]},{category:"bhaiksuki",hexrange:["11c00","11c6f"]},{category:"marchen",hexrange:["11c70","11cbf"]},{category:"masaram gondi",hexrange:["11d00","11d5f"]},{category:"gunjala gondi",hexrange:["11d60","11daf"]},{category:"makasar",hexrange:["11ee0","11eff"]},{category:"kawi",hexrange:["11f00","11f5f"]},{category:"lisu supplement",hexrange:["11fb0","11fbf"]},{category:"tamil supplement",hexrange:["11fc0","11fff"]},{category:"cuneiform",hexrange:["12000","123ff"]},{category:"cuneiform numbers and punctuation",hexrange:["12400","1247f"]},{category:"early dynastic cuneiform",hexrange:["12480","1254f"]},{category:"cypro-minoan",hexrange:["12f90","12fff"]},{category:"egyptian hieroglyphs",hexrange:["13000","1342f"]},{category:"egyptian hieroglyph format controls",hexrange:["13430","1345f"]},{category:"anatolian hieroglyphs",hexrange:["14400","1467f"]},{category:"bamum supplement",hexrange:["16800","16a3f"]},{category:"mro",hexrange:["16a40","16a6f"]},{category:"tangsa",hexrange:["16a70","16acf"]},{category:"bassa vah",hexrange:["16ad0","16aff"]},{category:"pahawh hmong",hexrange:["16b00","16b8f"]},{category:"medefaidrin",hexrange:["16e40","16e9f"]},{category:"miao",hexrange:["16f00","16f9f"]},{category:"ideographic symbols and punctuation",hexrange:["16fe0","16fff"]},{category:"tangut",hexrange:["17000","187ff"]},{category:"tangut components",hexrange:["18800","18aff"]},{category:"khitan small script",hexrange:["18b00","18cff"]},{category:"tangut supplement",hexrange:["18d00","18d7f"]},{category:"kana extended-b",hexrange:["1aff0","1afff"]},{category:"kana supplement",hexrange:["1b000","1b0ff"]},{category:"kana extended-a",hexrange:["1b100","1b12f"]},{category:"small kana extension",hexrange:["1b130","1b16f"]},{category:"nushu",hexrange:["1b170","1b2ff"]},{category:"duployan",hexrange:["1bc00","1bc9f"]},{category:"shorthand format controls",hexrange:["1bca0","1bcaf"]},{category:"znamenny musical notation",hexrange:["1cf00","1cfcf"]},{category:"byzantine musical symbols",hexrange:["1d000","1d0ff"]},{category:"musical symbols",hexrange:["1d100","1d1ff"]},{category:"ancient greek musical notation",hexrange:["1d200","1d24f"]},{category:"kaktovik numerals",hexrange:["1d2c0","1d2df"]},{category:"mayan numerals",hexrange:["1d2e0","1d2ff"]},{category:"tai xuan jing symbols",hexrange:["1d300","1d35f"]},{category:"counting rod numerals",hexrange:["1d360","1d37f"]},{category:"mathematical alphanumeric symbols",hexrange:["1d400","1d7ff"]},{category:"sutton signwriting",hexrange:["1d800","1daaf"]},{category:"latin extended-g",hexrange:["1df00","1dfff"]},{category:"glagolitic supplement",hexrange:["1e000","1e02f"]},{category:"cyrillic extended-d",hexrange:["1e030","1e08f"]},{category:"nyiakeng puachue hmong",hexrange:["1e100","1e14f"]},{category:"toto",hexrange:["1e290","1e2bf"]},{category:"wancho",hexrange:["1e2c0","1e2ff"]},{category:"nag mundari",hexrange:["1e4d0","1e4ff"]},{category:"ethiopic extended-b",hexrange:["1e7e0","1e7ff"]},{category:"mende kikakui",hexrange:["1e800","1e8df"]},{category:"adlam",hexrange:["1e900","1e95f"]},{category:"indic siyaq numbers",hexrange:["1ec70","1ecbf"]},{category:"ottoman siyaq numbers",hexrange:["1ed00","1ed4f"]},{category:"arabic mathematical alphabetic symbols",hexrange:["1ee00","1eeff"]},{category:"mahjong tiles",hexrange:["1f000","1f02f"]},{category:"domino tiles",hexrange:["1f030","1f09f"]},{category:"playing cards",hexrange:["1f0a0","1f0ff"]},{category:"enclosed alphanumeric supplement",hexrange:["1f100","1f1ff"]},{category:"enclosed ideographic supplement",hexrange:["1f200","1f2ff"]},{category:"miscellaneous symbols and pictographs",hexrange:["1f300","1f5ff"]},{category:"emoticons (emoji)",hexrange:["1f600","1f64f"]},{category:"ornamental dingbats",hexrange:["1f650","1f67f"]},{category:"transport and map symbols",hexrange:["1f680","1f6ff"]},{category:"alchemical symbols",hexrange:["1f700","1f77f"]},{category:"geometric shapes extended",hexrange:["1f780","1f7ff"]},{category:"supplemental arrows-c",hexrange:["1f800","1f8ff"]},{category:"supplemental symbols and pictographs",hexrange:["1f900","1f9ff"]},{category:"chess symbols",hexrange:["1fa00","1fa6f"]},{category:"symbols and pictographs extended-a",hexrange:["1fa70","1faff"]},{category:"symbols for legacy computing",hexrange:["1fb00","1fbff"]},{category:"cjk unified ideographs extension b",hexrange:["20000","2a6df"]},{category:"cjk unified ideographs extension c",hexrange:["2a700","2b73f"]},{category:"cjk unified ideographs extension d",hexrange:["2b740","2b81f"]},{category:"cjk unified ideographs extension e",hexrange:["2b820","2ceaf"]},{category:"cjk unified ideographs extension f",hexrange:["2ceb0","2ebef"]},{category:"cjk unified ideographs extension i",hexrange:["2ebf0","2ee5f"]},{category:"cjk compatibility ideographs supplement",hexrange:["2f800","2fa1f"]},{category:"cjk unified ideographs extension g",hexrange:["30000","3134f"]},{category:"cjk unified ideographs extension h",hexrange:["31350","323af"]},{category:"tags",hexrange:["e0000","e007f"]},{category:"variation selectors supplement",hexrange:["e0100","e01ef"]},{category:"supplementary private use area-a",hexrange:["f0000","fffff"]},{category:"supplementary private use area-b",hexrange:["100000","10ffff"]}];function ax(t){let r=t.length;for(;--r>=0;)t[r]=0}ax(Array(576)),ax(Array(60)),ax(Array(512)),ax(Array(256)),ax(Array(29)),ax(Array(30));var ab=(t,r,n,i)=>{let s=65535&t,a=t>>>16&65535,o=0;for(;0!==n;){o=n>2e3?2e3:n,n-=o;do a=a+(s=s+r[i++]|0)|0;while(--o)s%=65521,a%=65521}return s|a<<16};let aw=new Uint32Array((()=>{let t,r=[];for(var n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?0xedb88320^t>>>1:t>>>1;r[n]=t}return r})());var a_=(t,r,n,i)=>{let s=i+n;t^=-1;for(let n=i;n<s;n++)t=t>>>8^aw[255&(t^r[n])];return~t},aC={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},aS={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};let aE=(t,r)=>Object.prototype.hasOwnProperty.call(t,r);var aD=function(t){let r=Array.prototype.slice.call(arguments,1);for(;r.length;){let n=r.shift();if(n){if("object"!=typeof n)throw TypeError(n+"must be non-object");for(let r in n)aE(n,r)&&(t[r]=n[r])}}return t};let aA=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){aA=!1}let ak=new Uint8Array(256);for(let t=0;t<256;t++)ak[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;ak[254]=ak[254]=1;var aT=(t,r)=>{let n,i,s=r||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,r));let a=Array(2*s);for(i=0,n=0;n<s;){let r=t[n++];if(r<128){a[i++]=r;continue}let o=ak[r];if(o>4)a[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&n<s;)r=r<<6|63&t[n++],o--;o>1?a[i++]=65533:r<65536?a[i++]=r:(r-=65536,a[i++]=55296|r>>10&1023,a[i++]=56320|1023&r)}}var o=i;if(o<65534&&a.subarray&&aA)return String.fromCharCode.apply(null,a.length===o?a:a.subarray(0,o));let l="";for(let t=0;t<o;t++)l+=String.fromCharCode(a[t]);return l},aF=(t,r)=>{(r=r||t.length)>t.length&&(r=t.length);let n=r-1;for(;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?r:n+ak[t[n]]>r?n:r},aM=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},aI=function(t,r){let n,i,s,a,o,l,u,h,c,d,p,f,m,g,y,v,x,b,w,_,C,S,E,D,A=t.state;n=t.next_in,E=t.input,i=n+(t.avail_in-5),s=t.next_out,D=t.output,a=s-(r-t.avail_out),o=s+(t.avail_out-257),l=A.dmax,u=A.wsize,h=A.whave,c=A.wnext,d=A.window,p=A.hold,f=A.bits,m=A.lencode,g=A.distcode,y=(1<<A.lenbits)-1,v=(1<<A.distbits)-1;r:do for(f<15&&(p+=E[n++]<<f,f+=8,p+=E[n++]<<f,f+=8),x=m[p&y];;){if(p>>>=b=x>>>24,f-=b,0==(b=x>>>16&255))D[s++]=65535&x;else{if(!(16&b)){if(64&b){if(32&b){A.mode=16191;break r}t.msg="invalid literal/length code",A.mode=16209;break r}x=m[(65535&x)+(p&(1<<b)-1)];continue}for(w=65535&x,(b&=15)&&(f<b&&(p+=E[n++]<<f,f+=8),w+=p&(1<<b)-1,p>>>=b,f-=b),f<15&&(p+=E[n++]<<f,f+=8,p+=E[n++]<<f,f+=8),x=g[p&v];;){if(p>>>=b=x>>>24,f-=b,16&(b=x>>>16&255)){if(_=65535&x,f<(b&=15)&&(p+=E[n++]<<f,(f+=8)<b&&(p+=E[n++]<<f,f+=8)),(_+=p&(1<<b)-1)>l){t.msg="invalid distance too far back",A.mode=16209;break r}if(p>>>=b,f-=b,_>(b=s-a)){if((b=_-b)>h&&A.sane){t.msg="invalid distance too far back",A.mode=16209;break r}if(C=0,S=d,0===c){if(C+=u-b,b<w){w-=b;do D[s++]=d[C++];while(--b)C=s-_,S=D}}else if(c<b){if(C+=u+c-b,(b-=c)<w){w-=b;do D[s++]=d[C++];while(--b)if(C=0,c<w){w-=b=c;do D[s++]=d[C++];while(--b)C=s-_,S=D}}}else if(C+=c-b,b<w){w-=b;do D[s++]=d[C++];while(--b)C=s-_,S=D}for(;w>2;)D[s++]=S[C++],D[s++]=S[C++],D[s++]=S[C++],w-=3;w&&(D[s++]=S[C++],w>1&&(D[s++]=S[C++]))}else{C=s-_;do D[s++]=D[C++],D[s++]=D[C++],D[s++]=D[C++],w-=3;while(w>2)w&&(D[s++]=D[C++],w>1&&(D[s++]=D[C++]))}break}if(64&b){t.msg="invalid distance code",A.mode=16209;break r}x=g[(65535&x)+(p&(1<<b)-1)]}}break}while(n<i&&s<o)n-=w=f>>3,f-=w<<3,p&=(1<<f)-1,t.next_in=n,t.next_out=s,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=s<o?o-s+257:257-(s-o),A.hold=p,A.bits=f};let aB=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),aP=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),aL=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),aN=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var aO=(t,r,n,i,s,a,o,l)=>{let u=l.bits,h,c,d,p,f,m,g=0,y=0,v=0,x=0,b=0,w=0,_=0,C=0,S=0,E=0,D=null,A=new Uint16Array(16),k=new Uint16Array(16),T,F,M,I=null;for(g=0;g<=15;g++)A[g]=0;for(y=0;y<i;y++)A[r[n+y]]++;for(b=u,x=15;x>=1&&0===A[x];x--);if(b>x&&(b=x),0===x)return s[a++]=0x1400000,s[a++]=0x1400000,l.bits=1,0;for(v=1;v<x&&0===A[v];v++);for(b<v&&(b=v),C=1,g=1;g<=15;g++)if(C<<=1,(C-=A[g])<0)return -1;if(C>0&&(0===t||1!==x))return -1;for(k[1]=0,g=1;g<15;g++)k[g+1]=k[g]+A[g];for(y=0;y<i;y++)0!==r[n+y]&&(o[k[r[n+y]]++]=y);if(0===t?(D=I=o,m=20):1===t?(D=aB,I=aP,m=257):(D=aL,I=aN,m=0),E=0,y=0,g=v,f=a,w=b,_=0,d=-1,p=(S=1<<b)-1,1===t&&S>852||2===t&&S>592)return 1;for(;;){T=g-_,o[y]+1<m?(F=0,M=o[y]):o[y]>=m?(F=I[o[y]-m],M=D[o[y]-m]):(F=96,M=0),h=1<<g-_,v=c=1<<w;do s[f+(E>>_)+(c-=h)]=T<<24|F<<16|M;while(0!==c)for(h=1<<g-1;E&h;)h>>=1;if(0!==h?(E&=h-1,E+=h):E=0,y++,0==--A[g]){if(g===x)break;g=r[n+o[y]]}if(g>b&&(E&p)!==d){for(0===_&&(_=b),f+=v,C=1<<(w=g-_);w+_<x&&!((C-=A[w+_])<=0);)w++,C<<=1;if(S+=1<<w,1===t&&S>852||2===t&&S>592)return 1;s[d=E&p]=b<<24|w<<16|f-a}}return 0!==E&&(s[f+E]=g-_<<24|4194304),l.bits=b,0};let{Z_FINISH:aR,Z_BLOCK:aV,Z_TREES:az,Z_OK:aU,Z_STREAM_END:aj,Z_NEED_DICT:aG,Z_STREAM_ERROR:a$,Z_DATA_ERROR:aH,Z_MEM_ERROR:aW,Z_BUF_ERROR:aq,Z_DEFLATED:aY}=aS,aX=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function aK(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}let aZ=t=>{if(!t)return 1;let r=t.state;return+(!r||r.strm!==t||r.mode<16180||r.mode>16211)},aQ=t=>{if(aZ(t))return a$;let r=t.state;return r.wsize=0,r.whave=0,r.wnext=0,(t=>{if(aZ(t))return a$;let r=t.state;return t.total_in=t.total_out=r.total=0,t.msg="",r.wrap&&(t.adler=1&r.wrap),r.mode=16180,r.last=0,r.havedict=0,r.flags=-1,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(852),r.distcode=r.distdyn=new Int32Array(592),r.sane=1,r.back=-1,aU})(t)},aJ,a0,a1=!0,a2=t=>{if(a1){aJ=new Int32Array(512),a0=new Int32Array(32);let r=0;for(;r<144;)t.lens[r++]=8;for(;r<256;)t.lens[r++]=9;for(;r<280;)t.lens[r++]=7;for(;r<288;)t.lens[r++]=8;for(aO(1,t.lens,0,288,aJ,0,t.work,{bits:9}),r=0;r<32;)t.lens[r++]=5;aO(2,t.lens,0,32,a0,0,t.work,{bits:5}),a1=!1}t.lencode=aJ,t.lenbits=9,t.distcode=a0,t.distbits=5},a5=(t,r,n,i)=>{let s,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(r.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):((s=a.wsize-a.wnext)>i&&(s=i),a.window.set(r.subarray(n-i,n-i+s),a.wnext),(i-=s)?(a.window.set(r.subarray(n-i,n),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0};var a3=(t,r)=>{let n,i,s,a,o,l,u,h,c,d,p,f,m,g,y,v,x,b,w,_,C,S,E,D,A=0,k=new Uint8Array(4),T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(aZ(t)||!t.output||!t.input&&0!==t.avail_in)return a$;16191===(s=t.state).mode&&(s.mode=16192),u=t.next_out,o=t.output,c=t.avail_out,l=t.next_in,a=t.input,h=t.avail_in,d=s.hold,p=s.bits,f=h,m=c,D=aU;r:for(;;)switch(s.mode){case 16180:if(0===s.wrap){s.mode=16192;break}for(;p<16;){if(0===h)break r;h--,d+=a[l++]<<p,p+=8}if(2&s.wrap&&35615===d){0===s.wbits&&(s.wbits=15),s.check=0,k[0]=255&d,k[1]=d>>>8&255,s.check=a_(s.check,k,2,0),d=0,p=0,s.mode=16181;break}if(s.head&&(s.head.done=!1),!(1&s.wrap)||(((255&d)<<8)+(d>>8))%31){t.msg="incorrect header check",s.mode=16209;break}if((15&d)!==aY){t.msg="unknown compression method",s.mode=16209;break}if(d>>>=4,p-=4,E=8+(15&d),0===s.wbits&&(s.wbits=E),E>15||E>s.wbits){t.msg="invalid window size",s.mode=16209;break}s.dmax=1<<s.wbits,s.flags=0,t.adler=s.check=1,s.mode=512&d?16189:16191,d=0,p=0;break;case 16181:for(;p<16;){if(0===h)break r;h--,d+=a[l++]<<p,p+=8}if(s.flags=d,(255&s.flags)!==aY){t.msg="unknown compression method",s.mode=16209;break}if(57344&s.flags){t.msg="unknown header flags set",s.mode=16209;break}s.head&&(s.head.text=d>>8&1),512&s.flags&&4&s.wrap&&(k[0]=255&d,k[1]=d>>>8&255,s.check=a_(s.check,k,2,0)),d=0,p=0,s.mode=16182;case 16182:for(;p<32;){if(0===h)break r;h--,d+=a[l++]<<p,p+=8}s.head&&(s.head.time=d),512&s.flags&&4&s.wrap&&(k[0]=255&d,k[1]=d>>>8&255,k[2]=d>>>16&255,k[3]=d>>>24&255,s.check=a_(s.check,k,4,0)),d=0,p=0,s.mode=16183;case 16183:for(;p<16;){if(0===h)break r;h--,d+=a[l++]<<p,p+=8}s.head&&(s.head.xflags=255&d,s.head.os=d>>8),512&s.flags&&4&s.wrap&&(k[0]=255&d,k[1]=d>>>8&255,s.check=a_(s.check,k,2,0)),d=0,p=0,s.mode=16184;case 16184:if(1024&s.flags){for(;p<16;){if(0===h)break r;h--,d+=a[l++]<<p,p+=8}s.length=d,s.head&&(s.head.extra_len=d),512&s.flags&&4&s.wrap&&(k[0]=255&d,k[1]=d>>>8&255,s.check=a_(s.check,k,2,0)),d=0,p=0}else s.head&&(s.head.extra=null);s.mode=16185;case 16185:if(1024&s.flags&&((g=s.length)>h&&(g=h),g&&(s.head&&(E=s.head.extra_len-s.length,s.head.extra||(s.head.extra=new Uint8Array(s.head.extra_len)),s.head.extra.set(a.subarray(l,l+g),E)),512&s.flags&&4&s.wrap&&(s.check=a_(s.check,a,g,l)),h-=g,l+=g,s.length-=g),s.length))break r;s.length=0,s.mode=16186;case 16186:if(2048&s.flags){if(0===h)break r;g=0;do E=a[l+g++],s.head&&E&&s.length<65536&&(s.head.name+=String.fromCharCode(E));while(E&&g<h)if(512&s.flags&&4&s.wrap&&(s.check=a_(s.check,a,g,l)),h-=g,l+=g,E)break r}else s.head&&(s.head.name=null);s.length=0,s.mode=16187;case 16187:if(4096&s.flags){if(0===h)break r;g=0;do E=a[l+g++],s.head&&E&&s.length<65536&&(s.head.comment+=String.fromCharCode(E));while(E&&g<h)if(512&s.flags&&4&s.wrap&&(s.check=a_(s.check,a,g,l)),h-=g,l+=g,E)break r}else s.head&&(s.head.comment=null);s.mode=16188;case 16188:if(512&s.flags){for(;p<16;){if(0===h)break r;h--,d+=a[l++]<<p,p+=8}if(4&s.wrap&&d!==(65535&s.check)){t.msg="header crc mismatch",s.mode=16209;break}d=0,p=0}s.head&&(s.head.hcrc=s.flags>>9&1,s.head.done=!0),t.adler=s.check=0,s.mode=16191;break;case 16189:for(;p<32;){if(0===h)break r;h--,d+=a[l++]<<p,p+=8}t.adler=s.check=aX(d),d=0,p=0,s.mode=16190;case 16190:if(0===s.havedict)return t.next_out=u,t.avail_out=c,t.next_in=l,t.avail_in=h,s.hold=d,s.bits=p,aG;t.adler=s.check=1,s.mode=16191;case 16191:if(r===aV||r===az)break r;case 16192:if(s.last){d>>>=7&p,p-=7&p,s.mode=16206;break}for(;p<3;){if(0===h)break r;h--,d+=a[l++]<<p,p+=8}switch(s.last=1&d,p-=1,3&(d>>>=1)){case 0:s.mode=16193;break;case 1:if(a2(s),s.mode=16199,r===az){d>>>=2,p-=2;break r}break;case 2:s.mode=16196;break;case 3:t.msg="invalid block type",s.mode=16209}d>>>=2,p-=2;break;case 16193:for(d>>>=7&p,p-=7&p;p<32;){if(0===h)break r;h--,d+=a[l++]<<p,p+=8}if((65535&d)!=(d>>>16^65535)){t.msg="invalid stored block lengths",s.mode=16209;break}if(s.length=65535&d,d=0,p=0,s.mode=16194,r===az)break r;case 16194:s.mode=16195;case 16195:if(g=s.length){if(g>h&&(g=h),g>c&&(g=c),0===g)break r;o.set(a.subarray(l,l+g),u),h-=g,l+=g,c-=g,u+=g,s.length-=g;break}s.mode=16191;break;case 16196:for(;p<14;){if(0===h)break r;h--,d+=a[l++]<<p,p+=8}if(s.nlen=257+(31&d),p-=5,s.ndist=1+(31&(d>>>=5)),p-=5,s.ncode=4+(15&(d>>>=5)),d>>>=4,p-=4,s.nlen>286||s.ndist>30){t.msg="too many length or distance symbols",s.mode=16209;break}s.have=0,s.mode=16197;case 16197:for(;s.have<s.ncode;){for(;p<3;){if(0===h)break r;h--,d+=a[l++]<<p,p+=8}s.lens[T[s.have++]]=7&d,d>>>=3,p-=3}for(;s.have<19;)s.lens[T[s.have++]]=0;if(s.lencode=s.lendyn,s.lenbits=7,n={bits:s.lenbits},D=aO(0,s.lens,0,19,s.lencode,0,s.work,n),s.lenbits=n.bits,D){t.msg="invalid code lengths set",s.mode=16209;break}s.have=0,s.mode=16198;case 16198:for(;s.have<s.nlen+s.ndist;){for(;x=(A=s.lencode[d&(1<<s.lenbits)-1])>>>24,b=A>>>16&255,w=65535&A,!(x<=p);){if(0===h)break r;h--,d+=a[l++]<<p,p+=8}if(w<16)d>>>=x,p-=x,s.lens[s.have++]=w;else{if(16===w){for(i=x+2;p<i;){if(0===h)break r;h--,d+=a[l++]<<p,p+=8}if(d>>>=x,p-=x,0===s.have){t.msg="invalid bit length repeat",s.mode=16209;break}E=s.lens[s.have-1],g=3+(3&d),d>>>=2,p-=2}else if(17===w){for(i=x+3;p<i;){if(0===h)break r;h--,d+=a[l++]<<p,p+=8}d>>>=x,p-=x,E=0,g=3+(7&d),d>>>=3,p-=3}else{for(i=x+7;p<i;){if(0===h)break r;h--,d+=a[l++]<<p,p+=8}d>>>=x,p-=x,E=0,g=11+(127&d),d>>>=7,p-=7}if(s.have+g>s.nlen+s.ndist){t.msg="invalid bit length repeat",s.mode=16209;break}for(;g--;)s.lens[s.have++]=E}}if(16209===s.mode)break;if(0===s.lens[256]){t.msg="invalid code -- missing end-of-block",s.mode=16209;break}if(s.lenbits=9,n={bits:s.lenbits},D=aO(1,s.lens,0,s.nlen,s.lencode,0,s.work,n),s.lenbits=n.bits,D){t.msg="invalid literal/lengths set",s.mode=16209;break}if(s.distbits=6,s.distcode=s.distdyn,n={bits:s.distbits},D=aO(2,s.lens,s.nlen,s.ndist,s.distcode,0,s.work,n),s.distbits=n.bits,D){t.msg="invalid distances set",s.mode=16209;break}if(s.mode=16199,r===az)break r;case 16199:s.mode=16200;case 16200:if(h>=6&&c>=258){t.next_out=u,t.avail_out=c,t.next_in=l,t.avail_in=h,s.hold=d,s.bits=p,aI(t,m),u=t.next_out,o=t.output,c=t.avail_out,l=t.next_in,a=t.input,h=t.avail_in,d=s.hold,p=s.bits,16191===s.mode&&(s.back=-1);break}for(s.back=0;x=(A=s.lencode[d&(1<<s.lenbits)-1])>>>24,b=A>>>16&255,w=65535&A,!(x<=p);){if(0===h)break r;h--,d+=a[l++]<<p,p+=8}if(b&&!(240&b)){for(_=x,C=b,S=w;x=(A=s.lencode[S+((d&(1<<_+C)-1)>>_)])>>>24,b=A>>>16&255,w=65535&A,!(_+x<=p);){if(0===h)break r;h--,d+=a[l++]<<p,p+=8}d>>>=_,p-=_,s.back+=_}if(d>>>=x,p-=x,s.back+=x,s.length=w,0===b){s.mode=16205;break}if(32&b){s.back=-1,s.mode=16191;break}if(64&b){t.msg="invalid literal/length code",s.mode=16209;break}s.extra=15&b,s.mode=16201;case 16201:if(s.extra){for(i=s.extra;p<i;){if(0===h)break r;h--,d+=a[l++]<<p,p+=8}s.length+=d&(1<<s.extra)-1,d>>>=s.extra,p-=s.extra,s.back+=s.extra}s.was=s.length,s.mode=16202;case 16202:for(;x=(A=s.distcode[d&(1<<s.distbits)-1])>>>24,b=A>>>16&255,w=65535&A,!(x<=p);){if(0===h)break r;h--,d+=a[l++]<<p,p+=8}if(!(240&b)){for(_=x,C=b,S=w;x=(A=s.distcode[S+((d&(1<<_+C)-1)>>_)])>>>24,b=A>>>16&255,w=65535&A,!(_+x<=p);){if(0===h)break r;h--,d+=a[l++]<<p,p+=8}d>>>=_,p-=_,s.back+=_}if(d>>>=x,p-=x,s.back+=x,64&b){t.msg="invalid distance code",s.mode=16209;break}s.offset=w,s.extra=15&b,s.mode=16203;case 16203:if(s.extra){for(i=s.extra;p<i;){if(0===h)break r;h--,d+=a[l++]<<p,p+=8}s.offset+=d&(1<<s.extra)-1,d>>>=s.extra,p-=s.extra,s.back+=s.extra}if(s.offset>s.dmax){t.msg="invalid distance too far back",s.mode=16209;break}s.mode=16204;case 16204:if(0===c)break r;if(g=m-c,s.offset>g){if((g=s.offset-g)>s.whave&&s.sane){t.msg="invalid distance too far back",s.mode=16209;break}g>s.wnext?(g-=s.wnext,y=s.wsize-g):y=s.wnext-g,g>s.length&&(g=s.length),v=s.window}else v=o,y=u-s.offset,g=s.length;g>c&&(g=c),c-=g,s.length-=g;do o[u++]=v[y++];while(--g)0===s.length&&(s.mode=16200);break;case 16205:if(0===c)break r;o[u++]=s.length,c--,s.mode=16200;break;case 16206:if(s.wrap){for(;p<32;){if(0===h)break r;h--,d|=a[l++]<<p,p+=8}if(m-=c,t.total_out+=m,s.total+=m,4&s.wrap&&m&&(t.adler=s.check=s.flags?a_(s.check,o,m,u-m):ab(s.check,o,m,u-m)),m=c,4&s.wrap&&(s.flags?d:aX(d))!==s.check){t.msg="incorrect data check",s.mode=16209;break}d=0,p=0}s.mode=16207;case 16207:if(s.wrap&&s.flags){for(;p<32;){if(0===h)break r;h--,d+=a[l++]<<p,p+=8}if(4&s.wrap&&d!==(0|s.total)){t.msg="incorrect length check",s.mode=16209;break}d=0,p=0}s.mode=16208;case 16208:D=aj;break r;case 16209:D=aH;break r;case 16210:return aW;default:return a$}return t.next_out=u,t.avail_out=c,t.next_in=l,t.avail_in=h,s.hold=d,s.bits=p,(s.wsize||m!==t.avail_out&&s.mode<16209&&(s.mode<16206||r!==aR))&&a5(t,t.output,t.next_out,m-t.avail_out),f-=t.avail_in,m-=t.avail_out,t.total_in+=f,t.total_out+=m,s.total+=m,4&s.wrap&&m&&(t.adler=s.check=s.flags?a_(s.check,o,m,t.next_out-m):ab(s.check,o,m,t.next_out-m)),t.data_type=s.bits+64*!!s.last+128*(16191===s.mode)+256*(16199===s.mode||16194===s.mode),(0===f&&0===m||r===aR)&&D===aU&&(D=aq),D},a4=t=>{if(aZ(t))return a$;let r=t.state;return r.window&&(r.window=null),t.state=null,aU},a6=(t,r)=>{let n,i=r.length;return aZ(t)||0!==(n=t.state).wrap&&16190!==n.mode?a$:16190===n.mode&&ab(1,r,i,0)!==n.check?aH:a5(t,r,i,i)?(n.mode=16210,aW):(n.havedict=1,aU)},a8=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};let a9=Object.prototype.toString,{Z_NO_FLUSH:a7,Z_FINISH:oe,Z_OK:ot,Z_STREAM_END:or,Z_NEED_DICT:on,Z_STREAM_ERROR:oi,Z_DATA_ERROR:os,Z_MEM_ERROR:oa}=aS;function oo(t){this.options=aD({chunkSize:65536,windowBits:15,to:""},t||{});let r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,0===r.windowBits&&(r.windowBits=-15)),!(r.windowBits>=0&&r.windowBits<16)||t&&t.windowBits||(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(15&r.windowBits||(r.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new aM,this.strm.avail_out=0;let n=((t,r)=>{if(!t)return a$;let n=new aK;t.state=n,n.strm=t,n.window=null,n.mode=16180;let i=((t,r)=>{let n;if(aZ(t))return a$;let i=t.state;return r<0?(n=0,r=-r):(n=5+(r>>4),r<48&&(r&=15)),r&&(r<8||r>15)?a$:(null!==i.window&&i.wbits!==r&&(i.window=null),i.wrap=n,i.wbits=r,aQ(t))})(t,r);return i!==aU&&(t.state=null),i})(this.strm,r.windowBits);if(n!==ot||(this.header=new a8,((t,r)=>{if(aZ(t))return;let n=t.state;return 2&n.wrap&&(n.head=r,r.done=!1)})(this.strm,this.header),r.dictionary&&("string"==typeof r.dictionary?r.dictionary=(t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let r,n,i,s,a,o=t.length,l=0;for(s=0;s<o;s++)55296==(64512&(n=t.charCodeAt(s)))&&s+1<o&&56320==(64512&(i=t.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),l+=n<128?1:n<2048?2:n<65536?3:4;for(r=new Uint8Array(l),a=0,s=0;a<l;s++)55296==(64512&(n=t.charCodeAt(s)))&&s+1<o&&56320==(64512&(i=t.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),n<128?r[a++]=n:(n<2048?r[a++]=192|n>>>6:(n<65536?r[a++]=224|n>>>12:(r[a++]=240|n>>>18,r[a++]=128|n>>>12&63),r[a++]=128|n>>>6&63),r[a++]=128|63&n);return r})(r.dictionary):"[object ArrayBuffer]"===a9.call(r.dictionary)&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(n=a6(this.strm,r.dictionary))!==ot)))throw Error(aC[n])}oo.prototype.push=function(t,r){let n,i,s,a=this.strm,o=this.options.chunkSize,l=this.options.dictionary;if(this.ended)return!1;for(i=r===~~r?r:!0===r?oe:a7,"[object ArrayBuffer]"===a9.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(o),a.next_out=0,a.avail_out=o),(n=a3(a,i))===on&&l&&((n=a6(a,l))===ot?n=a3(a,i):n===os&&(n=on));a.avail_in>0&&n===or&&a.state.wrap>0&&0!==t[a.next_in];)aQ(a),n=a3(a,i);switch(n){case oi:case os:case on:case oa:return this.onEnd(n),this.ended=!0,!1}if(s=a.avail_out,a.next_out&&(0===a.avail_out||n===or))if("string"===this.options.to){let t=aF(a.output,a.next_out),r=a.next_out-t,n=aT(a.output,t);a.next_out=r,a.avail_out=o-r,r&&a.output.set(a.output.subarray(t,t+r),0),this.onData(n)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(n!==ot||0!==s){if(n===or)return n=a4(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},oo.prototype.onData=function(t){this.chunks.push(t)},oo.prototype.onEnd=function(t){t===ot&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=(t=>{let r=0;for(let n=0,i=t.length;n<i;n++)r+=t[n].length;let n=new Uint8Array(r);for(let r=0,i=0,s=t.length;r<s;r++){let s=t[r];n.set(s,i),i+=s.length}return n})(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};let{inflate:ol}={inflate:function(t,r){let n=new oo(r);if(n.push(t),n.err)throw n.msg||aC[n.err];return n.result}};var ou,oh={};oh.parse=function(t){let r;var n=oh.B,i=function(t,r,n,i){var s=oh.T,a={cmap:s.cmap,head:s.head,hhea:s.hhea,maxp:s.maxp,hmtx:s.hmtx,name:s.name,"OS/2":s.OS2,post:s.post,loca:s.loca,kern:s.kern,glyf:s.glyf,"CFF ":s.CFF,GSUB:s.GSUB,CBLC:s.CBLC,CBDT:s.CBDT,"SVG ":s.SVG,COLR:s.colr,CPAL:s.cpal,sbix:s.sbix,fvar:s.fvar,gvar:s.gvar,avar:s.avar,HVAR:s.HVAR},o={_data:t,_index:r,_offset:n};for(var l in a){var u=oh.findTable(t,l,n);if(u){var h=u[0],c=i[h];null==c&&(c=a[l].parseTab(t,h,u[1],o)),o[l]=i[h]=c}}return o},s=new Uint8Array(t);119==s[0]&&(r=s,s=function(t){var r=n.readUshort(t,12),i=new Uint8Array(n.readUint(t,16)),s=12+16*r;n.writeASCII(i,0,"OTTO"),n.writeUshort(i,4,r);for(var a=44,o=0;o<r;o++){var l=n.readASCII(t,a,4),u=n.readUint(t,a+4),h=n.readUint(t,a+8),c=n.readUint(t,a+12);a+=20;var d=t.slice(u,u+h);h!=c&&(d=ol(d));var p=12+16*o;n.writeASCII(i,p,l),n.writeUint(i,p+8,s),n.writeUint(i,p+12,c),i.set(d,s),s+=c}return i}(s));var a={};if("ttcf"==n.readASCII(s,0,4)){var o=4;n.readUshort(s,o),o+=2,n.readUshort(s,o),o+=2;var l=n.readUint(s,o);o+=4;for(var u=[],h=0;h<l;h++){var c=n.readUint(s,o);o+=4,u.push(i(s,h,c,a))}return u}var d=i(s,0,0,a);d._compressedData=r;var p=d.fvar;if(p){var f=[d];for(h=0;h<p[1].length;h++){var m=p[1][h],g={};for(var y in f.push(g),d)g[y]=d[y];g._index=h;var v=g.name=JSON.parse(JSON.stringify(g.name));v.fontSubfamily=m[0],null==m[3]&&(m[3]=(v.fontFamily+"-"+v.fontSubfamily).replaceAll(" ","")),v.postScriptName=m[3]}return f}return[d]},oh.findTable=function(t,r,n){for(var i=oh.B,s=i.readUshort(t,n+4),a=n+12,o=0;o<s;o++){var l=i.readASCII(t,a,4);i.readUint(t,a+4);var u=i.readUint(t,a+8),h=i.readUint(t,a+12);if(l==r)return[u,h];a+=16}return null},oh.T={},oh.B={readFixed:function(t,r){return(t[r]<<8|t[r+1])+(t[r+2]<<8|t[r+3])/65540},readF2dot14:function(t,r){return oh.B.readShort(t,r)/16384},readInt:function(t,r){var n=oh.B.t.uint8;return n[0]=t[r+3],n[1]=t[r+2],n[2]=t[r+1],n[3]=t[r],oh.B.t.int32[0]},readInt8:function(t,r){return oh.B.t.uint8[0]=t[r],oh.B.t.int8[0]},readShort:function(t,r){return oh.B.t.uint16[0]=t[r]<<8|t[r+1],oh.B.t.int16[0]},readUshort:function(t,r){return t[r]<<8|t[r+1]},writeUshort:function(t,r,n){t[r]=n>>8&255,t[r+1]=255&n},readUshorts:function(t,r,n){for(var i=[],s=0;s<n;s++){var a=oh.B.readUshort(t,r+2*s);i.push(a)}return i},readUint:function(t,r){var n=oh.B.t.uint8;return n[3]=t[r],n[2]=t[r+1],n[1]=t[r+2],n[0]=t[r+3],oh.B.t.uint32[0]},writeUint:function(t,r,n){t[r]=n>>24&255,t[r+1]=n>>16&255,t[r+2]=n>>8&255,t[r+3]=255&n},readUint64:function(t,r){return 0x100000000*oh.B.readUint(t,r)+oh.B.readUint(t,r+4)},readASCII:function(t,r,n){for(var i="",s=0;s<n;s++)i+=String.fromCharCode(t[r+s]);return i},writeASCII:function(t,r,n){for(var i=0;i<n.length;i++)t[r+i]=n.charCodeAt(i)},readUnicode:function(t,r,n){for(var i="",s=0;s<n;s++)i+=String.fromCharCode(t[r++]<<8|t[r++]);return i},_tdec:window.TextDecoder?new window.TextDecoder:null,readUTF8:function(t,r,n){var i=oh.B._tdec;return i&&0==r&&n==t.length?i.decode(t):oh.B.readASCII(t,r,n)},readBytes:function(t,r,n){for(var i=[],s=0;s<n;s++)i.push(t[r+s]);return i},readASCIIArray:function(t,r,n){for(var i=[],s=0;s<n;s++)i.push(String.fromCharCode(t[r+s]));return i},t:{buff:ou=new ArrayBuffer(8),int8:new Int8Array(ou),uint8:new Uint8Array(ou),int16:new Int16Array(ou),uint16:new Uint16Array(ou),int32:new Int32Array(ou),uint32:new Uint32Array(ou)}},oh.T.CFF={parseTab:function(t,r,n){var i=oh.B,s=oh.T.CFF;t=new Uint8Array(t.buffer,r,n),r=0,r++,r++,r++,r++;var a=[];r=s.readIndex(t,r,a);for(var o=[],l=0;l<a.length-1;l++)o.push(i.readASCII(t,r+a[l],a[l+1]-a[l]));r+=a[a.length-1];var u=[];r=s.readIndex(t,r,u);var h=[];for(l=0;l<u.length-1;l++)h.push(s.readDict(t,r+u[l],r+u[l+1]));r+=u[u.length-1];var c=h[0],d=[];r=s.readIndex(t,r,d);var p=[];for(l=0;l<d.length-1;l++)p.push(i.readASCII(t,r+d[l],d[l+1]-d[l]));if(r+=d[d.length-1],s.readSubrs(t,r,c),c.CharStrings&&(c.CharStrings=s.readBytes(t,c.CharStrings)),c.ROS){r=c.FDArray;var f=[];for(r=s.readIndex(t,r,f),c.FDArray=[],l=0;l<f.length-1;l++){var m=s.readDict(t,r+f[l],r+f[l+1]);s._readFDict(t,m,p),c.FDArray.push(m)}r+=f[f.length-1],r=c.FDSelect,c.FDSelect=[];var g=t[r];if(r++,3!=g)throw g;var y=i.readUshort(t,r);for(r+=2,l=0;l<y+1;l++)c.FDSelect.push(i.readUshort(t,r),t[r+2]),r+=3}return c.charset&&(c.charset=s.readCharset(t,c.charset,c.CharStrings.length)),s._readFDict(t,c,p),c},_readFDict:function(t,r,n){var i,s=oh.T.CFF;for(var a in r.Private&&(i=r.Private[1],r.Private=s.readDict(t,i,i+r.Private[0]),r.Private.Subrs&&s.readSubrs(t,i+r.Private.Subrs,r.Private)),r)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(a)&&(r[a]=n[r[a]-426+35])},readSubrs:function(t,r,n){n.Subrs=oh.T.CFF.readBytes(t,r);var i=n.Subrs.length+1;n.Bias=i<1240?107:i<33900?1131:32768},readBytes:function(t,r){var n=[];r=oh.T.CFF.readIndex(t,r,n);for(var i=[],s=n.length-1,a=t.byteOffset+r,o=0;o<s;o++){var l=n[o];i.push(new Uint8Array(t.buffer,a+l,n[o+1]-l))}return i},tableSE:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],glyphByUnicode:function(t,r){for(var n=0;n<t.charset.length;n++)if(t.charset[n]==r)return n;return -1},glyphBySE:function(t,r){return r<0||r>255?-1:oh.T.CFF.glyphByUnicode(t,oh.T.CFF.tableSE[r])},readCharset:function(t,r,n){var i=oh.B,s=[".notdef"],a=t[r];if(r++,0==a)for(var o=0;o<n;o++){var l=i.readUshort(t,r);r+=2,s.push(l)}else{if(1!=a&&2!=a)throw"error: format: "+a;for(;s.length<n;){l=i.readUshort(t,r),r+=2;var u=0;for(1==a?(u=t[r],r++):(u=i.readUshort(t,r),r+=2),o=0;o<=u;o++)s.push(l),l++}}return s},readIndex:function(t,r,n){var i=oh.B,s=i.readUshort(t,r)+1,a=t[r+=2];if(r++,1==a)for(var o=0;o<s;o++)n.push(t[r+o]);else if(2==a)for(o=0;o<s;o++)n.push(i.readUshort(t,r+2*o));else if(3==a)for(o=0;o<s;o++)n.push(0xffffff&i.readUint(t,r+3*o-1));else if(4==a)for(o=0;o<s;o++)n.push(i.readUint(t,r+4*o));else if(1!=s)throw"unsupported offset size: "+a+", count: "+s;return(r+=s*a)-1},getCharString:function(t,r,n){var i=oh.B,s=t[r],a=t[r+1],o=1,l=null,u=null;s<=20&&(l=s,o=1),12==s&&(l=100*s+a,o=2),21<=s&&s<=27&&(l=s,o=1),28==s&&(u=i.readShort(t,r+1),o=3),29<=s&&s<=31&&(l=s,o=1),32<=s&&s<=246&&(u=s-139,o=1),247<=s&&s<=250&&(u=256*(s-247)+a+108,o=2),251<=s&&s<=254&&(u=-(256*(s-251))-a-108,o=2),255==s&&(u=i.readInt(t,r+1)/65535,o=5),n.val=null!=u?u:"o"+l,n.size=o},readCharString:function(t,r,n){for(var i=r+n,s=oh.B,a=[];r<i;){var o=t[r],l=t[r+1],u=1,h=null,c=null;o<=20&&(h=o,u=1),12==o&&(h=100*o+l,u=2),19!=o&&20!=o||(h=o,u=2),21<=o&&o<=27&&(h=o,u=1),28==o&&(c=s.readShort(t,r+1),u=3),29<=o&&o<=31&&(h=o,u=1),32<=o&&o<=246&&(c=o-139,u=1),247<=o&&o<=250&&(c=256*(o-247)+l+108,u=2),251<=o&&o<=254&&(c=-(256*(o-251))-l-108,u=2),255==o&&(c=s.readInt(t,r+1)/65535,u=5),a.push(null!=c?c:"o"+h),r+=u}return a},readDict:function(t,r,n){for(var i=oh.B,s={},a=[];r<n;){var o=t[r],l=t[r+1],u=1,h=null,c=null;if(28==o&&(c=i.readShort(t,r+1),u=3),29==o&&(c=i.readInt(t,r+1),u=5),32<=o&&o<=246&&(c=o-139,u=1),247<=o&&o<=250&&(c=256*(o-247)+l+108,u=2),251<=o&&o<=254&&(c=-(256*(o-251))-l-108,u=2),255==o)throw c=i.readInt(t,r+1)/65535,u=5,"unknown number";if(30==o){var d=[];for(u=1;;){var p=t[r+u];u++;var f=p>>4,m=15&p;if(15!=f&&d.push(f),15!=m&&d.push(m),15==m)break}for(var g="",y=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],v=0;v<d.length;v++)g+=y[d[v]];c=parseFloat(g)}o<=21&&(h=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][o],u=1,12==o)&&(h=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold","","","LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend","","","","","","","ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][l],u=2),null!=h?(s[h]=1==a.length?a[0]:a,a=[]):a.push(c),r+=u}return s}},oh.T.cmap={parseTab:function(t,r,n){var i={tables:[],ids:{},off:r};t=new Uint8Array(t.buffer,r,n),r=0;var s=oh.B,a=s.readUshort,o=oh.T.cmap;a(t,r);var l=a(t,r+=2);r+=2;for(var u=[],h=0;h<l;h++){var c=a(t,r),d=a(t,r+=2);r+=2;var p=s.readUint(t,r);r+=4;var f="p"+c+"e"+d,m=u.indexOf(p);if(-1==m){m=i.tables.length;var g={};u.push(p);var y=g.format=a(t,p);0==y?g=o.parse0(t,p,g):4==y?g=o.parse4(t,p,g):6==y?g=o.parse6(t,p,g):12==y&&(g=o.parse12(t,p,g)),i.tables.push(g)}null!=i.ids[f]&&console.log("multiple tables for one platform+encoding: "+f),i.ids[f]=m}return i},parse0:function(t,r,n){var i=oh.B;r+=2;var s=i.readUshort(t,r);r+=2,i.readUshort(t,r),r+=2,n.map=[];for(var a=0;a<s-6;a++)n.map.push(t[r+a]);return n},parse4:function(t,r,n){var i=oh.B,s=i.readUshort,a=i.readUshorts,o=r,l=s(t,r+=2);s(t,r+=2);var u=s(t,r+=2)>>>1;n.searchRange=s(t,r+=2),n.entrySelector=s(t,r+=2),n.rangeShift=s(t,r+=2),n.endCount=a(t,r+=2,u),r+=2*u,n.startCount=a(t,r+=2,u),r+=2*u,n.idDelta=[];for(var h=0;h<u;h++)n.idDelta.push(i.readShort(t,r)),r+=2;return n.idRangeOffset=a(t,r,u),n.glyphIdArray=a(t,r+=2*u,o+l-r>>1),n},parse6:function(t,r,n){var i=oh.B;r+=2,i.readUshort(t,r),r+=2,i.readUshort(t,r),r+=2,n.firstCode=i.readUshort(t,r),r+=2;var s=i.readUshort(t,r);r+=2,n.glyphIdArray=[];for(var a=0;a<s;a++)n.glyphIdArray.push(i.readUshort(t,r)),r+=2;return n},parse12:function(t,r,n){var i=oh.B.readUint;i(t,r+=4),i(t,r+=4);var s=3*i(t,r+=4);r+=4;for(var a=n.groups=new Uint32Array(s),o=0;o<s;o+=3)a[o]=i(t,r+(o<<2)),a[o+1]=i(t,r+(o<<2)+4),a[o+2]=i(t,r+(o<<2)+8);return n}},oh.T.CBLC={parseTab:function(t,r,n){var i=oh.B,s=r;i.readUshort(t,r),r+=2,i.readUshort(t,r),r+=2;var a=i.readUint(t,r);r+=4;for(var o=[],l=0;l<a;l++){var u=i.readUint(t,r);r+=4,i.readUint(t,r),r+=4,i.readUint(t,r),r+=4,r+=4,r+=24,i.readUshort(t,r),r+=2,i.readUshort(t,r),r+=2,r+=4;for(var h=s+u,c=0;c<3;c++){var d=i.readUshort(t,h);h+=2;var p=i.readUshort(t,h);h+=2;var f=i.readUint(t,h);h+=4;var m=p-d+1,g=s+u+f,y=i.readUshort(t,g);if(g+=2,1!=y)throw y;var v=i.readUshort(t,g);g+=2;var x=i.readUint(t,g);g+=4;for(var b=[],w=0;w<m;w++){var _=i.readUint(t,g+4*w);b.push(x+_)}o.push([d,p,v,b])}}return o}},oh.T.CBDT={parseTab:function(t,r,n){return new Uint8Array(t.buffer,t.byteOffset+r,n)}},oh.T.glyf={parseTab:function(t,r,n,i){for(var s=[],a=i.maxp.numGlyphs,o=0;o<a;o++)s.push(null);return s},_parseGlyf:function(t,r){var n,i=oh.B,s=t._data,a=t.loca;if(a[r]==a[r+1])return null;var o=oh.findTable(s,"glyf",t._offset)[0]+a[r],l={};if(l.noc=i.readShort(s,o),o+=2,l.xMin=i.readShort(s,o),o+=2,l.yMin=i.readShort(s,o),o+=2,l.xMax=i.readShort(s,o),o+=2,l.yMax=i.readShort(s,o),o+=2,l.xMin>=l.xMax||l.yMin>=l.yMax)return null;if(l.noc>0){l.endPts=[];for(var u=0;u<l.noc;u++)l.endPts.push(i.readUshort(s,o)),o+=2;var h=i.readUshort(s,o);if(o+=2,s.length-o<h)return null;l.instructions=i.readBytes(s,o,h),o+=h;var c=l.endPts[l.noc-1]+1;for(u=0,l.flags=[];u<c;u++){var d=s[o];if(o++,l.flags.push(d),8&d){var p=s[o];o++;for(var f=0;f<p;f++)l.flags.push(d),u++}}for(u=0,l.xs=[];u<c;u++){var m=!!(2&l.flags[u]),g=!!(16&l.flags[u]);m?(l.xs.push(g?s[o]:-s[o]),o++):g?l.xs.push(0):(l.xs.push(i.readShort(s,o)),o+=2)}for(u=0,l.ys=[];u<c;u++)m=!!(4&l.flags[u]),g=!!(32&l.flags[u]),m?(l.ys.push(g?s[o]:-s[o]),o++):g?l.ys.push(0):(l.ys.push(i.readShort(s,o)),o+=2);var y=0,v=0;for(u=0;u<c;u++)y+=l.xs[u],v+=l.ys[u],l.xs[u]=y,l.ys[u]=v}else{l.parts=[];do{n=i.readUshort(s,o),o+=2;var x={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(l.parts.push(x),x.glyphIndex=i.readUshort(s,o),o+=2,1&n){var b=i.readShort(s,o);o+=2;var w=i.readShort(s,o);o+=2}else b=i.readInt8(s,o),o++,w=i.readInt8(s,o),o++;2&n?(x.m.tx=b,x.m.ty=w):(x.p1=b,x.p2=w),8&n?(x.m.a=x.m.d=i.readF2dot14(s,o),o+=2):64&n?(x.m.a=i.readF2dot14(s,o),o+=2,x.m.d=i.readF2dot14(s,o),o+=2):128&n&&(x.m.a=i.readF2dot14(s,o),o+=2,x.m.b=i.readF2dot14(s,o),o+=2,x.m.c=i.readF2dot14(s,o),o+=2,x.m.d=i.readF2dot14(s,o),o+=2)}while(32&n)if(256&n){var _=i.readUshort(s,o);for(o+=2,l.instr=[],u=0;u<_;u++)l.instr.push(s[o]),o++}}return l}},oh.T.head={parseTab:function(t,r,n){var i=oh.B,s={};return i.readFixed(t,r),r+=4,s.fontRevision=i.readFixed(t,r),r+=4,i.readUint(t,r),r+=4,i.readUint(t,r),r+=4,s.flags=i.readUshort(t,r),r+=2,s.unitsPerEm=i.readUshort(t,r),r+=2,s.created=i.readUint64(t,r),r+=8,s.modified=i.readUint64(t,r),r+=8,s.xMin=i.readShort(t,r),r+=2,s.yMin=i.readShort(t,r),r+=2,s.xMax=i.readShort(t,r),r+=2,s.yMax=i.readShort(t,r),r+=2,s.macStyle=i.readUshort(t,r),r+=2,s.lowestRecPPEM=i.readUshort(t,r),r+=2,s.fontDirectionHint=i.readShort(t,r),r+=2,s.indexToLocFormat=i.readShort(t,r),r+=2,s.glyphDataFormat=i.readShort(t,r),r+=2,s}},oh.T.hhea={parseTab:function(t,r,n){var i=oh.B,s={};i.readFixed(t,r),r+=4;for(var a=["ascender","descender","lineGap","advanceWidthMax","minLeftSideBearing","minRightSideBearing","xMaxExtent","caretSlopeRise","caretSlopeRun","caretOffset","res0","res1","res2","res3","metricDataFormat","numberOfHMetrics"],o=0;o<a.length;o++){var l=a[o],u="advanceWidthMax"==l||"numberOfHMetrics"==l?i.readUshort:i.readShort;s[l]=u(t,r+2*o)}return s}},oh.T.hmtx={parseTab:function(t,r,n,i){for(var s=oh.B,a=[],o=[],l=i.maxp.numGlyphs,u=i.hhea.numberOfHMetrics,h=0,c=0,d=0;d<u;)h=s.readUshort(t,r+(d<<2)),c=s.readShort(t,r+(d<<2)+2),a.push(h),o.push(c),d++;for(;d<l;)a.push(h),o.push(c),d++;return{aWidth:a,lsBearing:o}}},oh.T.kern={parseTab:function(t,r,n,i){var s=oh.B,a=oh.T.kern;if(1==s.readUshort(t,r))return a.parseV1(t,r,n,i);var o=s.readUshort(t,r+2);r+=4;for(var l={glyph1:[],rval:[]},u=0;u<o;u++){r+=2,n=s.readUshort(t,r),r+=2;var h=s.readUshort(t,r);r+=2;var c=h>>>8;0==(c&=15)&&(r=a.readFormat0(t,r,l))}return l},parseV1:function(t,r,n,i){var s=oh.B,a=oh.T.kern;s.readFixed(t,r);var o=s.readUint(t,r+4);r+=8;for(var l={glyph1:[],rval:[]},u=0;u<o;u++){s.readUint(t,r),r+=4;var h=s.readUshort(t,r);r+=2,s.readUshort(t,r),r+=2,0==(255&h)&&(r=a.readFormat0(t,r,l))}return l},readFormat0:function(t,r,n){var i=oh.B,s=i.readUshort,a=-1,o=s(t,r);s(t,r+2),s(t,r+4),s(t,r+6),r+=8;for(var l=0;l<o;l++){var u=s(t,r),h=s(t,r+=2);r+=2;var c=i.readShort(t,r);r+=2,u!=a&&(n.glyph1.push(u),n.rval.push({glyph2:[],vals:[]}));var d=n.rval[n.rval.length-1];d.glyph2.push(h),d.vals.push(c),a=u}return r}},oh.T.loca={parseTab:function(t,r,n,i){var s=oh.B,a=[],o=i.head.indexToLocFormat,l=i.maxp.numGlyphs+1;if(0==o)for(var u=0;u<l;u++)a.push(s.readUshort(t,r+(u<<1))<<1);if(1==o)for(u=0;u<l;u++)a.push(s.readUint(t,r+(u<<2)));return a}},oh.T.maxp={parseTab:function(t,r,n){var i=oh.B,s=i.readUshort,a={};return i.readUint(t,r),a.numGlyphs=s(t,r+=4),r+=2,a}},oh.T.name={parseTab:function(t,r,n){var i=oh.B,s={};i.readUshort(t,r),r+=2;var a=i.readUshort(t,r);r+=2;for(var o=i.readUshort(t,r),l=(r+=2)-6+o,u=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],h=i.readUshort,c=0;c<a;c++){var d=h(t,r),p=h(t,r+=2),f=h(t,r+=2),m=h(t,r+=2),g=h(t,r+=2),y=h(t,r+=2);r+=2;var v,x=l+y;0==d||3==d&&0==p||1==d&&25==p?v=i.readUnicode(t,x,g/2):0==p?v=i.readASCII(t,x,g):1==p||3==p||4==p||5==p||10==p?v=i.readUnicode(t,x,g/2):1==d?(v=i.readASCII(t,x,g),console.log("reading unknown MAC encoding "+p+" as ASCII")):(console.log("unknown encoding "+p+", platformID: "+d),v=i.readASCII(t,x,g));var b="p"+d+","+f.toString(16);null==s[b]&&(s[b]={});var w=u[m];null==w&&(w="_"+m),s[b][w]=v,s[b]._lang=f}var _=oh.T.name.selectOne(s),C="fontFamily";if(null==_[C])for(var S in s)null!=s[S][C]&&(_[C]=s[S][C]);return _},selectOne:function(t){var r,n="postScriptName";for(var i in t)if(null!=t[i][n]&&1033==t[i]._lang)return t[i];for(var i in t)if(null!=t[i][n]&&0==t[i]._lang)return t[i];for(var i in t)if(null!=t[i][n]&&3084==t[i]._lang)return t[i];for(var i in t)if(null!=t[i][n])return t[i];for(var i in t){r=t[i];break}return console.log("returning name table with languageID "+r._lang),null==r[n]&&null!=r.ID&&(r[n]=r.ID),r}},oh.T.OS2={parseTab:function(t,r,n){var i=oh.B.readUshort(t,r);r+=2;var s=oh.T.OS2,a={};if(0==i)s.version0(t,r,a);else if(1==i)s.version1(t,r,a);else if(2==i||3==i||4==i)s.version2(t,r,a);else{if(5!=i)throw"unknown OS/2 table version: "+i;s.version5(t,r,a)}return a},version0:function(t,r,n){var i=oh.B;return n.xAvgCharWidth=i.readShort(t,r),r+=2,n.usWeightClass=i.readUshort(t,r),r+=2,n.usWidthClass=i.readUshort(t,r),r+=2,n.fsType=i.readUshort(t,r),r+=2,n.ySubscriptXSize=i.readShort(t,r),r+=2,n.ySubscriptYSize=i.readShort(t,r),r+=2,n.ySubscriptXOffset=i.readShort(t,r),r+=2,n.ySubscriptYOffset=i.readShort(t,r),r+=2,n.ySuperscriptXSize=i.readShort(t,r),r+=2,n.ySuperscriptYSize=i.readShort(t,r),r+=2,n.ySuperscriptXOffset=i.readShort(t,r),r+=2,n.ySuperscriptYOffset=i.readShort(t,r),r+=2,n.yStrikeoutSize=i.readShort(t,r),r+=2,n.yStrikeoutPosition=i.readShort(t,r),r+=2,n.sFamilyClass=i.readShort(t,r),r+=2,n.panose=i.readBytes(t,r,10),r+=10,n.ulUnicodeRange1=i.readUint(t,r),r+=4,n.ulUnicodeRange2=i.readUint(t,r),r+=4,n.ulUnicodeRange3=i.readUint(t,r),r+=4,n.ulUnicodeRange4=i.readUint(t,r),r+=4,n.achVendID=i.readASCII(t,r,4),r+=4,n.fsSelection=i.readUshort(t,r),r+=2,n.usFirstCharIndex=i.readUshort(t,r),r+=2,n.usLastCharIndex=i.readUshort(t,r),r+=2,n.sTypoAscender=i.readShort(t,r),r+=2,n.sTypoDescender=i.readShort(t,r),r+=2,n.sTypoLineGap=i.readShort(t,r),r+=2,n.usWinAscent=i.readUshort(t,r),r+=2,n.usWinDescent=i.readUshort(t,r),r+=2},version1:function(t,r,n){var i=oh.B;return r=oh.T.OS2.version0(t,r,n),n.ulCodePageRange1=i.readUint(t,r),r+=4,n.ulCodePageRange2=i.readUint(t,r),r+=4},version2:function(t,r,n){var i=oh.B,s=i.readUshort;return r=oh.T.OS2.version1(t,r,n),n.sxHeight=i.readShort(t,r),r+=2,n.sCapHeight=i.readShort(t,r),n.usDefault=s(t,r+=2),n.usBreak=s(t,r+=2),n.usMaxContext=s(t,r+=2),r+=2},version5:function(t,r,n){var i=oh.B.readUshort;return r=oh.T.OS2.version2(t,r,n),n.usLowerOpticalPointSize=i(t,r),n.usUpperOpticalPointSize=i(t,r+=2),r+=2}},oh.T.post={parseTab:function(t,r,n){var i=oh.B,s={};return s.version=i.readFixed(t,r),r+=4,s.italicAngle=i.readFixed(t,r),r+=4,s.underlinePosition=i.readShort(t,r),r+=2,s.underlineThickness=i.readShort(t,r),r+=2,s}},oh.T.SVG={parseTab:function(t,r,n){var i=oh.B,s={entries:[],svgs:[]},a=r;i.readUshort(t,r),r+=2;var o=i.readUint(t,r);r+=4,i.readUint(t,r),r+=4,r=o+a;var l=i.readUshort(t,r);r+=2;for(var u=0;u<l;u++){var h=i.readUshort(t,r);r+=2;var c=i.readUshort(t,r);r+=2;var d=i.readUint(t,r);r+=4;var p=i.readUint(t,r);r+=4;var f=new Uint8Array(t.buffer,a+d+o,p);31==f[0]&&139==f[1]&&8==f[2]&&(f=ol(f));for(var m=i.readUTF8(f,0,f.length),g=h;g<=c;g++)s.entries[g]=s.svgs.length;s.svgs.push(m)}return s}},oh.T.sbix={parseTab:function(t,r,n,i){for(var s=i.maxp.numGlyphs,a=oh.B,o=a.readUint(t,r+4),l=[],u=o-1;u<o;u++)for(var h=r+a.readUint(t,r+8+4*u),c=0;c<s;c++){var d=a.readUint(t,h+4+4*c),p=a.readUint(t,h+4+4*c+4);if(d!=p){var f=h+d,m=a.readASCII(t,f+4,4);if("png "!=m)throw m;l[c]=new Uint8Array(t.buffer,t.byteOffset+f+8,p-d-8)}else l[c]=null}return l}},oh.T.colr={parseTab:function(t,r,n){var i=oh.B,s=r;r+=2;var a=i.readUshort(t,r);r+=2;var o=i.readUint(t,r);r+=4;var l=i.readUint(t,r);r+=4;var u=i.readUshort(t,r);r+=2;for(var h={},c=s+o,d=0;d<a;d++)h["g"+i.readUshort(t,c)]=[i.readUshort(t,c+2),i.readUshort(t,c+4)],c+=6;var p=[];for(d=0,c=s+l;d<u;d++)p.push(i.readUshort(t,c),i.readUshort(t,c+2)),c+=4;return[h,p]}},oh.T.cpal={parseTab:function(t,r,n){var i=oh.B,s=r,a=i.readUshort(t,r);if(r+=2,0==a){i.readUshort(t,r),r+=2,i.readUshort(t,r),r+=2;var o=i.readUshort(t,r);r+=2;var l=i.readUint(t,r);return r+=4,new Uint8Array(t.buffer,s+l,4*o)}throw a}},oh.T.GSUB={parseTab:function(t,r,n,i){var s=oh.B,a=s.readUshort,o=r;a(t,o),a(t,o+=2),a(t,o+=2);var l=a(t,o+=2);a(t,o+=2),o+=2;var u={},h=a(t,o=r+l);o+=2;for(var c=0;c<h;c++){var d=s.readASCII(t,o,4);a(t,o+=4),o+=2,u[d]=!0}return u}},oh.T.fvar={parseTab:function(t,r,n,i){var s=i.name,a=r,o=oh.B,l=[],u=[];a+=8;var h=o.readUshort(t,a);a+=2,a+=2;var c=o.readUshort(t,a);a+=2;var d=o.readUshort(t,a);a+=2;for(var p=0;p<h;p++){var f=o.readASCII(t,a,4),m=o.readFixed(t,a+4),g=o.readFixed(t,a+8),y=o.readFixed(t,a+12),v=o.readUshort(t,a+16),x=o.readUshort(t,a+18);l.push([f,m,g,y,v,s["_"+x]]),a+=20}for(p=0;p<c;p++){for(var b=o.readUshort(t,a),w=null,_=(v=o.readUshort(t,a+2),[]),C=0;C<h;C++)_.push(o.readFixed(t,a+4+4*C));a+=4+4*h,2==(3&d)&&(w=o.readUshort(t,a),a+=2),u.push([s["_"+b],v,_,w])}return[l,u]}},oh.T.gvar=function(){var t=oh.B;function r(r,n,i){for(var s=[],a=0;a<i;a++)s.push(t.readF2dot14(r,n+2*a));return s}function n(r,n,i){var s=r[n];if(n++,0==s)return[[],n];127<s&&(s=(127&s)<<8|r[n++]);for(var a=[],o=0;a.length<s;){var l=r[n];n++;var u=!!(128&l);l=1+(127&l);for(var h=0;h<l;h++){var c=0;u?(c=t.readUshort(r,n),n+=2):(c=r[n],n++),o+=c,a.push(o)}}return[a,n]}return{parseTab:function(i,s,a,o){var l=s+4,u=t.readUshort(i,l);l+=2;var h=t.readUshort(i,l);l+=2;var c=t.readUint(i,l);l+=4;var d=t.readUshort(i,l);l+=2,t.readUshort(i,l),l+=2;var p=t.readUint(i,l);l+=4;for(var f=[],m=0;m<d+1;m++)f.push(t.readUint(i,l+4*m));var g=[],y=[],v=[];for(l=s+c,m=0;m<h;m++){var x=r(i,l+m*u*2,u),b=[],w=[];g.push(x),y.push(b),v.push(w);for(var _=0;_<u;_++)b[_]=Math.min(x[_],0),w[_]=Math.max(x[_],0)}var C=new Int8Array(i.buffer),S=[];for(m=0;m<d;m++){l=s+p+f[m];var E=t.readUshort(i,l);l+=2;var D=32768&E;E&=4095;var A=t.readUshort(i,l),k=function(n,i,s,a){for(var o=[],l=0;l<s;l++){var u=t.readUshort(n,i);i+=2;var h=t.readUshort(n,i),c=61440&h;h&=4095,i+=2;var d=null,p=null,f=null;32768&c&&(d=r(n,i,a),i+=2*a),16384&c&&(p=r(n,i,a),i+=2*a),16384&c&&(f=r(n,i,a),i+=2*a),o.push([u,h,c,p,d,f])}return o}(i,l+=2,E,u),T=[];S.push(T),l=s+p+f[m]+A;var F=null;D&&(F=(I=n(i,l))[0],l=I[1]);for(var M=0;M<E;M++){var I,B=k[M],P=l+B[0],L=F;8192&B[2]&&(L=(I=n(i,l))[0],l=I[1]);for(var N=[];l<P;){var O=i[l++],R=1+(63&O);if(128&O)for(_=0;_<R;_++)N.push(0);else if(64&O){for(_=0;_<R;_++)N.push(t.readShort(i,l+2*_));l+=2*R}else{for(_=0;_<R;_++)N.push(C[l+_]);l+=R}}var V=B[1];if(T.push([[B[3]?B[3]:y[V],B[4]?B[4]:g[V],B[5]?B[5]:v[V]],N,0==L.length?null:L]),0!=L.length&&2*L.length!=N.length)throw"e"}}return S}}}(),oh.T.avar={parseTab:function(t,r,n,i){var s=r,a=oh.B,o=[];s+=6;var l=a.readUshort(t,s);s+=2;for(var u=0;u<l;u++){var h=a.readUshort(t,s);s+=2;var c=[];o.push(c);for(var d=0;d<h;d++){var p=a.readF2dot14(t,s),f=a.readF2dot14(t,s+2);s+=4,c.push(p,f)}}return o}},oh.T.HVAR={parseTab:function(t,r,n,i){var s=r,a=oh.B;s+=4;var o=a.readUint(t,s);s+=4;var l=a.readUint(t,s);s+=4;var u=a.readUint(t,s);s+=4;var h=a.readUint(t,s);if(s+=4,0!=u||0!=h)throw u;var c=s=r+o,d=a.readUshort(t,s);if(s+=2,1!=d)throw"e";var p=a.readUint(t,s);s+=4;var f=a.readUshort(t,s);s+=2;for(var m=[],g=0;g<f;g++)m.push(a.readUint(t,s+4*g));s+=4*f,s=c+p;var y=a.readUshort(t,s);s+=2;var v=a.readUshort(t,s);s+=2;var x=[];for(g=0;g<v;g++){var b=[[],[],[]];x.push(b);for(var w=0;w<y;w++)b[0].push(a.readF2dot14(t,s+0)),b[1].push(a.readF2dot14(t,s+2)),b[2].push(a.readF2dot14(t,s+4)),s+=6}var _=new Int8Array(t.buffer),C=[];for(g=0;g<m.length;g++){s=r+o+m[g];var S=[];C.push(S);var E=a.readUshort(t,s);s+=2;var D=a.readUshort(t,s);if(s+=2,32768&D)throw"e";v=a.readUshort(t,s),s+=2;var A=[];for(w=0;w<v;w++)A.push(a.readUshort(t,s+2*w));s+=2*v;for(var k=0;k<E;k++){for(var T=[],F=0;F<v;F++)T.push(F<D?a.readShort(t,s):_[s]),s+=F<D?2:1;var M=Array(x.length);for(M.fill(0),S.push(M),w=0;w<A.length;w++)M[A[w]]=T[w]}}if(s=r+l,0!=(d=t[s++]))throw"e";var I=t[s++],B=a.readUshort(t,s);s+=2;var P=1+((48&I)>>4),L=[];for(g=0;g<B;g++){var N=0;1==P?N=t[s++]:(N=a.readUshort(t,s),s+=2);var O=N>>1+(15&I),R=N&(1<<1+(15&I))-1;L.push(C[O][R])}return[x,L]}},oh.U=function(){var t=function(t,r,n){t.cmds.push("M"),t.crds.push(r,n)},r=function(t,r,n){t.cmds.push("L"),t.crds.push(r,n)},n=function(t,r,n,i,s,a,o){t.cmds.push("C"),t.crds.push(r,n,i,s,a,o)},i=function(t,r,n,i,s){t.cmds.push("Q"),t.crds.push(r,n,i,s)},s=function(t){t.cmds.push("Z")};function a(t,r,n){for(var i=0,s=~~(t.length/r);i+1!=s;){var a=i+(s-i>>>1);t[a*r]<=n?i=a:s=a}return i*r}for(var o,l,u=[9,10,11,12,13,32,133,160,5760,6158,8232,8233,8239,8288,12288,65279],h={},c=0;c<u.length;c++)h[u[c]]=1;for(c=8192;c<=8205;c++)h[c]=1;function d(t,r){if(null==t._ctab){for(var n=t.cmap,i=-1,s=["p3e10","p0e4","p3e1","p1e0","p0e3","p0e1","p3e0","p3e5"],o=0;o<s.length;o++)if(null!=n.ids[s[o]]){i=n.ids[s[o]];break}if(-1==i)throw"no familiar platform and encoding!";t._ctab=n.tables[i]}var l=t._ctab,u=l.format,c=-1;if(0==u)c=r>=l.map.length?0:l.map[r];else if(4==u){var d=l.endCount;if(c=0,r<=d[d.length-1]){var p=a(d,1,r);d[p]<r&&p++,r>=l.startCount[p]&&(c=65535&(0!=l.idRangeOffset[p]?l.glyphIdArray[r-l.startCount[p]+(l.idRangeOffset[p]>>1)-(l.idRangeOffset.length-p)]:r+l.idDelta[p]))}}else if(6==u){var f=r-l.firstCode,m=l.glyphIdArray;c=f<0||f>=m.length?0:m[f]}else{if(12!=u)throw"unknown cmap table format "+l.format;var g=l.groups;c=0,r<=g[g.length-2]&&g[o=a(g,3,r)]<=r&&r<=g[o+1]&&(c=g[o+2]+(r-g[o]))}var y=t["SVG "],v=t.loca;return 0!=c&&null==t["CFF "]&&(null==y||null==y.entries[c])&&v&&v[c]==v[c+1]&&null==h[r]&&(c=0),c}function p(a,o,l,u){var h={cmds:[],crds:[]};a.fvar&&(null==u&&(u=a.fvar[1][a._index][2]),u=m(a,u));var c=a["SVG "],d=a["CFF "],g=a.COLR,y=a.CBLC,v=a.CBDT,x=a.sbix,b=window.UPNG,w=null;if(y&&b)for(var _=0;_<y.length;_++)y[_][0]<=o&&o<=y[_][1]&&(w=y[_]);if(w||x&&x[o]){if(w&&17!=w[2])throw"not a PNG";null==a.__tmp&&(a.__tmp={});var C=a.__tmp["g"+o];if(null==C){if(x)E=(S=x[o]).length;else{var S,E,D=w[3][o-w[0]]+5;E=v[D+1]<<16|v[D+2]<<8|v[D+3],D+=4,S=new Uint8Array(v.buffer,v.byteOffset+D,E)}var A="";for(_=0;_<E;_++)A+=String.fromCharCode(S[_]);C=a.__tmp["g"+o]="data:image/png;base64,"+btoa(A)}h.cmds.push(C);var k=1.15*a.head.unitsPerEm,T=Math.round(k),F=Math.round(k),M=Math.round(-(.15*F));h.crds.push(0,F+M,T,F+M,T,M,0,M)}else if(c&&c.entries[o]){var I=c.entries[o];if(null!=I){if("number"==typeof I){var B=c.svgs[I];if("string"==typeof B){var P=(new DOMParser).parseFromString(B,"image/svg+xml");B=c.svgs[I]=P.getElementsByTagName("svg")[0]}I=oh.U.SVG.toPath(B,o),c.entries[o]=I}h=I}}else if(1!=l&&g&&g[0]["g"+o]&&g[0]["g"+o][1]>1){function L(t){var r=t.toString(16);return(1==r.length?"0":"")+r}var N=a.CPAL,O=g[0]["g"+o];for(_=0;_<O[1];_++){var R=O[0]+_,V=g[1][2*R],z=4*g[1][2*R+1],U=p(a,V,V==o),j="#"+L(N[z+2])+L(N[z+1])+L(N[z+0]);h.cmds.push(j),h.cmds=h.cmds.concat(U.cmds),h.crds=h.crds.concat(U.crds),h.cmds.push("X")}}else if(d){var G=d.Private,$={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:G?G.defaultWidthX:0,open:!1};if(d.ROS){for(var H=0;d.FDSelect[H+2]<=o;)H+=2;G=d.FDArray[d.FDSelect[H+1]].Private}!function i(a,o,l,u,h){for(var c=o.stack,d=o.nStems,p=o.haveWidth,f=o.width,m=o.open,g=0,y=o.x,v=o.y,x=0,b=0,w=0,_=0,C=0,S=0,E=0,D=0,A=0,k=0,T=oh.T.CFF,F=u.nominalWidthX,M={val:0,size:0};g<a.length;){T.getCharString(a,g,M);var I=M.val;if(g+=M.size,"o1"==I||"o18"==I)c.length%2==0||p||(f=c.shift()+F),d+=c.length>>1,c.length=0,p=!0;else if("o3"==I||"o23"==I)c.length%2==0||p||(f=c.shift()+F),d+=c.length>>1,c.length=0,p=!0;else if("o4"==I)c.length>1&&!p&&(f=c.shift()+F,p=!0),m&&s(h),t(h,y,v+=c.pop()),m=!0;else if("o5"==I)for(;c.length>0;)r(h,y+=c.shift(),v+=c.shift());else if("o6"==I||"o7"==I)for(var B=c.length,P="o6"==I,L=0;L<B;L++){var N=c.shift();P?y+=N:v+=N,P=!P,r(h,y,v)}else if("o8"==I||"o24"==I){B=c.length;for(var O=0;O+6<=B;)x=y+c.shift(),b=v+c.shift(),w=x+c.shift(),_=b+c.shift(),y=w+c.shift(),v=_+c.shift(),n(h,x,b,w,_,y,v),O+=6;"o24"==I&&r(h,y+=c.shift(),v+=c.shift())}else{if("o11"==I)break;if("o1234"==I||"o1235"==I||"o1236"==I||"o1237"==I)"o1234"==I&&(b=v,w=(x=y+c.shift())+c.shift(),k=_=b+c.shift(),S=_,D=v,y=(E=(C=(A=w+c.shift())+c.shift())+c.shift())+c.shift(),n(h,x,b,w,_,A,k),n(h,C,S,E,D,y,v)),"o1235"==I&&(x=y+c.shift(),b=v+c.shift(),w=x+c.shift(),_=b+c.shift(),A=w+c.shift(),k=_+c.shift(),C=A+c.shift(),S=k+c.shift(),E=C+c.shift(),D=S+c.shift(),y=E+c.shift(),v=D+c.shift(),c.shift(),n(h,x,b,w,_,A,k),n(h,C,S,E,D,y,v)),"o1236"==I&&(x=y+c.shift(),b=v+c.shift(),w=x+c.shift(),k=_=b+c.shift(),S=_,E=(C=(A=w+c.shift())+c.shift())+c.shift(),D=S+c.shift(),y=E+c.shift(),n(h,x,b,w,_,A,k),n(h,C,S,E,D,y,v)),"o1237"==I&&(x=y+c.shift(),b=v+c.shift(),w=x+c.shift(),_=b+c.shift(),A=w+c.shift(),k=_+c.shift(),C=A+c.shift(),S=k+c.shift(),Math.abs((E=C+c.shift())-y)>Math.abs((D=S+c.shift())-v)?y=E+c.shift():v=D+c.shift(),n(h,x,b,w,_,A,k),n(h,C,S,E,D,y,v));else if("o14"==I){if(c.length>0&&4!=c.length&&!p&&(f=c.shift()+l.nominalWidthX,p=!0),4==c.length){var R=c.shift(),V=c.shift(),z=c.shift(),U=c.shift(),j=T.glyphBySE(l,z),G=T.glyphBySE(l,U);i(l.CharStrings[j],o,l,u,h),o.x=R,o.y=V,i(l.CharStrings[G],o,l,u,h)}m&&(s(h),m=!1)}else if("o19"==I||"o20"==I)c.length%2==0||p||(f=c.shift()+F),d+=c.length>>1,c.length=0,p=!0,g+=d+7>>3;else if("o21"==I)c.length>2&&!p&&(f=c.shift()+F,p=!0),v+=c.pop(),y+=c.pop(),m&&s(h),t(h,y,v),m=!0;else if("o22"==I)c.length>1&&!p&&(f=c.shift()+F,p=!0),y+=c.pop(),m&&s(h),t(h,y,v),m=!0;else if("o25"==I){for(;c.length>6;)r(h,y+=c.shift(),v+=c.shift());x=y+c.shift(),b=v+c.shift(),w=x+c.shift(),_=b+c.shift(),y=w+c.shift(),v=_+c.shift(),n(h,x,b,w,_,y,v)}else if("o26"==I)for(c.length%2&&(y+=c.shift());c.length>0;)x=y,b=v+c.shift(),y=w=x+c.shift(),v=(_=b+c.shift())+c.shift(),n(h,x,b,w,_,y,v);else if("o27"==I)for(c.length%2&&(v+=c.shift());c.length>0;)b=v,w=(x=y+c.shift())+c.shift(),_=b+c.shift(),y=w+c.shift(),n(h,x,b,w,_,y,v=_);else if("o10"==I||"o29"==I){var $="o10"==I?u:l;if(0==c.length)console.log("error: empty stack");else{var H=c.pop(),W=$.Subrs[H+$.Bias];o.x=y,o.y=v,o.nStems=d,o.haveWidth=p,o.width=f,o.open=m,i(W,o,l,u,h),y=o.x,v=o.y,d=o.nStems,p=o.haveWidth,f=o.width,m=o.open}}else if("o30"==I||"o31"==I){var q=c.length,Y=(O=0,"o31"==I);for(O+=q-(B=-3&q);O<B;)Y?(b=v,w=(x=y+c.shift())+c.shift(),v=(_=b+c.shift())+c.shift(),B-O==5?(y=w+c.shift(),O++):y=w,Y=!1):(x=y,b=v+c.shift(),w=x+c.shift(),_=b+c.shift(),y=w+c.shift(),B-O==5?(v=_+c.shift(),O++):v=_,Y=!0),n(h,x,b,w,_,y,v),O+=4}else{if("o"==(I+"").charAt(0))throw console.log("Unknown operation: "+I,a),I;c.push(I)}}}o.x=y,o.y=v,o.nStems=d,o.haveWidth=p,o.width=f,o.open=m}(d.CharStrings[o],$,d,G,h)}else a.glyf&&function n(a,o,l,u){var h=o.glyf[a];null==h&&(h=o.glyf[a]=oh.T.glyf._parseGlyf(o,a)),null!=h&&(h.noc>-1?function(n,a,o,l,u){var h=n.xs,c=n.ys;if(a.fvar&&u){h=h.slice(0),c=c.slice(0);for(var d=a.gvar,p=d?d[o]:null,m=0;m<p.length;m++){var g=f(p[m][0],u);if(!(g<1e-9)){var y=p[m][1],v=p[m][2];if(v&&(y=p[m][1]=function(t,r,n,i,s){var a=n.length,o=Array(2*a+8);o.fill(0);for(var l=0;l<a;l++){var u=0,h=0,c=r.indexOf(l);if(-1!=c)u=t[c],h=t[r.length+c];else{for(var d,p=0;s[p]<l;)p++;for(var f=0==p?0:s[p-1]+1,m=s[p],g=-1,y=-1,v=0;v<r.length;v++)(d=r[v])<f||d>m||d>=a||(g=v,-1==y&&(y=v));for(v=0;v<r.length;v++)if(!((d=r[v])<f||d>m||d>=a)&&(d<l&&(g=v),l<d)){y=v;break}for(var x=0;x<2;x++){var b=0==x?n:i,w=x*r.length,_=0,C=b[r[g]],S=b[r[y]],E=b[l],D=t[w+g],A=t[w+y];if(C==S)_=D==A?D:0;else if(E<=Math.min(C,S))_=C<S?D:A;else if(Math.max(C,S)<=E)_=C<S?A:D;else{var k=(E-C)/(S-C);_=k*A+(1-k)*D}0==x?u=_:h=_}}o[l]=u,o[a+4+l]=h}return o}(y,v,h,c,n.endPts),p[m][2]=null),y.length==2*h.length+8)for(var x=0;x<h.length;x++)h[x]+=g*y[x],c[x]+=g*y[x+h.length+4]}}}for(var b=0;b<n.noc;b++){var w=0==b?0:n.endPts[b-1]+1,_=n.endPts[b];for(x=w;x<=_;x++){var C=x==w?_:x-1,S=x==_?w:x+1,E=1&n.flags[x],D=1&n.flags[C],A=1&n.flags[S],k=h[x],T=c[x];if(x==w)if(E){if(!D){t(l,k,T);continue}t(l,h[C],c[C])}else D?t(l,h[C],c[C]):t(l,Math.floor(.5*(h[C]+k)),Math.floor(.5*(c[C]+T)));E?D&&r(l,k,T):A?i(l,k,T,h[S],c[S]):i(l,k,T,Math.floor(.5*(k+h[S])),Math.floor(.5*(T+c[S])))}s(l)}}(h,o,a,l,u):function(t,r,i,s,a){var o=[0,0,0,0,0,0],l=[0,0,0,0,0,0],u=t.parts.length;if(r.fvar&&a)for(var h=r.gvar,c=h?h[i]:null,d=0;d<c.length;d++){var p=f(c[d][0],a);if(!(p<1e-6)){var m=c[d][1],g=c[d][2];if(null==g)for(var y=0;y<u;y++)o[y]+=p*m[y],l[y]+=p*m[y+u+4];else for(var v=0;v<g.length;v++)o[y=g[v]]+=p*m[0],l[y]+=p*m[0+u]}}for(v=0;v<u;v++){var x={cmds:[],crds:[]},b=t.parts[v];n(b.glyphIndex,r,x,a);var w=b.m,_=w.tx+o[v],C=w.ty+l[v];for(y=0;y<x.crds.length;y+=2){var S=x.crds[y],E=x.crds[y+1];s.crds.push(S*w.a+E*w.c+_),s.crds.push(S*w.b+E*w.d+C)}for(y=0;y<x.cmds.length;y++)s.cmds.push(x.cmds[y])}}(h,o,a,l,u))}(o,a,h,u);return{cmds:h.cmds,crds:h.crds}}function f(t,r){for(var n=1,i=t[0],s=t[1],a=t[2],o=0;o<r.length;o++)n*=i[o]>s[o]||s[o]>a[o]||i[o]<0&&a[o]>0&&0!=s[o]||0==s[o]?1:r[o]<i[o]||r[o]>a[o]?0:r[o]==s[o]?1:r[o]<s[o]?(r[o]-i[o])/(s[o]-i[o]):(a[o]-r[o])/(a[o]-s[o]);return n}function m(t,r){for(var n=t.fvar,i=t.avar,s=n?n[0]:null,a=[],o=0;o<s.length;o++){var l=s[o][1],u=s[o][2],h=s[o][3],c=Math.max(l,Math.min(h,r[o]));if(a[o]=c<u?(u-c)/(l-u):c>u?(c-u)/(h-u):0,i&&-1!=a[o]){for(var d=i[o],p=0;p<d.length&&!(d[p]>=a[o]);p+=2);var f=(a[o]-d[p-2])/(d[p]-d[p-2]);a[o]=f*d[p+1]+(1-f)*d[p-1]}}return a}return{shape:function(t,r,n){null==n&&(n={});var i=n.axs;t.fvar&&null==i&&(i=t.fvar[1][t._index][2]);var s=t.HVAR;i&&s&&(i=m(t,i));for(var a=[],o=0;o<r.length;o++){var l=r.codePointAt(o);l>65535&&o++,a.push(d(t,l))}var u=[];for(o=0;o<a.length;o++){var h=function(t,r,n){var i=r[n],s=r[n+1],a=t.kern;if(a){var o=a.glyph1.indexOf(i);if(-1!=o){var l=a.rval[o].glyph2.indexOf(s);if(-1!=l)return[0,0,a.rval[o].vals[l],0]}}return[0,0,0,0]}(t,a,o),c=a[o],p=t.hmtx.aWidth[c]+h[2];if(s&&s[1][c])for(var g=s[1][c],y=0;y<s[0].length;y++)p+=f(s[0][y],i)*g[y];u.push({g:c,cl:o,dx:0,dy:0,ax:p,ay:0})}return u},shapeToPath:function(t,r,n){var i,s,a=[],o=[],l=0,u=0;n&&(i=n.clr,s=n.axs);for(var h=0;h<r.length;h++){for(var c=r[h],d=p(t,c.g,!1,s),f=d.crds,m=0;m<f.length;m+=2)o.push(f[m]+l+c.dx),o.push(f[m+1]+u+c.dy);for(i&&a.push(i),m=0;m<d.cmds.length;m++)a.push(d.cmds[m]);var g=a.length;i&&0!=g&&"X"!=a[g-1]&&a.push("X"),l+=c.ax,u+=c.ay}return{cmds:a,crds:o}},codeToGlyph:d,glyphToPath:p,pathToSVG:function(t,r){var n=t.cmds,i=t.crds;function s(t){return parseFloat(t.toFixed(r))}null==r&&(r=5);for(var a=[],o=0,l={M:2,L:2,Q:4,C:6},u=0,h=0,c=0,d=0,p=0,f=0,m=0;m<n.length;m++){var g,y,v,x,b=n[m],w=l[b]?l[b]:0,_=[];if("L"==b)g=i[o]-u,y=i[o+1]-h,v=s(g+c),x=s(y+d),"Z"==n[m+1]&&i[o]==p&&i[o+1]==f?(v=g,x=y):0==v&&0==x||(0==v?_.push("v",x):0==x?_.push("h",v):_.push("l",v,x));else{_.push(b.toLowerCase());for(var C=0;C<w;C+=2)g=i[o+C]-u,y=i[o+C+1]-h,v=s(g+c),x=s(y+d),_.push(v,x)}for(0!=w&&(c+=g-v,d+=y-x),C=0;C<_.length;C++)a.push(_[C]);0!=w&&(u=i[(o+=w)-2],h=i[o-1]),"M"==b&&(p=u,f=h),"Z"==b&&(u=p,h=f)}return function(t){for(var r=[],n=!1,i="",s=0;s<t.length;s++){var a=t[s],o="number"==typeof a;if(!o){if(a==i&&1==a.length&&"m"!=a)continue;i=a}n&&o&&a>=0&&r.push(" "),r.push(a),n=o}return r.join("")}(a)},SVGToPath:function(t){var r={cmds:[],crds:[]};return oh.U.SVG.svgToPath(t,r),{cmds:r.cmds,crds:r.crds}},pathToContext:function(t,r){for(var n=0,i=t.cmds,s=t.crds,a=0;a<i.length;a++){var u=i[a];if("M"==u)r.moveTo(s[n],s[n+1]),n+=2;else if("L"==u)r.lineTo(s[n],s[n+1]),n+=2;else if("C"==u)r.bezierCurveTo(s[n],s[n+1],s[n+2],s[n+3],s[n+4],s[n+5]),n+=6;else if("Q"==u)r.quadraticCurveTo(s[n],s[n+1],s[n+2],s[n+3]),n+=4;else if("d"==u[0]){var h=window.UPNG,c=s[n],d=s[n+1],p=s[n+2],f=s[n+3],m=s[n+4],g=s[n+5],y=s[n+6],v=s[n+7];if(n+=8,null==h){r.moveTo(c,d),r.lineTo(p,f),r.lineTo(m,g),r.lineTo(y,v),r.closePath();continue}for(var x=p-c,b=f-d,w=y-c,_=v-d,C=atob(u.slice(22)),S=new Uint8Array(C.length),E=0;E<C.length;E++)S[E]=C.charCodeAt(E);for(var D=h.decode(S.buffer),A=D.width,k=D.height,T=new Uint8Array(h.toRGBA8(D)[0]),F=r.getTransform(),M=Math.sqrt(Math.abs(F.a*F.d-F.b*F.c))*Math.sqrt(w*w+_*_)/k;M<.5;){var I=function(t,r,n){for(var i=r>>1,s=n>>1,a=new Uint8Array(i*s*4),o=new Uint32Array(t.buffer),l=new Uint32Array(a.buffer),u=0;u<s;u++)for(var h=0;h<i;h++){var c=u*i+h,d=(u<<1)*r+(h<<1),p=o[d],f=o[d+1],m=o[d+r],g=o[d+r+1],y=p>>>24,v=f>>>24,x=m>>>24,b=g>>>24,w=y+v+x+b;if(1020==w){var _=(p>>>0&255)+(f>>>0&255)+(m>>>0&255)+(g>>>0&255)+2>>>2,C=(p>>>8&255)+(f>>>8&255)+(m>>>8&255)+(g>>>8&255)+2>>>2,S=(p>>>16&255)+(f>>>16&255)+(m>>>16&255)+(g>>>16&255)+2>>>2;l[c]=-0x1000000|S<<16|C<<8|_}else if(0==w)l[c]=0;else{var E=1/w;_=~~((_=(p>>>0&255)*y+(f>>>0&255)*v+(m>>>0&255)*x+(g>>>0&255)*b)*E+.5),C=~~((C=(p>>>8&255)*y+(f>>>8&255)*v+(m>>>8&255)*x+(g>>>8&255)*b)*E+.5),S=~~((S=(p>>>16&255)*y+(f>>>16&255)*v+(m>>>16&255)*x+(g>>>16&255)*b)*E+.5),l[c]=w+2>>>2<<24|S<<16|C<<8|_}}return{buff:a,w:i,h:s}}(T,A,k);T=I.buff,A=I.w,k=I.h,M*=2}null==o&&(l=(o=document.createElement("canvas")).getContext("2d")),o.width==A&&o.height==k||(o.width=A,o.height=k),l.putImageData(new ImageData(new Uint8ClampedArray(T.buffer),A,k),0,0),r.save(),r.transform(x,b,w,_,c,d),r.scale(1/A,1/k),r.drawImage(o,0,0),r.restore()}else if("#"==u.charAt(0)||"r"==u.charAt(0))r.beginPath(),r.fillStyle=u;else if("O"==u.charAt(0)&&"OX"!=u){r.beginPath();var B=u.split("-");r.lineWidth=parseFloat(B[2]),r.lineCap=["butt","round","square"][parseFloat(B[3])],r.lineJoin=["miter","round","bevel"][parseFloat(B[4])],r.miterLimit=parseFloat(B[5]),r.lineDashOffset=parseFloat(B[6]),r.setLineDash(B[7].split(",").map(parseFloat)),r.strokeStyle=B[1]}else"Z"==u?r.closePath():"X"==u?r.fill():"OX"==u&&r.stroke()}},initHB:function(t,r){var n=function(t){var r=0;return 0xffffff80&t?0xfffff800&t?0xffff0000&t?0xffe00000&t||(r=4):r=3:r=2:r=1,r};fetch(t).then(function(t){return t.arrayBuffer()}).then(function(t){return WebAssembly.instantiate(t)}).then(function(t){console.log("HB ready");var i,s,a,o,l,u,h,c,d,p,f=t.instance.exports,m=f.memory;oh.U.shapeHB=function(t,r,g){var y=t._data,v=t.name.postScriptName,x=g.ltr,b=g.fts,w=g.axs;if(t.fvar&&null==w&&(w=t.fvar[1][t._index][2]),i=new Uint8Array(m.buffer),s=new Uint32Array(m.buffer),a=new Int32Array(m.buffer),o=new Float32Array(m.buffer),l!=v&&(null!=u&&(f.hb_blob_destroy(u),f.free(h),f.hb_face_destroy(c),f.hb_font_destroy(d)),h=f.malloc(y.byteLength),i.set(y,h),u=f.hb_blob_create(h,y.byteLength,2,0,0),c=f.hb_face_create(u,t._index),d=f.hb_font_create(c),l=v),null!=window.TextEncoder){null==p&&(p=new window.TextEncoder("utf8"));var _=f.hb_buffer_create(),C=p.encode(r),S=C.length,E=f.malloc(S);i.set(C,E),f.hb_buffer_add_utf8(_,E,S,0,S),f.free(E);var D=oh.B,A=0;if(b){A=f.malloc(16*b.length);for(var k=0;k<b.length;k++){var T=b[k],F=(I=A+16*k)>>>2;D.writeASCII(i,I,T[0].split("").reverse().join("")),s[F+1]=T[1],s[F+2]=T[2],s[F+3]=T[3]}}var M=0;if(w&&t.fvar){var I,B=t.fvar[0];for(M=f.malloc(8*w.length),k=0;k<w.length;k++)F=(I=M+8*k)>>>2,D.writeASCII(i,I,B[k][0].split("").reverse().join("")),o[F+1]=w[k]}w&&f.hb_font_set_variations(d,M,w.length),f.hb_buffer_set_direction(_,x?4:5),f.hb_buffer_guess_segment_properties(_),f.hb_shape(d,_,A,b?b.length:0);var P=function(t){for(var r=f.hb_buffer_get_length(t),n=[],i=f.hb_buffer_get_glyph_infos(t,0)>>>2,o=f.hb_buffer_get_glyph_positions(t,0)>>>2,l=0;l<r;++l){var u=i+5*l,h=o+5*l;n.push({g:s[u+0],cl:s[u+2],ax:a[h+0],ay:a[h+1],dx:a[h+2],dy:a[h+3]})}return n}(_);f.hb_buffer_destroy(_),b&&f.free(A),w&&f.free(M);var L=P.slice(0);x||L.reverse();var N=0,O=0;for(k=1;k<L.length;k++){for(var R=L[k],V=R.cl;;){var z=r.codePointAt(N),U=n(z);if(!(O+U<=V))break;O+=U,N+=z<=65535?1:2}R.cl=N}return P}alert("Your browser is too old. Please, update it.")},r()})}}}();var oc={exports:{}};self,ul={177:(t,r,n)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BezierPath=void 0;let i=n(558),s=n(188);r.BezierPath=class{constructor(t){this.samples=[],this.segments=t;let r=t.map(t=>t.getTotalLength()),n=[0];for(let t=1;t<r.length;t++)n.push(n[t-1]+r[t-1]);this._totalLength=n[n.length-1]+r[r.length-1];let a=t.map(t=>Math.max(4,Math.ceil(t.getTotalLength()/i.BezierSegment.sampleSpacing()))),o=a.reduce((t,r)=>t+r),l=1/o/10,u=this._totalLength/o;this.samples.push({dist:0,pt:this.segments[0].A,tan:this.segments[0].tangentAtParameter(0),segIdx:0,t:0}),t.forEach((t,r)=>{let i,o=a[r],h=(0,s.times)(o+1).map(t=>t/o),c=h.map(r=>t.pointAtParameter(r));for(let r=0;r<4;r++){let r=(i=(0,s.times)(o).map(t=>Math.hypot(c[t+1].x-c[t].x,c[t+1].y-c[t].y))).map(t=>t-u),n=0;for(let i=1;i<h.length-1;i++)n+=r[i-1],h[i]-=l*n,c[i]=t.pointAtParameter(h[i])}let d=0;c.slice(1).forEach((t,s)=>{d+=i[s],this.samples.push({dist:n[r]+d,pt:t,tan:this.segments[r].tangentAtParameter(h[s+1]),segIdx:r,t:h[s+1]})})}),this._jumps=[],this.segmentStartEnds=[{start:0,end:0}];for(let t=1;t<this.samples.length;t++){let r=this.samples[t-1],n=this.samples[t];if(n.segIdx===r.segIdx?this.segmentStartEnds[this.segmentStartEnds.length-1].end=n.dist:this.segmentStartEnds[n.segIdx]={start:n.dist,end:n.dist},r.segIdx!==n.segIdx&&(this.segments[r.segIdx].D.x!==this.segments[n.segIdx].A.x||this.segments[r.segIdx].D.y!==this.segments[n.segIdx].A.y)){let i=(r.dist+n.dist)/2,s={dist:i-1e-8,pt:this.segments[r.segIdx].D,tan:this.segments[r.segIdx].tangentAtParameter(1),segIdx:r.segIdx,t:1},a={dist:i+1e-8,pt:this.segments[n.segIdx].A,tan:this.segments[n.segIdx].tangentAtParameter(0),segIdx:n.segIdx,t:0};this._jumps.push(i),this.samples.splice(t,0,s,a),t+=2}}}jumps(){return[...this._jumps]}getTotalLength(){return this._totalLength}findClosestSampleIdx(t){let r=0,n=this.samples.length-1;for(;r<n;){let i=Math.floor((r+n)/2);if(this.samples[i].dist>t)n=i-1;else{if(!(this.samples[i].dist<t))return i;r=i+1}}return Math.max(0,Math.min(this.samples.length-1,Math.floor((r+n)/2)))}getPointAtLength(t,r=!1){if(t<=0)return this.samples[0].pt;if(t>=this._totalLength)return this.samples[this.samples.length-1].pt;let n=this.findClosestSampleIdx(t),i=this.samples[n].dist<t?Math.min(n+1,this.samples.length-1):Math.max(0,n-1),s=1e-6>Math.abs(this.samples[i].dist-this.samples[n].dist)?0:(t-this.samples[n].dist)/(this.samples[i].dist-this.samples[n].dist);if(r||this.samples[n].segIdx>this.samples[i].segIdx)return{x:(1-s)*this.samples[n].pt.x+s*this.samples[i].pt.x,y:(1-s)*this.samples[n].pt.y+s*this.samples[i].pt.y};if(this.samples[n].segIdx!==this.samples[i].segIdx){if(s<.5){let t=this.segments[this.samples[n].segIdx],r=2*s,i=(1-r)*this.samples[n].t+r;return t.pointAtParameter(i)}{let t=this.segments[this.samples[i].segIdx],r=2*(s-.5)*this.samples[i].t;return t.pointAtParameter(r)}}{let t=this.segments[this.samples[n].segIdx],r=(1-s)*this.samples[n].t+s*this.samples[i].t;return t.pointAtParameter(r)}}getAngleAtLength(t,r=!1){let n=this.getTangentAtLength(t,r);return Math.atan2(n.y,n.x)}getTangentAtLength(t,r=!1){if(t<=0)return this.samples[0].tan;if(t>=this._totalLength)return this.samples[this.samples.length-1].tan;let n=this.findClosestSampleIdx(t),i=this.samples[n].dist<t?Math.min(n+1,this.samples.length-1):Math.max(0,n-1),s=(t-this.samples[n].dist)/(this.samples[i].dist-this.samples[n].dist);if(r||this.samples[n].segIdx>this.samples[i].segIdx){let t=(1-s)*this.samples[n].tan.x+s*this.samples[i].tan.x,r=(1-s)*this.samples[n].tan.y+s*this.samples[i].tan.y,a=Math.max(Math.hypot(t,r),1e-4);return{x:t/=a,y:r/=a}}if(this.samples[n].segIdx!==this.samples[i].segIdx){if(s<.5){let t=this.segments[this.samples[n].segIdx],r=2*s,i=(1-r)*this.samples[n].t+r;return t.tangentAtParameter(i)}{let t=this.segments[this.samples[i].segIdx],r=2*(s-.5)*this.samples[i].t;return t.tangentAtParameter(r)}}{let t=this.segments[this.samples[n].segIdx],r=(1-s)*this.samples[n].t+s*this.samples[i].t;return t.tangentAtParameter(r)}}}},558:(t,r,n)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BezierSegment=void 0;let i=n(188);class s{constructor(t,r,n,i){this._totalLength=void 0,this.A=t,this.B=r,this.C=n,this.D=i}static sampleSpacing(){return 2}tangentAtParameter(t){let r=Math.max(0,Math.min(1,t));if(0===r||1===r){let t,n;0===r?this.A.x===this.B.x&&this.A.y===this.B.y?(t=this.C.x-this.A.x,n=this.C.y-this.A.y):(t=this.B.x-this.A.x,n=this.B.y-this.A.y):this.D.x===this.C.x&&this.D.y===this.C.y?(t=this.D.x-this.B.x,n=this.D.y-this.B.y):(t=this.D.x-this.C.x,n=this.D.y-this.C.y);let i=Math.hypot(t,n);return Math.abs(i)>1e-4&&(t/=i,n/=i),{x:t,y:n}}let n=1-r,i=3*this.D.x*Math.pow(r,2)-3*this.C.x*Math.pow(r,2)+6*this.C.x*n*r-6*this.B.x*n*r+3*this.B.x*Math.pow(n,2)-3*this.A.x*Math.pow(n,2),s=3*this.D.y*Math.pow(r,2)-3*this.C.y*Math.pow(r,2)+6*this.C.y*n*r-6*this.B.y*n*r+3*this.B.y*Math.pow(n,2)-3*this.A.y*Math.pow(n,2),a=Math.hypot(i,s);return Math.abs(a)>1e-4&&(i/=a,s/=a),{x:i,y:s}}isLinear(){return this.A.x===this.B.x&&this.A.y===this.B.y&&this.C.x===this.D.x&&this.C.y===this.D.y}pointAtParameter(t){let r=Math.max(0,Math.min(1,t));return{x:Math.pow(1-r,3)*this.A.x+3*Math.pow(1-r,2)*r*this.B.x+3*(1-r)*Math.pow(r,2)*this.C.x+Math.pow(r,3)*this.D.x,y:Math.pow(1-r,3)*this.A.y+3*Math.pow(1-r,2)*r*this.B.y+3*(1-r)*Math.pow(r,2)*this.C.y+Math.pow(r,3)*this.D.y}}getTotalLength(){if(void 0===this._totalLength)if(this.isLinear())this._totalLength=Math.hypot(this.D.x-this.A.x,this.D.y-this.A.y);else{let t=Math.max(10,Math.ceil((Math.hypot(this.B.x-this.A.x,this.B.y-this.A.y)+Math.hypot(this.C.x-this.B.x,this.C.y-this.B.y)+Math.hypot(this.D.x-this.C.x,this.D.y-this.C.y))/s.sampleSpacing())),r=(0,i.times)(t).map(r=>this.pointAtParameter(r/(t-1))),n=0;for(let t=1;t<r.length;t++)n+=Math.hypot(r[t].x-r[t-1].x,r[t].y-r[t-1].y);this._totalLength=n}return this._totalLength}}r.BezierSegment=s},729:(t,r,n)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createFromCommands=r.create=r.createFromElement=r.createFromCircle=r.createFromLine=r.createFromPath=void 0;let i=n(821),s=n(558),a={M:["x","y"],m:["dx","dy"],H:["x"],h:["dx"],V:["y"],v:["dy"],L:["x","y"],l:["dx","dy"],Z:[],C:["x1","y1","x2","y2","x","y"],c:["dx1","dy1","dx2","dy2","dx","dy"],S:["x2","y2","x","y"],s:["dx2","dy2","dx","dy"],Q:["x1","y1","x","y"],q:["dx1","dy1","dx","dy"],T:["x","y"],t:["dx","dy"],A:["rx","ry","rotation","large-arc","sweep","x","y"],a:["rx","ry","rotation","large-arc","sweep","dx","dy"]};r.createFromPath=t=>{let r=function(t){let r=t.replace(/[\n\r]/g,"").replace(/-/g," -").replace(/(\d*\.)(\d+)(?=\.)/g,"$1$2 ").replace(/(\d)([A-Za-z])/g,"$1 $2").replace(/([A-Za-z])(\d)/g,"$1 $2").trim().split(/\s*,|\s+/),n=[],i="",s={};for(;r.length>0;){let t=r.shift();a.hasOwnProperty(t)?i=t:r.unshift(t),s={type:i},a[i].forEach(n=>{t=r.shift(),s[n]=parseFloat(t)}),"M"===i?i="L":"m"===i&&(i="l"),n.push(s)}return n}(t.getAttribute("d"));if(r.length<2)throw Error(`Path doesn't have enough commands: ${JSON.stringify(r)}`);if("M"!==r[0].type)throw Error(`Path starts with ${r[0].type} instead of M!`);let n={x:r[0].x,y:r[0].y};r.shift();let o=[];for(;r.length>0;){let t=r.shift();if("C"===t.type)o.push(new s.BezierSegment(n,{x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:t.x,y:t.y})),n={x:t.x,y:t.y};else if("L"===t.type)o.push(new s.BezierSegment(n,n,{x:t.x,y:t.y},{x:t.x,y:t.y})),n={x:t.x,y:t.y};else if("H"===t.type)o.push(new s.BezierSegment(n,n,{x:t.x,y:n.y},{x:t.x,y:n.y})),n={x:t.x,y:n.y};else if("V"===t.type)o.push(new s.BezierSegment(n,n,{x:n.x,y:t.y},{x:n.x,y:t.y})),n={x:n.x,y:t.y};else if("Z"!==t.type)throw Error(`Unsupported path command ${t.type}; use only H, V, M, L, C, Z!`)}return new i.BezierPath(o)},r.createFromLine=t=>{let[r,n,a,o]=["x1","x2","y1","y2"].map(r=>parseFloat(t.getAttribute(r)||"0"));return new i.BezierPath([new s.BezierSegment({x:r,y:a},{x:r,y:a},{x:n,y:o},{x:n,y:o})])},r.createFromCircle=t=>{let[r,n,a]=["cx","cy","r"].map(r=>parseFloat(t.getAttribute(r)||"0"));return new i.BezierPath([new s.BezierSegment({x:r-a,y:n},{x:r-a,y:n-1.3*a},{x:r+a,y:n-1.3*a},{x:r+a,y:n}),new s.BezierSegment({x:r+a,y:n},{x:r+a,y:n+1.3*a},{x:r-a,y:n+1.3*a},{x:r-a,y:n})])},r.createFromElement=t=>{let n=t.tagName.toLowerCase();if("path"===n)return(0,r.createFromPath)(t);if("line"===n)return(0,r.createFromLine)(t);if("circle"===n)return(0,r.createFromCircle)(t);throw Error(`Unsupported SVG tag: ${n}`)},r.create=t=>{let r=[];for(let n=1;n<t.length;n++){let i=t[n-1],a=t[n];r.push(new s.BezierSegment(i.pt,i.right||i.pt,a.left||a.pt,a.pt))}return new i.BezierPath(r)},r.createFromCommands=t=>{let r=t.slice();if(r.length<2)throw Error(`Path doesn't have enough commands: ${JSON.stringify(r)}`);if("M"!==r[0].type)throw Error(`Path starts with ${r[0].type} instead of M!`);let n={x:r[0].x,y:r[0].y},a=Object.assign({},n),o=[];for(;r.length>0;){let t=r.shift();if("M"===t.type)n=a={x:t.x,y:t.y};else if("C"===t.type)o.push(new s.BezierSegment(n,{x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:t.x,y:t.y})),n={x:t.x,y:t.y};else if("L"===t.type)t.x===n.x&&t.y===n.y||o.push(new s.BezierSegment(n,n,{x:t.x,y:t.y},{x:t.x,y:t.y})),n={x:t.x,y:t.y};else if("H"===t.type)t.x!==n.x&&o.push(new s.BezierSegment(n,n,{x:t.x,y:n.y},{x:t.x,y:n.y})),n={x:t.x,y:n.y};else if("V"===t.type)t.y!==n.y&&o.push(new s.BezierSegment(n,n,{x:n.x,y:t.y},{x:n.x,y:t.y})),n={x:n.x,y:t.y};else if("Q"===t.type)o.push(new s.BezierSegment(n,{x:n.x+2/3*(t.x1-n.x),y:n.y+2/3*(t.y1-n.y)},{x:t.x+2/3*(t.x1-t.x),y:t.y+2/3*(t.y1-t.y)},{x:t.x,y:t.y})),n={x:t.x,y:t.y};else{if("Z"!==t.type)throw Error(`Unsupported path command ${t.type}; use only H, V, M, L, C, Z!`);Math.hypot(n.x-a.x,n.y-a.y)>0&&o.push(new s.BezierSegment(n,n,a,a))}}return new i.BezierPath(o)}},821:function(t,r,n){var i=this&&this.__createBinding||(Object.create?function(t,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(t,i,s)}:function(t,r,n,i){void 0===i&&(i=n),t[i]=r[n]}),s=this&&this.__exportStar||function(t,r){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,t,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(177),r),s(n(558),r),s(n(729),r),s(n(856),r)},856:(t,r)=>{Object.defineProperty(r,"__esModule",{value:!0})},188:(t,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.times=void 0,r.times=function(t){let r=[];for(let n=0;n<t;n++)r.push(n);return r}}},uu={},oc.exports=function t(r){var n=uu[r];if(void 0!==n)return n.exports;var i=uu[r]={exports:{}};return ul[r].call(i.exports,i,i.exports,t),i.exports}(821);var od=oc.exports;let op={M:2,L:2,C:6,Q:4},of=["ttf","otf","woff"],om=RegExp(`\\.(${of.join("|")})`,"i"),og=RegExp(`([^/]+)(\\.(?:${of.join("|")}))`,"i"),oy="Sorry, only TTF, OTF and WOFF files are supported.",ov=["weight","stretch","style"];class ox{constructor(t,r,n,i,s){if(!(r instanceof FontFace))throw Error("FontFace is required");this._pInst=t,this.name=n,this.path=i,this.data=s,this.face=r}static hasGlyphData(t){let{font:r}=t;return"object"==typeof r&&void 0!==r.data}fontBounds(t,r,n,i,s,a){({width:i,height:s,options:a}=this._parseArgs(i,s,a));let o=a?.graphics?._renderer||this._pInst._renderer;if(!o)throw Error("p5 or graphics required for fontBounds()");return o.fontBounds(t,r,n,i,s)}textBounds(t,r,n,i,s,a){({width:i,height:s,options:a}=this._parseArgs(i,s,a));let o=a?.graphics?._renderer||this._pInst._renderer;if(!o)throw Error("p5 or graphics required for fontBounds()");return o.textBounds(t,r,n,i,s)}textToPaths(t,r,n,i,s,a){if({width:i,height:s,options:a}=this._parseArgs(i,s,a),!this.data)throw Error('No font data available for "'+this.name+'"\nTry downloading a local copy of the font file');return this._lineateAndPathify(t,r,n,i,s,a).map(t=>t.glyphs).flat().map(t=>t.path.commands).flat()}textToPoints(t,r,n,i,s,a){return this.textToContours(t,r,n,i,s,a).reduce((t,r)=>(t.push(...r),t),[])}textToContours(t,r=0,n=0,i,s,a){({width:i,height:s,options:a}=this._parseArgs(i,s,a));let o=this.textToPaths(t,r,n,i,s,a),l=[];for(let t of o)"M"===t[0]&&l.push([]),l[l.length-1].push(t);return l.map(t=>(function(t,r,n){let i=(t,r)=>{let n=t.length;return t[r<0?r%n+n:r%n]},s=(t,r,n,i)=>{if(!i)return 0===a(t,r,n);void 0===s.tmpPoint1&&(s.tmpPoint1=[],s.tmpPoint2=[]);let o=s.tmpPoint1,l=s.tmpPoint2;return o.x=r.x-t.x,o.y=r.y-t.y,l.x=n.x-r.x,l.y=n.y-r.y,Math.acos((o.x*l.x+o.y*l.y)/(Math.sqrt(o.x*o.x+o.y*o.y)*Math.sqrt(l.x*l.x+l.y*l.y)))<i},a=(t,r,n)=>(r[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(r[1]-t[1]),o=od.createFromCommands(o_(t)),l=((t,r)=>{if("object"!=typeof t)t=r;else for(let n in r)void 0===t[n]&&(t[n]=r[n]);return t})(r,{sampleFactor:.1,simplifyThreshold:0}),u=Math.max(1,Math.ceil(o.getTotalLength()*l.sampleFactor)),h=[],c=n._pInst.angleMode(),d=n._pInst.DEGREES;for(let t=0;t<u;t++){let r=o.getTotalLength()*(1===u?0:t/(u-1));h.push({...o.getPointAtLength(r),get angle(){let t=o.getAngleAtLength(r);return c===d?180*t/Math.PI:t},get alpha(){return this.angle}})}return l.simplifyThreshold&&((t,r)=>{r=r||0;for(let n=t.length-1;t.length>3&&n>=0;--n)s(i(t,n-1),i(t,n),i(t,n+1),r)&&t.splice(n%t.length,1)})(h,l.simplifyThreshold),h})(t,a,this))}textToModel(t,r,n,i,s,a){({width:i,height:s,options:a}=this._parseArgs(i,s,a));let o=a?.extrude||0,l=this.textToContours(t,r,n,i,s,a),u=this._pInst.buildGeometry(()=>{let t=this._pInst._renderer._validateFaces;for(let t of(this._pInst._renderer._validateFaces=!0,this._pInst.beginShape(),l)){for(let r of(this._pInst.beginContour(),t))this._pInst.vertex(r.x,r.y,0);this._pInst.endContour(this._pInst.CLOSE)}this._pInst.endShape(this._pInst.CLOSE),this._pInst._renderer._validateFaces=t});if(0===o)return u;let h={},c=t=>`${t.x.toFixed(6)}-${t.y.toFixed(6)}-${t.z.toFixed(6)}`,d=[],p=[];for(let t of u.vertices){let r=c(t);if(!(r in h)){let n=d.length;h[r]=n,d.push(t.copy())}p.push(h[r])}let f=u.faces.map(t=>t.map(t=>p[t])),m={};for(let t of f)for(let r=0;r<t.length;r++){let n=t[r],i=t[(r+1)%t.length],s=`${Math.min(n,i)}-${Math.max(n,i)}`;m[s]||(m[s]=[]),m[s].push([n,i])}let g=[];for(let t in m)1===m[t].length&&g.push(m[t][0]);let y=this._pInst.buildGeometry(()=>{}),v=.5*o;for(let[t,r]of(y.vertices=[],y.faces=[],y.edges=[],g)){let n=d[t],i=d[r],s=new ne(i.x-n.x,i.y-n.y,i.z-n.z),a=new ne(0,0,o),l=ne.cross(s,a),u=s.mag();if(1e-4>l.mag()||u<1e-4)continue;let h=y.vertices.length;y.vertices.push(new ne(n.x,n.y,n.z+v));let c=y.vertices.length;y.vertices.push(new ne(i.x,i.y,i.z+v));let p=y.vertices.length;y.vertices.push(new ne(n.x,n.y,n.z-v));let f=y.vertices.length;y.vertices.push(new ne(i.x,i.y,i.z-v)),y.faces.push([h,p,f]),y.faces.push([h,f,c]),y.edges.push([h,c]),y.edges.push([p,f]),y.edges.push([h,p]),y.edges.push([c,f])}let x=y.vertices.length;for(let t of d)y.vertices.push(new ne(t.x,t.y,t.z+v));for(let t of f){if(t.length<3)continue;let r=t.map(t=>t+x);y.faces.push(r);for(let t=0;t<r.length;t++){let n=(t+1)%r.length;y.edges.push([r[t],r[n]])}}let b=y.vertices.length;for(let t of d)y.vertices.push(new ne(t.x,t.y,t.z-v));for(let t of f){if(t.length<3)continue;let r=[...t].reverse().map(t=>t+b);y.faces.push(r);for(let t=0;t<r.length;t++){let n=(t+1)%r.length;y.edges.push([r[t],r[n]])}}return y.computeNormals(),y}variations(){let t={};if(this.data){let r=this.face?.axes;r&&r.forEach(r=>{t[r.tag]=r.value})}return ov.forEach(r=>{let n=this.face[r];"normal"!==n&&(t[r]=t[r]||n)}),t}metadata(){let t=this.data?.name||{};for(let r in this.face)/^load/.test(r)||(t[r]=t[r]||this.face[r]);return t}static async list(t=!1){if(t){console.log("There are",document.fonts.size,"font-faces\n");let t=0;for(let r of document.fonts.values()){for(let t in console.log("FontFace: {"),r)console.log("  "+t+": "+r[t]);console.log("}\n"),"loaded"===r.status&&t++}console.log(t+" loaded")}return await Array.from(document.fonts)}_lineateAndPathify(t,r,n,i,s,a={}){let o=a?.graphics?._renderer||this._pInst._renderer;o.push(),o.textFont(this);let{lines:l,bounds:u}=o._computeBounds(iC,t,r,n,i,s,{ignoreRectMode:!0,...a});l=this._position(o,l,u,i,s);let h=this.data?.head?.unitsPerEm||1e3,c=o.states.textSize/h,d=this._currentAxes(o),p=l.map(t=>this._lineToGlyphs(t,{scale:c,axs:d}));return o.pop(),p}_currentAxes(t){let r;return(this.data?.fvar?.length??0)>0&&(r=this.data.fvar[0].map(([r,n,i,s,a,o])=>{if(!t)return i;if("wght"===r)return t.states.fontWeight;if("wdth"===r)return 100;if(t.textCanvas().style.fontVariationSettings){let n=RegExp(`\\b${r}s+(d+)`).exec(t.textCanvas().style.fontVariationSettings);return n?parseInt(n[1]):i}return i})),r}_textToPathPoints(t,r,n,i,s,a){({width:i,height:s,options:a}=this._parseArgs(i,s,a));let o=this.textToPaths(t,r,n,i,s,a),l=(t,r,n,i)=>{if(fn.dist(r.x,r.y,n.x,n.y)>i){let s={x:(r.x+n.x)/2,y:(r.y+n.y)/2};t.push(s),l(t,r,s,i),l(t,s,n,i)}},u=[],{textSize:h}=this._pInst._renderer.states,c=h/this.data.head.unitsPerEm*500;for(let t=0;t<o.length;t++){let{type:r,data:n}=o[t];if("Z"!==r){let t={x:n[n.length-2],y:n[n.length-1]};"L"===r&&u.length&&!a?.nodivide>0&&l(u,u[u.length-1],t,c),u.push(t)}}return u}_parseArgs(t,r,n={}){return"object"==typeof t?(n=t,t=r=void 0):"object"==typeof r&&(n=r,r=void 0),{width:t,height:r,options:n}}_position(t,r,n,i,s){let{textAlign:a,textLeading:o}=t.states,l=this._measureTextDefault(t,"X").fontBoundingBoxAscent;return r.map((r,u)=>{let h=n.x,c=n.y+u*o+l,d=t._fontWidthSingle(r);if(a===k?h+=(n.w-d)/2:a===D&&(h+=n.w-d),void 0!==i)switch(t.states.rectMode){case k:h-=i/2,c-=s/2;break;case E:h-=i,c-=s}return{text:r,x:h,y:c}})}_lineToGlyphs(t,{scale:r=1,axs:n}={}){if(!this.data)throw Error('No font data available for "'+this.name+'"\nTry downloading a local copy of the font file');let i=oh.U.shape(this.data,t.text,{axs:n});return t.glyphShapes=i,t.glyphs=this._shapeToPaths(i,t,{scale:r,axs:n}),t}_positionGlyphs(t,r){let n=r?.graphics?._renderer||this._pInst._renderer,i=this._currentAxes(n),s=oh.U.shape(this.data,t,{axs:i}),a=[],o=0;for(let t of s)a.push({x:o,index:t.g,shape:t}),o+=t.ax;return a}_singleShapeToPath(t,{scale:r=1,x:n=0,y:i=0,lineX:s=0,lineY:a=0,axs:o}={}){let l=this.data,u=0,{g:h,ax:c,ay:d,dx:p,dy:f}=t,{crds:m,cmds:g}=oh.U.glyphToPath(l,h,!0,o),y={path:{commands:[]}};for(let t=0;t<g.length;t++){let o=g[t],l=[o];if(o in op){let t=op[o];for(let o=0;o<t;o+=2){let t=s+(m[o+u]+n+p)*r,h=a+-((m[o+u+1]+i+f)*r);l.push(t),l.push(h)}u+=t}y.path.commands.push(l)}return{glyph:y,ax:c,ay:d}}_shapeToPaths(t,r,{scale:n=1,axs:i}={}){let s=0,a=0,o=[];if(t.length!==r.text.length)throw Error("Invalid shape data");for(let l=0;l<t.length;l++){let{glyph:u,ax:h,ay:c}=this._singleShapeToPath(t[l],{scale:n,x:s,y:a,lineX:r.x,lineY:r.y,axs:i});o.push(u),s+=h,a+=c}return o}_measureTextDefault(t,r){let{textAlign:n,textBaseline:i}=t.states,s=t.textDrawingContext();s.textAlign="left",s.textBaseline="alphabetic";let a=s.measureText(r);return s.textAlign=n,s.textBaseline=i,a}drawPaths(t,r,n){t.strokeStyle=n?.stroke||t.strokeStyle,t.fillStyle=n?.fill||t.fillStyle,t.beginPath(),r.forEach(([r,...n])=>{"M"===r?t.moveTo(...n):"L"===r?t.lineTo(...n):"C"===r?t.bezierCurveTo(...n):"Q"===r?t.quadraticCurveTo(...n):"Z"===r&&t.closePath()}),n?.fill&&t.fill(),n?.stroke&&t.stroke()}_pathsToCommands(t,r){let n=[];for(let i=0;i<t.length;i++){let{x:s,y:a,path:o}=t[i],{crds:l,cmds:u}=o;for(let t=0,i=0;i<u.length;i++){let o=u[i],h={type:o,data:[]};if("M"===o||"L"===o)h.data.push(s+l[t]*r,a+-(l[t+1]*r)),t+=2;else if("C"===o){for(let n=0;n<6;n+=2)h.data.push(s+l[t+n]*r,a+-(l[t+n+1]*r));t+=6}else if("Q"===o){for(let n=0;n<4;n+=2)h.data.push(s+l[t+n]*r,a+-(l[t+n+1]*r));t+=4}n.push(h)}}return n}}async function ob(t,r,n,i,s){let a=function(t,r,n,i){var s;s=t,/^[A-Za-z][A-Za-z0-9_-]*$/.test(s)||(s="'"+String(s).replace(/'/g,"\\'")+"'"),t=s;let a=i?._compressedData??i?._data;if(!a){if(!om.test(r))throw Error(oy);r.startsWith("url(")||(r="url("+r+")"),a=r}if((i?.fvar?.length??0)>0)for(let[t,r,s,a,o,l]of(n=n||{},i.fvar[0]))"wght"===t?n.weight=`${r} ${a}`:"wdth"===t&&(n.stretch=`${r}% ${a}%`);let o=new FontFace(t,a,n);if("error"===o.status)throw Error('Failed to create FontFace for "'+t+'"');return o}(r,n,i,s);return"loaded"!==a.status&&await a.load(),document.fonts.add(a),await document.fonts.ready,new ox(t,a,r,n,s)}function ow(t,r){t.Font=ox,r.parseFontData=async function(t){let n=t instanceof Uint8Array?t:await r.loadBytes(t);if(!n)throw Error("Failed to load font data");let i=oh.parse(n);if(0===i.length||void 0===i[0].cmap)throw Error("parsing font data");return i[0]},r.loadFont=async function(...t){let n,{path:i,name:s,success:a,error:o,options:{sets:l,...u}={}}=function(...t){let r,n,i,s,a=t.shift();"string"==typeof a&&0!==a.length||m._friendlyError(oy,"p5.loadFont"),"string"==typeof t[0]&&(r=t.shift());for(let r=0;r<t.length;r++){let a=t[r];"function"==typeof a?n?i=a:n=a:"object"==typeof a&&(s=a)}return{path:a,name:r,success:n,error:i,options:s}}(...t),h=i.includes("@font-face");if(!h){let t;try{t=await fetch(i,{method:"HEAD"})}catch(r){t=await fetch(i)}t.headers.get("content-type")?.startsWith("text/css")&&(h=!0,i=await fetch(i).then(t=>t.text()))}if(h){let t=new CSSStyleSheet;await t.replace(i);let n=[];for(let i of t.cssRules)if(i instanceof CSSFontFaceRule){var c;let t=i.style,s=((c=t.getPropertyValue("font-family")).startsWith('"')||c.startsWith("'"))&&c.at(0)===c.at(-1)?c.slice(1,-1).replace(/\/(['"])/g,"$1"):c,a=t.getPropertyValue("src"),o={...u||{}};for(let r of t)"font-family"!==r&&"src"!==r&&(o[r.replace(/^font-/,"").split("-").map((t,r)=>0===r?t:`${t[0].toUpperCase()}${t.slice(1)}`).join("")]=t.getPropertyValue(r));n.push({name:s,src:a,fontDescriptors:o,loadWithData:async()=>{let t;try{let n=/url\(([^\)]+)\)/.exec(a);if(n){let i=n[1];/^['"]/.exec(i)&&i.at(0)===i.at(-1)&&(i=i.slice(1,-1)),t=await r.parseFontData(i)}}catch(t){}return ob(this,s,a,o,t)},loadWithoutData:()=>ob(this,s,a,o)})}let s=((l=l||["latin"])instanceof Array?l:[l]).map(t=>t.toLowerCase()),a=av.filter(t=>s.some(r=>t.category.includes(r)&&t.category.includes("ext")===r.includes("ext"))),o=new Set(ay.parse(a.map(t=>`U+${t.hexrange[0]}-${t.hexrange[1]}`))),h,d=0,p=0;for(let t of n){if(!t.fontDescriptors.unicodeRange)continue;let r=[...new Set(ay.parse(t.fontDescriptors.unicodeRange.split(/,\s*/g))).values()].filter(t=>o.has(t)).length,n={style:"normal",weight:400,...u},i=Object.keys(t.fontDescriptors).filter(r=>t.fontDescriptors[r]===n[r]).length;(i>p||i===p&&r>=d)&&(p=i,d=r,h=t)}let f=h||n.at(-1);for(let t of n)t!==f&&t.loadWithoutData();return f?.loadWithData()}try{let t=await r.parseFontData(i);s=s||function(t,r){let n,i=t?.name;if(i){if(i.fullName)return i.fullName;i.familyName&&(n=i.familyName)}if(!n){let t=og.exec(r);n=t&&t.length>=3?t[1]:r}return n.includes(" ")&&(n=n.replace(/ /g,"_")),n}(t,i),n=await ob(this,s,i,u,t)}catch(r){let t=s||i.substring(i.lastIndexOf("/")+1).replace(/\.[^/.]+$/,"");console.warn(`WARN: No glyph data for '${t}', retrying as FontFace`);try{n=await ob(this,t,i,u)}catch(t){if(o)return o(t);throw t}}return a?a(n):n}}let o_=t=>t.map(t=>{let r=t[0];switch(r){case"Z":return{type:r};case"M":case"L":{let[,n,i]=t;return{type:r,x:n,y:i}}case"Q":{let[,n,i,s,a]=t;return{type:r,x1:n,y1:i,x:s,y:a}}case"C":{let[,n,i,s,a,o,l]=t;return{type:r,x1:n,y1:i,x2:s,y2:a,x:o,y:l}}default:throw Error(`Unexpected path command: ${r}`)}});void 0!==m&&ow(m,m.prototype);var oC='#define PI 3.141592\n\nprecision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform mat3 uCameraRotation;\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];	\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\nuniform float uMetallic;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\n// setting from  _setImageLightUniforms()\n// boolean to initiate the calculateImageDiffuse and calculateImageSpecular\nuniform bool uUseImageLight;\n// texture for use in calculateImageDiffuse\nuniform sampler2D environmentMapDiffused;\n// texture for use in calculateImageSpecular\nuniform sampler2D environmentMapSpecular;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector, float shininess, float metallic) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  float specularIntensity = mix(1.0, 0.4, metallic);\n  float diffuseIntensity = mix(1.0, 0.1, metallic);\n  if (uSpecular)\n    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, shininess)) * specularIntensity;\n    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;\n  return lr;\n}\n\n// converts the range of "value" from [min1 to max1] to [min2 to max2]\nfloat map(float value, float min1, float max1, float min2, float max2) {\n  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n}\n\nvec2 mapTextureToNormal( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );\n  return angles;\n}\n\n\nvec3 calculateImageDiffuse(vec3 vNormal, vec3 vViewPosition, float metallic){\n  // make 2 seperate builds \n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position\n  vec3 worldNormal = normalize(vNormal * uCameraRotation);\n  vec2 newTexCoor = mapTextureToNormal( worldNormal );\n  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);\n}\n\nvec3 calculateImageSpecular(vec3 vNormal, vec3 vViewPosition, float shininess, float metallic){\n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);\n  vec3 worldNormal = normalize(vNormal);\n  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );\n  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;\n  vec2 newTexCoor = mapTextureToNormal( R );\n#ifdef WEBGL2\n  // In p5js the range of shininess is >= 1,\n  // Therefore roughness range will be ([0,1]*8)*20 or [0, 160]\n  // The factor of 8 is because currently the getSpecularTexture\n  // only calculated 8 different levels of roughness\n  // The factor of 20 is just to spread up this range so that,\n  // [1, max] of shininess is converted to [0,160] of roughness\n  float roughness = 20. / shininess;\n  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, roughness * 8.);\n#else\n  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);\n#endif\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(\n    pow(outColor.xyz, vec3(10)),\n    pow(outColor.xyz, vec3(1.2)),\n    metallic \n  );\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  float shininess,\n  float metallic,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  if( uUseImageLight ){\n    totalDiffuse += calculateImageDiffuse(normal, modelPosition, metallic);\n    totalSpecular += calculateImageSpecular(normal, modelPosition, shininess, metallic);\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n';let{lineDefs:oS}=iA((t,r)=>`#define ${t} ${r}
`),oE={normalVert:"IN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\n#define HOOK_DEFINES\n\n#ifdef AUGMENTED_HOOK_getWorldInputs\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat3 uModelNormalMatrix;\nuniform mat3 uCameraNormalMatrix;\n#else\nuniform mat4 uModelViewMatrix;\nuniform mat3 uNormalMatrix;\n#endif\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uMaterialColor;\nuniform bool uUseVertexColor;\n\nOUT vec3 vVertexNormal;\nOUT highp vec2 vVertTexCoord;\nOUT vec4 vColor;\n\nstruct Vertex {\n  vec3 position;\n  vec3 normal;\n  vec2 texCoord;\n  vec4 color;\n};\n\nvoid main(void) {\n  HOOK_beforeVertex();\n\n  Vertex inputs;\n  inputs.position = aPosition;\n  inputs.normal = aNormal;\n  inputs.texCoord = aTexCoord;\n  inputs.color = (uUseVertexColor && aVertexColor.x >= 0.0) ? aVertexColor : uMaterialColor;\n#ifdef AUGMENTED_HOOK_getObjectInputs\n  inputs = HOOK_getObjectInputs(inputs);\n#endif\n\n#ifdef AUGMENTED_HOOK_getWorldInputs\n  inputs.position = (uModelMatrix * vec4(inputs.position, 1.)).xyz;\n  inputs.normal = uModelNormalMatrix * inputs.normal;\n  inputs = HOOK_getWorldInputs(inputs);\n#endif\n\n#ifdef AUGMENTED_HOOK_getWorldInputs\n  // Already multiplied by the model matrix, just apply view\n  inputs.position = (uViewMatrix * vec4(inputs.position, 1.)).xyz;\n  inputs.normal = uCameraNormalMatrix * inputs.normal;\n#else\n  // Apply both at once\n  inputs.position = (uModelViewMatrix * vec4(inputs.position, 1.)).xyz;\n  inputs.normal = uNormalMatrix * inputs.normal;\n#endif\n#ifdef AUGMENTED_HOOK_getCameraInputs\n  inputs = HOOK_getCameraInputs(inputs);\n#endif\n\n  // Pass varyings to fragment shader\n  vVertTexCoord = inputs.texCoord;\n  vVertexNormal = normalize(inputs.normal);\n  vColor = inputs.color;\n\n  gl_Position = uProjectionMatrix * vec4(inputs.position, 1.);\n\n  HOOK_afterVertex();\n}\n",normalFrag:"IN vec3 vVertexNormal;\nvoid main(void) {\n  HOOK_beforeFragment();\n  OUT_COLOR = HOOK_getFinalColor(vec4(vVertexNormal, 1.0));\n  HOOK_afterFragment();\n}\n",basicFrag:"IN vec4 vColor;\nvoid main(void) {\n  HOOK_beforeFragment();\n  OUT_COLOR = HOOK_getFinalColor(vColor);\n  OUT_COLOR.rgb *= OUT_COLOR.a; // Premultiply alpha before rendering\n  HOOK_afterFragment();\n}\n",lightVert:oC+"// include lighting.glgl\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT highp vec2 vVertTexCoord;\nOUT vec3 vDiffuseColor;\nOUT vec3 vSpecularColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = ((uUseVertexColor && aVertexColor.x >= 0.0) ? aVertexColor : uMaterialColor);\n}\n",lightTextureFrag:"uniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nIN highp vec2 vVertTexCoord;\nIN vec3 vDiffuseColor;\nIN vec3 vSpecularColor;\nIN vec4 vColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    OUT_COLOR = vColor;\n  }\n  else {\n    vec4 baseColor = isTexture\n      // Textures come in with premultiplied alpha. To apply tint and still have\n      // premultiplied alpha output, we need to multiply the RGB channels by the\n      // tint RGB, and all channels by the tint alpha.\n      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n      // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n      // channels by alpha to convert it to premultiplied alpha.\n      : vec4(vColor.rgb * vColor.a, vColor.a);\n    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);\n  }\n}\n",phongVert:"precision highp int;\n\n#define HOOK_DEFINES\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\n#ifdef AUGMENTED_HOOK_getWorldInputs\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat3 uModelNormalMatrix;\nuniform mat3 uCameraNormalMatrix;\n#else\nuniform mat4 uModelViewMatrix;\nuniform mat3 uNormalMatrix;\n#endif\nuniform mat4 uProjectionMatrix;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT vec3 vNormal;\nOUT vec2 vTexCoord;\nOUT vec3 vViewPosition;\nOUT vec3 vAmbientColor;\nOUT vec4 vColor;\n\nstruct Vertex {\n  vec3 position;\n  vec3 normal;\n  vec2 texCoord;\n  vec4 color;\n};\n\nvoid main(void) {\n  HOOK_beforeVertex();\n\n  Vertex inputs;\n  inputs.position = aPosition;\n  inputs.normal = aNormal;\n  inputs.texCoord = aTexCoord;\n  inputs.color = (uUseVertexColor && aVertexColor.x >= 0.0) ? aVertexColor : uMaterialColor;\n#ifdef AUGMENTED_HOOK_getObjectInputs\n  inputs = HOOK_getObjectInputs(inputs);\n#endif\n\n#ifdef AUGMENTED_HOOK_getWorldInputs\n  inputs.position = (uModelMatrix * vec4(inputs.position, 1.)).xyz;\n  inputs.normal = uModelNormalMatrix * inputs.normal;\n  inputs = HOOK_getWorldInputs(inputs);\n#endif\n\n#ifdef AUGMENTED_HOOK_getWorldInputs\n  // Already multiplied by the model matrix, just apply view\n  inputs.position = (uViewMatrix * vec4(inputs.position, 1.)).xyz;\n  inputs.normal = uCameraNormalMatrix * inputs.normal;\n#else\n  // Apply both at once\n  inputs.position = (uModelViewMatrix * vec4(inputs.position, 1.)).xyz;\n  inputs.normal = uNormalMatrix * inputs.normal;\n#endif\n#ifdef AUGMENTED_HOOK_getCameraInputs\n  inputs = HOOK_getCameraInputs(inputs);\n#endif\n\n  // Pass varyings to fragment shader\n  vViewPosition = inputs.position;\n  vTexCoord = inputs.texCoord;\n  vNormal = inputs.normal;\n  vColor = inputs.color;\n\n  gl_Position = uProjectionMatrix * vec4(inputs.position, 1.);\n  HOOK_afterVertex();\n}\n",phongFrag:oC+"// include lighting.glsl\nprecision highp int;\n\nuniform bool uHasSetAmbient;\nuniform vec3 uAmbientColor;\nuniform vec4 uSpecularMatColor;\nuniform vec4 uAmbientMatColor;\nuniform vec4 uEmissiveMatColor;\n\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nIN vec3 vNormal;\nIN vec2 vTexCoord;\nIN vec3 vViewPosition;\nIN vec4 vColor;\n\nstruct ColorComponents {\n  vec3 baseColor;\n  float opacity;\n  vec3 ambientColor;\n  vec3 specularColor;\n  vec3 diffuse;\n  vec3 ambient;\n  vec3 specular;\n  vec3 emissive;\n};\n\nstruct Inputs {\n  vec3 normal;\n  vec2 texCoord;\n  vec3 ambientLight;\n  vec3 ambientMaterial;\n  vec3 specularMaterial;\n  vec3 emissiveMaterial;\n  vec4 color;\n  float shininess;\n  float metalness;\n};\n\nvoid main(void) {\n  HOOK_beforeFragment();\n\n  Inputs inputs;\n  inputs.normal = normalize(vNormal);\n  inputs.texCoord = vTexCoord;\n  inputs.ambientLight = uAmbientColor;\n  inputs.color = isTexture\n      ? TEXTURE(uSampler, vTexCoord) * (vec4(uTint.rgb/255., 1.) * uTint.a/255.)\n      : vColor;\n  if (isTexture && inputs.color.a > 0.0) {\n    // Textures come in with premultiplied alpha. Temporarily unpremultiply it\n    // so hooks users don't have to think about premultiplied alpha.\n    inputs.color.rgb /= inputs.color.a;\n  }\n  inputs.shininess = uShininess;\n  inputs.metalness = uMetallic;\n  inputs.ambientMaterial = uHasSetAmbient ? uAmbientMatColor.rgb : inputs.color.rgb;\n  inputs.specularMaterial = uSpecularMatColor.rgb;\n  inputs.emissiveMaterial = uEmissiveMatColor.rgb;\n  inputs = HOOK_getPixelInputs(inputs);\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, inputs.normal, inputs.shininess, inputs.metalness, diffuse, specular);\n\n  // Calculating final color as result of all lights (plus emissive term).\n\n  vec4 baseColor = inputs.color;\n  ColorComponents c;\n  c.opacity = baseColor.a;\n  c.baseColor = baseColor.rgb;\n  c.ambientColor = inputs.ambientMaterial;\n  c.specularColor = inputs.specularMaterial;\n  c.diffuse = diffuse;\n  c.ambient = inputs.ambientLight;\n  c.specular = specular;\n  c.emissive = inputs.emissiveMaterial;\n  OUT_COLOR = HOOK_getFinalColor(HOOK_combineColors(c));\n  OUT_COLOR.rgb *= OUT_COLOR.a; // Premultiply alpha before rendering\n  HOOK_afterFragment();\n}\n",fontVert:"IN vec3 aPosition;\nIN vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nOUT vec2 vTexCoord;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // Expand glyph bounding boxes by 1px on each side to give a bit of room\n  // for antialiasing\n  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;\n  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;\n  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;\n  vec2 pixelScale = vec2(\n    1. / length(newOrigin - newDX),\n    1. / length(newOrigin - newDY)\n  );\n  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5));\n  vec2 textureOffset = offset * (1. / vec2(\n    uGlyphRect.z - uGlyphRect.x,\n    uGlyphRect.w - uGlyphRect.y\n  ));\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n\n  positionVec4.xy += offset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord + textureOffset;\n}\n",fontFrag:"#ifndef WEBGL2\n#extension GL_OES_standard_derivatives : enable\n#endif\n\n#if 0\n  // simulate integer math using floats\n	#define int float\n	#define ivec2 vec2\n	#define INT(x) float(x)\n\n	int ifloor(float v) { return floor(v); }\n	ivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n	precision highp int;\n	#define INT(x) x\n\n	int ifloor(float v) { return int(v); }\n	int ifloor(int v) { return v; }\n	ivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nIN vec2 vTexCoord;\n\n// some helper functions\nint ROUND(float v) { return ifloor(v + 0.5); }\nivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = ROUND(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n  OUT_COLOR *= saturate(max(antialias, cover));\n}\n",lineVert:oS+"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\n#define HOOK_DEFINES\n\nprecision highp int;\nprecision highp float;\n\n#ifdef AUGMENTED_HOOK_getWorldInputs\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\n#else\nuniform mat4 uModelViewMatrix;\n#endif\n\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform bool uUseLineColor;\nuniform bool uSimpleLines;\nuniform vec4 uMaterialColor;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\nuniform int uStrokeJoin;\n\nIN vec3 aPosition;\nIN vec3 aTangentIn;\nIN vec3 aTangentOut;\nIN float aSide;\nIN vec4 aVertexColor;\n\nOUT vec4 vColor;\nOUT vec2 vTangent;\nOUT vec2 vCenter;\nOUT vec2 vPosition;\nOUT float vMaxDist;\nOUT float vCap;\nOUT float vJoin;\nOUT float vStrokeWeight;\n\nvec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {\n  // Rotate and translate so a starts at the origin and goes out to the right\n  bPoint -= aPoint;\n  vec2 rotatedBFrom = vec2(\n    bPoint.x*aDir.x + bPoint.y*aDir.y,\n    bPoint.y*aDir.x - bPoint.x*aDir.y\n  );\n  vec2 bTo = bPoint + bDir;\n  vec2 rotatedBTo = vec2(\n    bTo.x*aDir.x + bTo.y*aDir.y,\n    bTo.y*aDir.x - bTo.x*aDir.y\n  );\n  float intersectionDistance =\n    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /\n    (rotatedBTo.y - rotatedBFrom.y);\n  return aPoint + aDir * intersectionDistance;\n}\n\nstruct StrokeVertex {\n  vec3 position;\n  vec3 tangentIn;\n  vec3 tangentOut;\n  vec4 color;\n  float weight;\n};\n\nvoid main() {\n  HOOK_beforeVertex();\n\n  if (!uSimpleLines) {\n      // Caps have one of either the in or out tangent set to 0\n      vCap = (aTangentIn == vec3(0.)) != (aTangentOut == vec3(0.)) ? 1. : 0.;\n\n      // Joins have two unique, defined tangents\n      vJoin = (\n          aTangentIn != vec3(0.) &&\n          aTangentOut != vec3(0.) &&\n          aTangentIn != aTangentOut\n      ) ? 1. : 0.;\n  }\n\n  StrokeVertex inputs;\n  inputs.position = aPosition.xyz;\n  inputs.color = uUseLineColor ? aVertexColor : uMaterialColor;\n  inputs.weight = uStrokeWeight;\n  inputs.tangentIn = aTangentIn;\n  inputs.tangentOut = aTangentOut;\n\n#ifdef AUGMENTED_HOOK_getObjectInputs\n  inputs = HOOK_getObjectInputs(inputs);\n#endif\n\n#ifdef AUGMENTED_HOOK_getWorldInputs\n  inputs.position = (uModelMatrix * vec4(inputs.position, 1.)).xyz;\n  inputs.tangentIn = (uModelMatrix * vec4(aTangentIn, 0.)).xyz;\n  inputs.tangentOut = (uModelMatrix * vec4(aTangentOut, 0.)).xyz;\n  inputs = HOOK_getWorldInputs(inputs);\n#endif\n\n#ifdef AUGMENTED_HOOK_getWorldInputs\n  // Already multiplied by the model matrix, just apply view\n  inputs.position = (uViewMatrix * vec4(inputs.position, 1.)).xyz;\n  inputs.tangentIn = (uViewMatrix * vec4(aTangentIn, 0.)).xyz;\n  inputs.tangentOut = (uViewMatrix * vec4(aTangentOut, 0.)).xyz;\n#else\n  // Apply both at once\n  inputs.position = (uModelViewMatrix * vec4(inputs.position, 1.)).xyz;\n  inputs.tangentIn = (uModelViewMatrix * vec4(aTangentIn, 0.)).xyz;\n  inputs.tangentOut = (uModelViewMatrix * vec4(aTangentOut, 0.)).xyz;\n#endif\n#ifdef AUGMENTED_HOOK_getCameraInputs\n  inputs = HOOK_getCameraInputs(inputs);\n#endif\n\n  vec4 posp = vec4(inputs.position, 1.);\n  vec4 posqIn = vec4(inputs.position + inputs.tangentIn, 1.);\n  vec4 posqOut = vec4(inputs.position + inputs.tangentOut, 1.);\n  vStrokeWeight = inputs.weight;\n\n  float facingCamera = pow(\n    // The word space tangent's z value is 0 if it's facing the camera\n    abs(normalize(posqIn-posp).z),\n\n    // Using pow() here to ramp `facingCamera` up from 0 to 1 really quickly\n    // so most lines get scaled and don't get clipped\n    0.25\n  );\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // A mix of scaling and offsetting is used based on distance\n  // Discussion here:\n  // https://github.com/processing/p5.js/issues/7200 \n\n  // using a scale <1 moves the lines towards nearby camera\n  // in order to prevent popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  float zDistance = -posp.z; \n  float distanceFactor = smoothstep(0.0, 800.0, zDistance); \n  \n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  \n  float scale = mix(1., 0.995, facingCamera);\n  float dynamicScale = mix(scale, 1.0, distanceFactor); // Closer = more scale, farther = less\n\n  posp.xyz = posp.xyz * dynamicScale;\n  posqIn.xyz = posqIn.xyz * dynamicScale;\n  posqOut.xyz = posqOut.xyz * dynamicScale;\n\n  // Moving vertices slightly toward camera when far away \n  // https://github.com/processing/p5.js/issues/6956 \n  float zOffset = mix(0., -1., facingCamera);\n  float dynamicZAdjustment = mix(0.0, zOffset, distanceFactor); // Closer = less zAdjustment, farther = more\n\n  posp.z -= dynamicZAdjustment;\n  posqIn.z -= dynamicZAdjustment;\n  posqOut.z -= dynamicZAdjustment;\n  \n  vec4 p = uProjectionMatrix * posp;\n  vec4 qIn = uProjectionMatrix * posqIn;\n  vec4 qOut = uProjectionMatrix * posqOut;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);\n  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);\n\n  vec2 curPerspScale;\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n\n    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.\n    // Multiplying again by its sign here negates the flip to get just the scale.\n    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  vec2 offset;\n  if (vJoin == 1. && !uSimpleLines) {\n    vTangent = normalize(tangentIn + tangentOut);\n    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);\n    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);\n    float side = sign(aSide);\n    float sideEnum = abs(aSide);\n\n    // We generate vertices for joins on either side of the centerline, but\n    // the \"elbow\" side is the only one needing a join. By not setting the\n    // offset for the other side, all its vertices will end up in the same\n    // spot and not render, effectively discarding it.\n    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {\n      // Side enums:\n      //   1: the side going into the join\n      //   2: the middle of the join\n      //   3: the side going out of the join\n      if (sideEnum == 2.) {\n        // Calculate the position + tangent on either side of the join, and\n        // find where the lines intersect to find the elbow of the join\n        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;\n        vec2 intersection = lineIntersection(\n          c + (side * normalIn * inputs.weight / 2.),\n          tangentIn,\n          c + (side * normalOut * inputs.weight / 2.),\n          tangentOut\n        );\n        offset = (intersection - c);\n\n        // When lines are thick and the angle of the join approaches 180, the\n        // elbow might be really far from the center. We'll apply a limit to\n        // the magnitude to avoid lines going across the whole screen when this\n        // happens.\n        float mag = length(offset);\n        float maxMag = 3. * inputs.weight;\n        if (mag > maxMag) {\n          offset *= maxMag / mag;\n        }\n      } else if (sideEnum == 1.) {\n        offset = side * normalIn * inputs.weight / 2.;\n      } else if (sideEnum == 3.) {\n        offset = side * normalOut * inputs.weight / 2.;\n      }\n    }\n    if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);\n      vMaxDist = abs(dot(avgNormal, normalIn * inputs.weight / 2.));\n    } else {\n      vMaxDist = inputs.weight / 2.;\n    }\n  } else {\n    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;\n\n    vTangent = tangent;\n    vec2 normal = vec2(-tangent.y, tangent.x);\n\n    float normalOffset = sign(aSide);\n    // Caps will have side values of -2 or 2 on the edge of the cap that\n    // extends out from the line\n    float tangentOffset = abs(aSide) - 1.;\n    offset = (normal * normalOffset + tangent * tangentOffset) *\n      inputs.weight * 0.5;\n    vMaxDist = inputs.weight / 2.;\n  }\n\n  vCenter = p.xy;\n  vPosition = vCenter + offset;\n  vColor = inputs.color;\n\n  gl_Position.xy = p.xy + offset.xy * curPerspScale;\n  gl_Position.zw = p.zw;\n  \n  HOOK_afterVertex();\n}\n",lineFrag:oS+"precision highp int;\nprecision highp float;\n\nuniform vec4 uMaterialColor;\nuniform int uStrokeCap;\nuniform int uStrokeJoin;\n\nIN vec4 vColor;\nIN vec2 vTangent;\nIN vec2 vCenter;\nIN vec2 vPosition;\nIN float vStrokeWeight;\nIN float vMaxDist;\nIN float vCap;\nIN float vJoin;\n\nfloat distSquared(vec2 a, vec2 b) {\n  vec2 aToB = b - a;\n  return dot(aToB, aToB);\n}\n\nstruct Inputs {\n  vec4 color;\n  vec2 tangent;\n  vec2 center;\n  vec2 position;\n  float strokeWeight;\n};\n\nvoid main() {\n  HOOK_beforeFragment();\n\n  Inputs inputs;\n  inputs.color = vColor;\n  inputs.tangent = vTangent;\n  inputs.center = vCenter;\n  inputs.position = vPosition;\n  inputs.strokeWeight = vStrokeWeight;\n  inputs = HOOK_getPixelInputs(inputs);\n\n  if (vCap > 0.) {\n    if (\n      uStrokeCap == STROKE_CAP_ROUND &&\n      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)\n    ) {\n      discard;\n    } else if (\n      uStrokeCap == STROKE_CAP_SQUARE &&\n      HOOK_shouldDiscard(dot(inputs.position - inputs.center, inputs.tangent) > 0.)\n    ) {\n      discard;\n    // Use full area for PROJECT\n    } else if (HOOK_shouldDiscard(false)) {\n      discard;\n    }\n  } else if (vJoin > 0.) {\n    if (\n      uStrokeJoin == STROKE_JOIN_ROUND &&\n      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)\n    ) {\n      discard;\n    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 normal = vec2(-inputs.tangent.y, inputs.tangent.x);\n      if (HOOK_shouldDiscard(abs(dot(inputs.position - inputs.center, normal)) > vMaxDist)) {\n        discard;\n      }\n    // Use full area for MITER\n    } else if (HOOK_shouldDiscard(false)) {\n      discard;\n    }\n  }\n  OUT_COLOR = HOOK_getFinalColor(vec4(inputs.color.rgb, 1.) * inputs.color.a);\n  HOOK_afterFragment();\n}\n",imageLightVert:"precision highp float;\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nvarying vec3 localPos;\nvarying vec3 vWorldNormal;\nvarying vec3 vWorldPosition;\nvarying vec2 vTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvoid main() {\n  // Multiply the position by the matrix.\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n  \n  // orient the normals and pass to the fragment shader\n  vWorldNormal = uNormalMatrix * aNormal;\n  \n  // send the view position to the fragment shader\n  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;\n  \n  localPos = vWorldPosition;\n  vTexCoord = aTexCoord;\n}\n\n\n/*\nin the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.\n*/\n",imageLightDiffusedFrag:"precision highp float;\nvarying vec3 localPos;\n\n// the HDR cubemap converted (can be from an equirectangular environment map.)\nuniform sampler2D environmentMap;\nvarying vec2 vTexCoord;\n\nconst float PI = 3.14159265359;\n\nvec2 nTOE( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( phi, theta );\n  return angles;\n}\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\nvoid main()\n{   	 \n	// the sample direction equals the hemisphere's orientation\n  float phi = vTexCoord.x * 2.0 * PI;\n  float theta = vTexCoord.y * PI;\n  float x = sin(theta) * cos(phi);\n  float y = sin(theta) * sin(phi);\n  float z = cos(theta);\n  vec3 normal = vec3( x, y, z);\n\n	// Discretely sampling the hemisphere given the integral's\n  // spherical coordinates translates to the following fragment code:\n	vec3 irradiance = vec3(0.0);  \n	vec3 up	= vec3(0.0, 1.0, 0.0);\n	vec3 right = normalize(cross(up, normal));\n	up = normalize(cross(normal, right));\n\n	//  We specify a fixed sampleDelta delta value to traverse\n  // the hemisphere; decreasing or increasing the sample delta\n  // will increase or decrease the accuracy respectively.\n	const float sampleDelta = 0.100;\n	float nrSamples = 0.0;\n  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;\n	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)\n	{\n    float phi = rawPhi + randomOffset;\n    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)\n    {\n      float theta = rawTheta + randomOffset;\n      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance\n      float x = sin(theta) * cos(phi);\n      float y = sin(theta) * sin(phi);\n      float z = cos(theta);\n      vec3 tangentSample = vec3( x, y, z);\n      \n      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;\n        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);\n      nrSamples++;\n    }\n	}\n	// divide by the total number of samples taken, giving us the average sampled irradiance.\n	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;\n  \n \n	gl_FragColor = vec4(irradiance, 1.0);\n}",imageLightSpecularFrag:"precision highp float;\r\nvarying vec3 localPos;\r\nvarying vec2 vTexCoord;\r\n\r\n// our texture\r\nuniform sampler2D environmentMap;\r\nuniform float roughness;\r\n\r\nconst float PI = 3.14159265359;\r\n\r\nfloat VanDerCorput(int bits);\r\nvec2 HammersleyNoBitOps(int i, int N);\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r\n\r\n\r\nvec2 nTOE( vec3 v ){\r\n  // x = r sin(phi) cos(theta)   \r\n  // y = r cos(phi)  \r\n  // z = r sin(phi) sin(theta)\r\n  float phi = acos( v.y );\r\n  // if phi is 0, then there are no x, z components\r\n  float theta = 0.0;\r\n  // else \r\n  theta = acos(v.x / sin(phi));\r\n  float sinTheta = v.z / sin(phi);\r\n  if (sinTheta < 0.0) {\r\n    // Turn it into -theta, but in the 0-2PI range\r\n    theta = 2.0 * PI - theta;\r\n  }\r\n  theta = theta / (2.0 * 3.14159);\r\n  phi = phi / 3.14159 ;\r\n  \r\n  vec2 angles = vec2( phi, theta );\r\n  return angles;\r\n}\r\n\r\n\r\nvoid main(){\r\n  const int SAMPLE_COUNT = 400; // 4096\r\n  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r\n  float totalWeight = 0.0;\r\n  vec3 prefilteredColor = vec3(0.0);\r\n  float phi = vTexCoord.x * 2.0 * PI;\r\n  float theta = vTexCoord.y * PI;\r\n  float x = sin(theta) * cos(phi);\r\n  float y = sin(theta) * sin(phi);\r\n  float z = cos(theta);\r\n  vec3 N = vec3(x,y,z);\r\n  vec3 V = N;\r\n  for (int i = 0; i < SAMPLE_COUNT; ++i)\r\n  {\r\n    // break at smaller sample numbers for low roughness levels\r\n    if(i == lowRoughnessLimit)\r\n    {\r\n      break;\r\n    }\r\n    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r\n    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r\n    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r\n\r\n    float NdotL = max(dot(N, L), 0.0);\r\n    if (NdotL > 0.0)\r\n    {\r\n      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r\n      totalWeight += NdotL;\r\n    }\r\n  }\r\n  prefilteredColor = prefilteredColor / totalWeight;\r\n\r\n  gl_FragColor = vec4(prefilteredColor, 1.0);\r\n}\r\n\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r\n  float a = roughness * roughness;\r\n\r\n  float phi = 2.0 * PI * Xi.x;\r\n  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r\n  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r\n  // from spherical coordinates to cartesian coordinates\r\n  vec3 H;\r\n  H.x = cos(phi) * sinTheta;\r\n  H.y = sin(phi) * sinTheta;\r\n  H.z = cosTheta;\r\n\r\n  // from tangent-space vector to world-space sample vector\r\n  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r\n  vec3 tangent = normalize(cross(up, N));\r\n  vec3 bitangent = cross(N, tangent);\r\n\r\n  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r\n  return normalize(sampleVec);\r\n}\r\n\r\n\r\nfloat VanDerCorput(int n, int base)\r\n{\r\n#ifdef WEBGL2\r\n\r\n    uint bits = uint(n);\r\n    bits = (bits << 16u) | (bits >> 16u);\r\n    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r\n    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r\n    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r\n    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r\n    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r\n\r\n#else\r\n\r\n  float invBase = 1.0 / float(base);\r\n  float denom = 1.0;\r\n  float result = 0.0;\r\n\r\n\r\n  for (int i = 0; i < 32; ++i)\r\n  {\r\n        if (n > 0)\r\n        {\r\n        denom = mod(float(n), 2.0);\r\n        result += denom * invBase;\r\n        invBase = invBase / 2.0;\r\n        n = int(float(n) / 2.0);\r\n        }\r\n  }\r\n\r\n\r\n  return result;\r\n\r\n#endif\r\n}\r\n\r\nvec2 HammersleyNoBitOps(int i, int N)\r\n{\r\n  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r\n}\r\n",filterBaseVert:i3,filterBaseFrag:i5};for(let t in oE)oE[t]=i4+oE[t];class oD extends iF{constructor(t,r,n,i,s){super(t,r,n,i,s),this.webglVersion===u?this.blendExt=this.GL:this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._userEnabledStencil=!1,this._internalEnable=this.drawingContext.enable,this._internalDisable=this.drawingContext.disable,this.drawingContext.enable=t=>(t===this.drawingContext.STENCIL_TEST&&(this._clipping||(this._userEnabledStencil=!0)),this._internalEnable.call(this.drawingContext,t)),this.drawingContext.disable=t=>(t===this.drawingContext.STENCIL_TEST&&(this._userEnabledStencil=!1),this._internalDisable.call(this.drawingContext,t)),this._cachedBlendMode=void 0,this.strandsBackend=sY}setupContext(){this._setAttributeDefaults(this._pInst),this._initContext(),this.GL=this.drawingContext}_applyBlendMode(){if(this._cachedBlendMode===this.states.curBlendMode)return;let t=this.GL;switch(this.states.curBlendMode){case j:t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case $:t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE);break;case G:t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_ALPHA);break;case K:t.blendEquation(t.FUNC_ADD),t.blendFunc(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA);break;case Z:t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_COLOR);break;case X:t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE_MINUS_DST_COLOR,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE);break;case Q:t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO);break;case Y:t.blendEquationSeparate(t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case H:this.blendExt?(t.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case W:this.blendExt?(t.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow Renderer3D set curBlendMode to an unsupported mode.")}this._cachedBlendMode=this.states.curBlendMode}_shaderOptions(){}_useShader(t){this.GL.useProgram(t._glProgram)}_disableRemainingAttributes(t){for(let r of this.registerEnabled.values())Object.keys(t.attributes).some(n=>t.attributes[n].location===r)||(this.GL.disableVertexAttribArray(r),this.registerEnabled.delete(r))}_drawBuffers(t,{mode:r=4,count:n}){let i=this.GL,s=this.geometryBufferCache.getCached(t);if(s)if("stroke"===this._curShader.shaderType)if(1===n)i.drawArrays(i.TRIANGLES,0,t.lineVertices.length/3);else try{i.drawArraysInstanced(i.TRIANGLES,0,t.lineVertices.length/3,n)}catch(t){console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}else if("text"===this._curShader.shaderType)this._bindBuffer(s.indexBuffer,i.ELEMENT_ARRAY_BUFFER),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0);else if(s.indexBuffer){if(this._bindBuffer(s.indexBuffer,i.ELEMENT_ARRAY_BUFFER),this._pInst.webglVersion!==u&&s.indexBufferType===i.UNSIGNED_INT&&!i.getExtension("OES_element_index_uint"))throw Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");if(1===n)i.drawElements(i.TRIANGLES,3*t.faces.length,s.indexBufferType,0);else try{i.drawElementsInstanced(i.TRIANGLES,3*t.faces.length,s.indexBufferType,0,n)}catch(t){console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}}else{let s=4===r?i.TRIANGLES:i.TRIANGLE_STRIP;if(1===n)i.drawArrays(s,0,t.vertices.length);else try{i.drawArraysInstanced(s,0,t.vertices.length,n)}catch(t){console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}}}_beforeDrawText(){this.GL.pixelStorei(this.GL.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1)}_afterDrawText(){this.GL.pixelStorei(this.GL.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0)}_setAttributeDefaults(t){let r={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};null===t._glAttributes?t._glAttributes=r:t._glAttributes=Object.assign(r,t._glAttributes)}_setAttributes(t,r){if(void 0===this._pInst._glAttributes)return void console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");let n=!0;void 0!==r?(null===this._pInst._glAttributes&&(this._pInst._glAttributes={}),this._pInst._glAttributes[t]!==r&&(this._pInst._glAttributes[t]=r,n=!1)):t instanceof Object&&this._pInst._glAttributes!==t&&(this._pInst._glAttributes=t,n=!1),this.isP3D&&!n&&(!this._pInst._setupDone&&this.geometryBufferCache.numCached()>0?m._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()"):(this._resetContext(null,null,oD),this.states.curCamera&&(this.states.curCamera._renderer=this._renderer)))}_initContext(){if(1!==this._pInst._glAttributes?.version&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?u:l,this._pInst.webglVersion=this.webglVersion,this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),null===this.drawingContext)throw Error("Error creating webgl context");{let t=this.drawingContext;t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}}_updateSize(){}_getMaxTextureSize(){let t=this.drawingContext;return t.getParameter(t.MAX_TEXTURE_SIZE)}_adjustDimensions(t,r){this._maxTextureSize||(this._maxTextureSize=this._getMaxTextureSize());let n=Math.floor(this._maxTextureSize/this._pixelDensity),i=Math.min(t,n),s=Math.min(r,n);return i===t&&s===r||console.warn(`Warning: The requested width/height exceeds hardware limits. Adjusting dimensions to width: ${i}, height: ${s}.`),{adjustedWidth:i,adjustedHeight:s}}_resetBuffersBeforeDraw(){this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this._userEnabledStencil||this._internalDisable.call(this.GL,this.GL.STENCIL_TEST)}_applyClip(){let t=this.GL;t.clearStencil(0),t.clear(t.STENCIL_BUFFER_BIT),this._internalEnable.call(t,t.STENCIL_TEST),this._stencilTestOn=!0,t.stencilFunc(t.ALWAYS,1,255),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.disable(t.DEPTH_TEST)}_unapplyClip(){let t=this.GL;t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.stencilFunc(this._clipInvert?t.EQUAL:t.NOTEQUAL,0,255),t.enable(t.DEPTH_TEST)}_clearClipBuffer(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),this._userEnabledStencil||this._internalDisable.call(this.GL,this.GL.STENCIL_TEST)}_getPixel(t,r){let n=this.GL;return iG(n,null,t,r,n.RGBA,n.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}loadPixels(){if(!0!==this._pInst._glAttributes.preserveDrawingBuffer)return void console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true.");let t=this._pixelDensity,r=this.GL;this.pixels=ij(this.pixels,r,null,0,0,this.width*t,this.height*t,r.RGBA,r.UNSIGNED_BYTE,this.height*t)}updatePixels(){let t=this._getTempFramebuffer();t.pixels=this.pixels,t.updatePixels(),this.push(),this.resetMatrix(),this.clear(),this.states.setValue("imageMode",C),this.image(t,0,0,t.width,t.height,-t.width/2,-t.height/2,t.width,t.height),this.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}zClipRange(){return[-1,1]}defaultNearScale(){return .1}defaultFarScale(){return 10}viewport(t,r){this._viewport=[0,0,t,r],this.GL.viewport(0,0,t,r)}_updateViewport(){this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height)}_createPixelsArray(){this.pixels=new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)}clear(...t){let r=t[0]||0,n=t[1]||0,i=t[2]||0,s=t[3]||0,a=this.activeFramebuffer();a&&a.format===eM&&!a.antialias&&0===s&&(s=1e-10),this.GL.clearColor(r*s,n*s,i*s,s),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}clearDepth(t=1){this.GL.clearDepth(t),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}_applyStencilTestIfClipping(){let t=this.drawTarget();t._isClipApplied!==this._stencilTestOn&&(t._isClipApplied?(this._internalEnable.call(this.GL,this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this._userEnabledStencil||this._internalDisable.call(this.GL,this.GL.STENCIL_TEST),this._stencilTestOn=!1))}baseMaterialShader(){if(!this._pInst._glAttributes.perPixelLighting)throw Error("The material shader does not support hooks without perPixelLighting. Try turning it back on.");return super.baseMaterialShader()}_getLightShader(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new iP(this,this._webGL2CompatibilityPrefix("vert","highp")+oE.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+oE.phongFrag,{vertex:{"void beforeVertex":"() {}","Vertex getObjectInputs":"(Vertex inputs) { return inputs; }","Vertex getWorldInputs":"(Vertex inputs) { return inputs; }","Vertex getCameraInputs":"(Vertex inputs) { return inputs; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 combineColors":"(ColorComponents components) {\n                vec4 color = vec4(0.);\n                color.rgb += components.diffuse * components.baseColor;\n                color.rgb += components.ambient * components.ambientColor;\n                color.rgb += components.specular * components.specularColor;\n                color.rgb += components.emissive;\n                color.a = components.opacity;\n                return color;\n              }","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}}):this._defaultLightShader=new iP(this,this._webGL2CompatibilityPrefix("vert","highp")+oE.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+oE.lightTextureFrag)),this._defaultLightShader}_getNormalShader(){return this._defaultNormalShader||(this._defaultNormalShader=new iP(this,this._webGL2CompatibilityPrefix("vert","mediump")+oE.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+oE.normalFrag,{vertex:{"void beforeVertex":"() {}","Vertex getObjectInputs":"(Vertex inputs) { return inputs; }","Vertex getWorldInputs":"(Vertex inputs) { return inputs; }","Vertex getCameraInputs":"(Vertex inputs) { return inputs; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultNormalShader}_getColorShader(){return this._defaultColorShader||(this._defaultColorShader=new iP(this,this._webGL2CompatibilityPrefix("vert","mediump")+oE.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+oE.basicFrag,{vertex:{"void beforeVertex":"() {}","Vertex getObjectInputs":"(Vertex inputs) { return inputs; }","Vertex getWorldInputs":"(Vertex inputs) { return inputs; }","Vertex getCameraInputs":"(Vertex inputs) { return inputs; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultColorShader}_getLineShader(){return this._defaultLineShader||(this._defaultLineShader=new iP(this,this._webGL2CompatibilityPrefix("vert","mediump")+oE.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+oE.lineFrag,{vertex:{"void beforeVertex":"() {}","StrokeVertex getObjectInputs":"(StrokeVertex inputs) { return inputs; }","StrokeVertex getWorldInputs":"(StrokeVertex inputs) { return inputs; }","StrokeVertex getCameraInputs":"(StrokeVertex inputs) { return inputs; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultLineShader}_getFontShader(){return this._defaultFontShader||(this.webglVersion===l&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new iP(this,this._webGL2CompatibilityPrefix("vert","highp")+oE.fontVert,this._webGL2CompatibilityPrefix("frag","highp")+oE.fontFrag)),this._defaultFontShader}baseFilterShader(){return this._baseFilterShader||(this._baseFilterShader=new iP(this,this._webGL2CompatibilityPrefix("vert","highp")+oE.filterBaseVert,this._webGL2CompatibilityPrefix("frag","highp")+oE.filterBaseFrag,{vertex:{},fragment:{"vec4 getColor":"(FilterInputs inputs, in sampler2D canvasContent) {\n                return getTexture(canvasContent, inputs.texCoord);\n              }"}})),this._baseFilterShader}_webGL2CompatibilityPrefix(t,r){let n="";return this.webglVersion===u&&(n+="#version 300 es\n#define WEBGL2\n"),"vert"===t?n+="#define VERTEX_SHADER\n":"frag"===t&&(n+="#define FRAGMENT_SHADER\n"),r&&(n+=`precision ${r} float;
`),n}_createImageLightShader(t){if("diffused"===t)return this._pInst.createShader(oE.imageLightVert,oE.imageLightDiffusedFrag);if("specular"===t)return this._pInst.createShader(oE.imageLightVert,oE.imageLightSpecularFrag);throw Error(`Unknown imageLight shader type: ${t}`)}_createMipmapTexture(t){return new iz(this,t,{})}_prepareMipmapData(t,r){return{levels:[],size:t,mipLevels:r}}_accumulateMipLevel(t,r,n,i,s){let a=t.get().drawingContext.getImageData(0,0,i,s);r.levels.push(a)}_finalizeMipmapTexture(t){return new iz(this,t.levels,{minFilter:ev,magFilter:ef})}createMipmapTextureHandle({levels:t,format:r,dataType:n,width:i,height:s}){let a=this.GL,o=a.createTexture();a.bindTexture(a.TEXTURE_2D,o);let l=a.RGBA,u=a.UNSIGNED_BYTE;for(let r=0;r<t.length;r++)a.texImage2D(a.TEXTURE_2D,r,l,l,u,t[r]);return a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_LINEAR),a.bindTexture(a.TEXTURE_2D,null),{texture:o,glFormat:l,glDataType:u}}_bindBuffer(t,r,n,i,s){let a=this.GL;if(r||(r=a.ARRAY_BUFFER),a.bindBuffer(r,t),void 0!==n){let t=this._normalizeBufferData(n,i);a.bufferData(r,t,s||a.STATIC_DRAW)}}_prepareBuffer(t,r,n){let i=n.attributes,s=this.GL,a=this._getOrMakeCachedBuffers(r),o=i[t.attr];if(!o)return;let l=a[t.dst],u=r[t.src];if(u&&u.length>0){let i=!l;if(i&&(a[t.dst]=l=s.createBuffer()),s.bindBuffer(s.ARRAY_BUFFER,l),i||!1!==r.dirtyFlags[t.src]){let n=t.map,i=n?n(u):u;this._bindBuffer(l,s.ARRAY_BUFFER,i),r.dirtyFlags[t.src]=!1}n.enableAttrib(o,t.size)}else{let t=o.location;if(-1===t||!this.registerEnabled.has(t))return;s.disableVertexAttribArray(t),this.registerEnabled.delete(t)}}_enableAttrib(t,r,n,i,s,a,o){let l=r.location,u=this.GL;this.registerEnabled.has(l)||(u.enableVertexAttribArray(l),this.registerEnabled.add(l)),u.vertexAttribPointer(l,n,i||u.FLOAT,s||!1,a||0,o||0)}_ensureGeometryBuffers(t,r,n){let i=this.GL;if(r){let s=t.indexBuffer;s||(s=i.createBuffer()),this._bindBuffer(s,i.ELEMENT_ARRAY_BUFFER,r,n),t.indexBuffer=s,t.indexBufferType=n===Uint32Array?i.UNSIGNED_INT:i.UNSIGNED_SHORT}else t.indexBuffer&&(i.deleteBuffer(t.indexBuffer),t.indexBuffer=null)}_freeBuffers(t){let r=this.GL;function n(n){for(let i of n)t[i.dst]&&(r.deleteBuffer(t[i.dst]),t[i.dst]=null)}t.indexBuffer&&r.deleteBuffer(t.indexBuffer),n(this.buffers.stroke),n(this.buffers.fill),n(this.buffers.user)}_initShader(t){let r=this.GL,n=r.createShader(r.VERTEX_SHADER);if(r.shaderSource(n,t.vertSrc()),r.compileShader(n),!r.getShaderParameter(n,r.COMPILE_STATUS))throw Error(`Yikes! An error occurred compiling the vertex shader: ${r.getShaderInfoLog(n)} in:

${t.vertSrc()}`);let i=r.createShader(r.FRAGMENT_SHADER);if(r.shaderSource(i,t.fragSrc()),r.compileShader(i),!r.getShaderParameter(i,r.COMPILE_STATUS))throw Error(`Darn! An error occurred compiling the fragment shader: ${r.getShaderInfoLog(i)}`);let s=r.createProgram();if(r.attachShader(s,n),r.attachShader(s,i),r.linkProgram(s),!r.getProgramParameter(s,r.LINK_STATUS))throw Error(`Snap! Error linking shader program: ${r.getProgramInfoLog(s)}`);t._glProgram=s,t._vertShader=n,t._fragShader=i}_finalizeShader(){}_getShaderAttributes(t){return iq(t,this.GL)}getUniformMetadata(t){return iW(t,this.GL)}updateUniformValue(t,r,n){return iH(t,r,n,t=>this.getTexture(t),this.GL)}_updateTexture(t,r){let n=this.GL;n.activeTexture(n.TEXTURE0+t.samplerIndex),r.bindTexture(),r.update(),n.uniform1i(t.location,t.samplerIndex)}bindTexture(t){this.GL.bindTexture(this.GL.TEXTURE_2D,t.getTexture().texture)}unbindTexture(){this.GL.bindTexture(this.GL.TEXTURE_2D,null)}_unbindFramebufferTexture(t){let r=this.GL,n=this._getEmptyTexture();r.activeTexture(r.TEXTURE0+t.samplerIndex),n.bindTexture(),r.uniform1i(t.location,t.samplerIndex)}createTexture({width:t,height:r,format:n,dataType:i}){let s=this.GL,a=s.createTexture();return s.bindTexture(s.TEXTURE_2D,a),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,t,r,0,s.RGBA,s.UNSIGNED_BYTE,null),{texture:a,glFormat:s.RGBA,glDataType:s.UNSIGNED_BYTE}}createFramebufferTextureHandle(t){return null}uploadTextureFromSource({texture:t,glFormat:r,glDataType:n},i){let s=this.GL;s.texImage2D(s.TEXTURE_2D,0,r,r,n,i)}uploadTextureFromData({texture:t,glFormat:r,glDataType:n},i,s,a){let o=this.GL;o.texImage2D(o.TEXTURE_2D,0,r,s,a,0,r,n,i)}getSampler(t){}bindTextureToShader({texture:t},r,n,i){let s=this.GL;s.activeTexture(s.TEXTURE0+i),s.bindTexture(s.TEXTURE_2D,t);let a=s.getUniformLocation(glProgram,n);s.uniform1i(a,i)}setTextureParams(t){return i$(t,this.GL,this.webglVersion)}deleteTexture({texture:t}){this.GL.deleteTexture(t)}_applyColorBlend(t,r){let n=this.GL,i=this.states.drawMode===eg,s=r||this.states.userFillShader||this.states.userStrokeShader||i||this.states.curBlendMode!==j||t[t.length-1]<1||this._isErasing;return s!==this._isBlending&&(s||this.states.curBlendMode!==j&&this.states.curBlendMode!==$?n.enable(n.BLEND):n.disable(n.BLEND),n.depthMask(!0),this._isBlending=s),this._applyBlendMode(),t}uniformNameFromHookKey(t){return t.slice(t.indexOf(" ")+1)}populateHooks(t,r,n){return iY(t,r,n)}getShaderHookTypes(t,r){return sX(t,r)}defaultFramebufferAlpha(){return this._pInst._glAttributes.alpha}defaultFramebufferAntialias(){return!!this.supportsFramebufferAntialias()&&this._pInst._glAttributes.antialias}supportsFramebufferAntialias(){return this.webglVersion===u}createFramebufferResources(t){let r=this.GL;if(t.framebuffer=r.createFramebuffer(),!t.framebuffer)throw Error("Unable to create a framebuffer");if(t.antialias&&(t.aaFramebuffer=r.createFramebuffer(),!t.aaFramebuffer))throw Error("Unable to create a framebuffer for antialiasing")}validateFramebufferFormats(t){let r=this.GL;t.useDepth&&this.webglVersion===l&&!r.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),t.useDepth=!1),t.useDepth&&this.webglVersion===l&&t.depthFormat===eB&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),t.depthFormat=eI),[eM,eB,eP].includes(t.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),t.format=eM),t.useDepth&&![eI,eB].includes(t.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),t.depthFormat=eB);let n=iX(this);n.float||t.format!==eB||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),t.format=eM),t.useDepth&&!n.float&&t.depthFormat===eB&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),t.depthFormat=eI),n.halfFloat||t.format!==eP||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),t.format=eM),t.channels===rN&&[eB,eP].includes(t.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),t.channels=rH)}recreateFramebufferTextures(t){let r=this.GL,n=r.getParameter(r.TEXTURE_BINDING_2D),i=r.getParameter(r.FRAMEBUFFER_BINDING),s=r.createTexture();if(!s)throw Error("Unable to create color texture");r.bindTexture(r.TEXTURE_2D,s);let a=this._getFramebufferColorFormat(t);if(r.texImage2D(r.TEXTURE_2D,0,a.internalFormat,t.width*t.density,t.height*t.density,0,a.format,a.type,null),t.colorTexture=s,r.bindFramebuffer(r.FRAMEBUFFER,t.framebuffer),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,s,0),t.useDepth){let n=r.createTexture();if(!n)throw Error("Unable to create depth texture");let i=this._getFramebufferDepthFormat(t);r.bindTexture(r.TEXTURE_2D,n),r.texImage2D(r.TEXTURE_2D,0,i.internalFormat,t.width*t.density,t.height*t.density,0,i.format,i.type,null),r.framebufferTexture2D(r.FRAMEBUFFER,t.useStencil?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,r.TEXTURE_2D,n,0),t.depthTexture=n}if(t.antialias){if(t.colorRenderbuffer=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,t.colorRenderbuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,Math.max(0,Math.min(t.antialiasSamples,r.getParameter(r.MAX_SAMPLES))),a.internalFormat,t.width*t.density,t.height*t.density),t.useDepth){let n=this._getFramebufferDepthFormat(t);t.depthRenderbuffer=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,t.depthRenderbuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,Math.max(0,Math.min(t.antialiasSamples,r.getParameter(r.MAX_SAMPLES))),n.internalFormat,t.width*t.density,t.height*t.density)}r.bindFramebuffer(r.FRAMEBUFFER,t.aaFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,t.colorRenderbuffer),t.useDepth&&r.framebufferRenderbuffer(r.FRAMEBUFFER,t.useStencil?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,r.RENDERBUFFER,t.depthRenderbuffer)}r.bindTexture(r.TEXTURE_2D,n),r.bindFramebuffer(r.FRAMEBUFFER,i)}_getFramebufferColorFormat(t){let r,n,i=this.GL;return{internalFormat:(r=t.format===eB?i.FLOAT:t.format===eP?this.webglVersion===u?i.HALF_FLOAT:i.getExtension("OES_texture_half_float").HALF_FLOAT_OES:i.UNSIGNED_BYTE,n=t.channels===rH?i.RGBA:i.RGB,this.webglVersion===u?({[i.FLOAT]:{[i.RGBA]:i.RGBA32F},[i.HALF_FLOAT]:{[i.RGBA]:i.RGBA16F},[i.UNSIGNED_BYTE]:{[i.RGBA]:i.RGBA8,[i.RGB]:i.RGB8}})[r][n]:t.format===eP?i.RGBA:n),format:n,type:r}}_getFramebufferDepthFormat(t){let r,n,i=this.GL;return r=t.useStencil?t.depthFormat===eB?i.FLOAT_32_UNSIGNED_INT_24_8_REV:this.webglVersion===u?i.UNSIGNED_INT_24_8:i.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:t.depthFormat===eB?i.FLOAT:i.UNSIGNED_INT,n=t.useStencil?i.DEPTH_STENCIL:i.DEPTH_COMPONENT,{internalFormat:t.useStencil?t.depthFormat===eB?i.DEPTH32F_STENCIL8:this.webglVersion===u?i.DEPTH24_STENCIL8:i.DEPTH_STENCIL:this.webglVersion===u?t.depthFormat===eB?i.DEPTH_COMPONENT32F:i.DEPTH_COMPONENT24:i.DEPTH_COMPONENT,format:n,type:r}}_deleteFramebufferTexture(t){this.GL.deleteTexture(t.rawTexture().texture),this.textures.delete(t)}deleteFramebufferTextures(t){this._deleteFramebufferTexture(t.color),t.depth&&this._deleteFramebufferTexture(t.depth);let r=this.GL;t.colorRenderbuffer&&r.deleteRenderbuffer(t.colorRenderbuffer),t.depthRenderbuffer&&r.deleteRenderbuffer(t.depthRenderbuffer)}deleteFramebufferResources(t){let r=this.GL;r.deleteFramebuffer(t.framebuffer),t.aaFramebuffer&&r.deleteFramebuffer(t.aaFramebuffer),t.depthRenderbuffer&&r.deleteRenderbuffer(t.depthRenderbuffer),t.colorRenderbuffer&&r.deleteRenderbuffer(t.colorRenderbuffer)}getFramebufferToBind(t){return t.antialias?t.aaFramebuffer:t.framebuffer}updateFramebufferTexture(t,r){if(t.antialias){let n=this.GL;n.bindFramebuffer(n.READ_FRAMEBUFFER,t.aaFramebuffer),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,t.framebuffer);let i={colorTexture:[n.COLOR_BUFFER_BIT,t.colorP5Texture.magFilter===ef?n.LINEAR:n.NEAREST]};t.useDepth&&(i.depthTexture=[n.DEPTH_BUFFER_BIT,t.depthP5Texture.magFilter===ef?n.LINEAR:n.NEAREST]);let[s,a]=i[r];n.blitFramebuffer(0,0,t.width*t.density,t.height*t.density,0,0,t.width*t.density,t.height*t.density,s,a);let o=this.activeFramebuffer();this.bindFramebuffer(o)}}bindFramebuffer(t){let r=this.GL;r.bindFramebuffer(r.FRAMEBUFFER,t?this.getFramebufferToBind(t):null)}framebufferYScale(){return -1}readFramebufferPixels(t){let r=this.GL,n=this.activeFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,t.framebuffer);let i=this._getFramebufferColorFormat(t),s=ij(t.pixels,r,t.framebuffer,0,0,t.width*t.density,t.height*t.density,i.format,i.type);return this.bindFramebuffer(n),s}readFramebufferPixel(t,r,n){let i=this._getFramebufferColorFormat(t);return iG(this.GL,t.framebuffer,r,n,i.format,i.type)}readFramebufferRegion(t,r,n,i,s){let a=this.GL,o=this._getFramebufferColorFormat(t),l=ij(void 0,a,t.framebuffer,r*t.density,n*t.density,i*t.density,s*t.density,o.format,o.type),u=new Uint8ClampedArray(i*s*t.density*t.density*4);u.fill(255);let h=o.format===a.RGB?3:4;for(let r=0;r<s*t.density;r++)for(let n=0;n<i*t.density;n++)for(let s=0;s<4;s++){let a=4*(r*i*t.density+n)+s;if(s<h){let o=4===h?a:(r*i*t.density+n)*h+s;u[a]=l[o]}}let c=new r6(i*t.density,s*t.density);return c.imageData=c.canvas.getContext("2d").createImageData(c.width,c.height),c.imageData.data.set(u),c.pixels=c.imageData.data,c.updatePixels(),1!==t.density&&c.pixelDensity(t.density),c}updateFramebufferPixels(t){let r=this.GL;t.colorP5Texture.bindTexture();let n=this._getFramebufferColorFormat(t),i=n.format===r.RGBA?4:3,s=t.width*t.height*t.density*t.density*i,a=n.type===r.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(t.pixels instanceof a)||t.pixels.length!==s)throw Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");r.texImage2D(r.TEXTURE_2D,0,n.internalFormat,t.width*t.density,t.height*t.density,0,n.format,n.type,t.pixels),t.colorP5Texture.unbindTexture(),t.dirty.colorTexture=!1;let o=this.activeFramebuffer();t.antialias?(t.begin(),this.push(),this.states.setValue("imageMode",C),this.setCamera(t.filterCamera),this.resetMatrix(),this.states.setValue("strokeColor",null),this.clear(),this._drawingFilter=!0,this.image(t,0,0,t.width,t.height,-this.width/2,-this.height/2,this.width,this.height),this._drawingFilter=!1,this.pop(),t.useDepth&&(r.clearDepth(1),r.clear(r.DEPTH_BUFFER_BIT)),t.end()):(r.bindFramebuffer(r.FRAMEBUFFER,t.framebuffer),t.useDepth&&(r.clearDepth(1),r.clear(r.DEPTH_BUFFER_BIT)),this.bindFramebuffer(o))}getNoiseShaderSnippet(){return sK}}function oA(t,r){t.RendererGL=oD,r.setAttributes=function(t,r){return this._renderer._setAttributes(t,r)},r._assert3d=function(t){if(!this._renderer.isP3D)throw Error(`${t}() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information.`)},t.renderers[l]=t.RendererGL,t.renderers[u]=t.RendererGL}void 0!==m&&oA(m,m.prototype);var ok=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],oT=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],oF="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",oM={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},oI="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",oB={5:oI,"5module":oI+" export import",6:oI+" const class extends export import super"},oP=/^in(stanceof)?$/,oL=RegExp("["+oF+"]"),oN=RegExp("["+oF+"-----------------------------------------------------------------------------------------------------------------------------------------------------]");function oO(t,r){for(var n=65536,i=0;i<r.length&&!((n+=r[i])>t);i+=2)if((n+=r[i+1])>=t)return!0;return!1}function oR(t,r){return t<65?36===t:t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&oL.test(String.fromCharCode(t)):!1!==r&&oO(t,oT)))}function oV(t,r){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&oN.test(String.fromCharCode(t)):!1!==r&&(oO(t,oT)||oO(t,ok)))))}var oz=function(t,r){void 0===r&&(r={}),this.label=t,this.keyword=r.keyword,this.beforeExpr=!!r.beforeExpr,this.startsExpr=!!r.startsExpr,this.isLoop=!!r.isLoop,this.isAssign=!!r.isAssign,this.prefix=!!r.prefix,this.postfix=!!r.postfix,this.binop=r.binop||null,this.updateContext=null};function oU(t,r){return new oz(t,{beforeExpr:!0,binop:r})}var oj={beforeExpr:!0},oG={startsExpr:!0},o$={};function oH(t,r){return void 0===r&&(r={}),r.keyword=t,o$[t]=new oz(t,r)}var oW={num:new oz("num",oG),regexp:new oz("regexp",oG),string:new oz("string",oG),name:new oz("name",oG),privateId:new oz("privateId",oG),eof:new oz("eof"),bracketL:new oz("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new oz("]"),braceL:new oz("{",{beforeExpr:!0,startsExpr:!0}),braceR:new oz("}"),parenL:new oz("(",{beforeExpr:!0,startsExpr:!0}),parenR:new oz(")"),comma:new oz(",",oj),semi:new oz(";",oj),colon:new oz(":",oj),dot:new oz("."),question:new oz("?",oj),questionDot:new oz("?."),arrow:new oz("=>",oj),template:new oz("template"),invalidTemplate:new oz("invalidTemplate"),ellipsis:new oz("...",oj),backQuote:new oz("`",oG),dollarBraceL:new oz("${",{beforeExpr:!0,startsExpr:!0}),eq:new oz("=",{beforeExpr:!0,isAssign:!0}),assign:new oz("_=",{beforeExpr:!0,isAssign:!0}),incDec:new oz("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new oz("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:oU("||",1),logicalAND:oU("&&",2),bitwiseOR:oU("|",3),bitwiseXOR:oU("^",4),bitwiseAND:oU("&",5),equality:oU("==/!=/===/!==",6),relational:oU("</>/<=/>=",7),bitShift:oU("<</>>/>>>",8),plusMin:new oz("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:oU("%",10),star:oU("*",10),slash:oU("/",10),starstar:new oz("**",{beforeExpr:!0}),coalesce:oU("??",1),_break:oH("break"),_case:oH("case",oj),_catch:oH("catch"),_continue:oH("continue"),_debugger:oH("debugger"),_default:oH("default",oj),_do:oH("do",{isLoop:!0,beforeExpr:!0}),_else:oH("else",oj),_finally:oH("finally"),_for:oH("for",{isLoop:!0}),_function:oH("function",oG),_if:oH("if"),_return:oH("return",oj),_switch:oH("switch"),_throw:oH("throw",oj),_try:oH("try"),_var:oH("var"),_const:oH("const"),_while:oH("while",{isLoop:!0}),_with:oH("with"),_new:oH("new",{beforeExpr:!0,startsExpr:!0}),_this:oH("this",oG),_super:oH("super",oG),_class:oH("class",oG),_extends:oH("extends",oj),_export:oH("export"),_import:oH("import",oG),_null:oH("null",oG),_true:oH("true",oG),_false:oH("false",oG),_in:oH("in",{beforeExpr:!0,binop:7}),_instanceof:oH("instanceof",{beforeExpr:!0,binop:7}),_typeof:oH("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:oH("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:oH("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},oq=/\r\n?|\n|\u2028|\u2029/,oY=RegExp(oq.source,"g");function oX(t){return 10===t||13===t||8232===t||8233===t}function oK(t,r,n){void 0===n&&(n=t.length);for(var i=r;i<n;i++){var s=t.charCodeAt(i);if(oX(s))return i<n-1&&13===s&&10===t.charCodeAt(i+1)?i+2:i+1}return -1}var oZ=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,oQ=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,oJ=Object.prototype,o0=oJ.hasOwnProperty,o1=oJ.toString,o2=Object.hasOwn||function(t,r){return o0.call(t,r)},o5=Array.isArray||function(t){return"[object Array]"===o1.call(t)},o3=Object.create(null);function o4(t){return o3[t]||(o3[t]=RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}function o6(t){return t<=65535?String.fromCharCode(t):String.fromCharCode(55296+((t-=65536)>>10),56320+(1023&t))}var o8=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,o9=function(t,r){this.line=t,this.column=r};o9.prototype.offset=function(t){return new o9(this.line,this.column+t)};var o7=function(t,r,n){this.start=r,this.end=n,null!==t.sourceFile&&(this.source=t.sourceFile)};function le(t,r){for(var n=1,i=0;;){var s=oK(t,i,r);if(s<0)return new o9(n,r-i);++n,i=s}}var lt={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},lr=!1;function ln(t,r){return 2|4*!!t|8*!!r}var li=function(t,r,n){this.options=t=function(t){var r,n={};for(var i in lt)n[i]=t&&o2(t,i)?t[i]:lt[i];if("latest"===n.ecmaVersion?n.ecmaVersion=1e8:null==n.ecmaVersion?(!lr&&"object"==typeof console&&console.warn&&(lr=!0,console.warn("Since Acorn 8.0.0, options.ecmaVersion is required.\nDefaulting to 2020, but this will stop working in the future.")),n.ecmaVersion=11):n.ecmaVersion>=2015&&(n.ecmaVersion-=2009),null==n.allowReserved&&(n.allowReserved=n.ecmaVersion<5),t&&null!=t.allowHashBang||(n.allowHashBang=n.ecmaVersion>=14),o5(n.onToken)){var s=n.onToken;n.onToken=function(t){return s.push(t)}}return o5(n.onComment)&&(r=n.onComment,n.onComment=function(t,i,s,a,o,l){var u={type:t?"Block":"Line",value:i,start:s,end:a};n.locations&&(u.loc=new o7(this,o,l)),n.ranges&&(u.range=[s,a]),r.push(u)}),n}(t),this.sourceFile=t.sourceFile,this.keywords=o4(oB[t.ecmaVersion>=6?6:"module"===t.sourceType?"5module":5]);var i="";!0!==t.allowReserved&&(i=oM[t.ecmaVersion>=6?6:5===t.ecmaVersion?5:3],"module"===t.sourceType&&(i+=" await")),this.reservedWords=o4(i);var s=(i?i+" ":"")+oM.strict;this.reservedWordsStrict=o4(s),this.reservedWordsStrictBind=o4(s+" "+oM.strictBind),this.input=String(r),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf("\n",n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(oq).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=oW.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===t.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),0===this.pos&&t.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null,this.privateNameStack=[]},ls={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};li.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)},ls.inFunction.get=function(){return(2&this.currentVarScope().flags)>0},ls.inGenerator.get=function(){return(8&this.currentVarScope().flags)>0},ls.inAsync.get=function(){return(4&this.currentVarScope().flags)>0},ls.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var r=this.scopeStack[t].flags;if(768&r)return!1;if(2&r)return(4&r)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},ls.allowSuper.get=function(){return(64&this.currentThisScope().flags)>0||this.options.allowSuperOutsideMethod},ls.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},ls.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},ls.allowNewDotTarget.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var r=this.scopeStack[t].flags;if(768&r||2&r&&!(16&r))return!0}return!1},ls.inClassStaticBlock.get=function(){return(256&this.currentVarScope().flags)>0},li.extend=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];for(var n=this,i=0;i<t.length;i++)n=t[i](n);return n},li.parse=function(t,r){return new this(r,t).parse()},li.parseExpressionAt=function(t,r,n){var i=new this(n,t,r);return i.nextToken(),i.parseExpression()},li.tokenizer=function(t,r){return new this(r,t)},Object.defineProperties(li.prototype,ls);var la=li.prototype,lo=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;la.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){oQ.lastIndex=t,t+=oQ.exec(this.input)[0].length;var r=lo.exec(this.input.slice(t));if(!r)return!1;if("use strict"===(r[1]||r[2])){oQ.lastIndex=t+r[0].length;var n=oQ.exec(this.input),i=n.index+n[0].length,s=this.input.charAt(i);return";"===s||"}"===s||oq.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(s)||"!"===s&&"="===this.input.charAt(i+1))}oQ.lastIndex=t+=r[0].length,t+=oQ.exec(this.input)[0].length,";"===this.input[t]&&t++}},la.eat=function(t){return this.type===t&&(this.next(),!0)},la.isContextual=function(t){return this.type===oW.name&&this.value===t&&!this.containsEsc},la.eatContextual=function(t){return!!this.isContextual(t)&&(this.next(),!0)},la.expectContextual=function(t){this.eatContextual(t)||this.unexpected()},la.canInsertSemicolon=function(){return this.type===oW.eof||this.type===oW.braceR||oq.test(this.input.slice(this.lastTokEnd,this.start))},la.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},la.semicolon=function(){this.eat(oW.semi)||this.insertSemicolon()||this.unexpected()},la.afterTrailingComma=function(t,r){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),r||this.next(),!0},la.expect=function(t){this.eat(t)||this.unexpected()},la.unexpected=function(t){this.raise(null!=t?t:this.start,"Unexpected token")};var ll=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};la.checkPatternErrors=function(t,r){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var n=r?t.parenthesizedAssign:t.parenthesizedBind;n>-1&&this.raiseRecoverable(n,r?"Assigning to rvalue":"Parenthesized pattern")}},la.checkExpressionErrors=function(t,r){if(!t)return!1;var n=t.shorthandAssign,i=t.doubleProto;if(!r)return n>=0||i>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),i>=0&&this.raiseRecoverable(i,"Redefinition of __proto__ property")},la.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},la.isSimpleAssignTarget=function(t){return"ParenthesizedExpression"===t.type?this.isSimpleAssignTarget(t.expression):"Identifier"===t.type||"MemberExpression"===t.type};var lu=li.prototype;lu.parseTopLevel=function(t){var r=Object.create(null);for(t.body||(t.body=[]);this.type!==oW.eof;){var n=this.parseStatement(null,!0,r);t.body.push(n)}if(this.inModule)for(var i=0,s=Object.keys(this.undefinedExports);i<s.length;i+=1){var a=s[i];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var lh={kind:"loop"},lc={kind:"switch"};lu.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;oQ.lastIndex=this.pos;var r=oQ.exec(this.input),n=this.pos+r[0].length,i=this.input.charCodeAt(n);if(91===i||92===i)return!0;if(t)return!1;if(123===i||i>55295&&i<56320)return!0;if(oR(i,!0)){for(var s=n+1;oV(i=this.input.charCodeAt(s),!0);)++s;if(92===i||i>55295&&i<56320)return!0;var a=this.input.slice(n,s);if(!oP.test(a))return!0}return!1},lu.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;oQ.lastIndex=this.pos;var t,r=oQ.exec(this.input),n=this.pos+r[0].length;return!(oq.test(this.input.slice(this.pos,n))||"function"!==this.input.slice(n,n+8)||n+8!==this.input.length&&(oV(t=this.input.charCodeAt(n+8))||t>55295&&t<56320))},lu.isUsingKeyword=function(t,r){if(this.options.ecmaVersion<17||!this.isContextual(t?"await":"using"))return!1;oQ.lastIndex=this.pos;var n=oQ.exec(this.input),i=this.pos+n[0].length;if(oq.test(this.input.slice(this.pos,i)))return!1;if(t){var s,a=i+5;if("using"!==this.input.slice(i,a)||a===this.input.length||oV(s=this.input.charCodeAt(a))||s>55295&&s<56320)return!1;oQ.lastIndex=a;var o=oQ.exec(this.input);if(o&&oq.test(this.input.slice(a,a+o[0].length)))return!1}if(r){var l,u=i+2;if(!("of"!==this.input.slice(i,u)||u!==this.input.length&&(oV(l=this.input.charCodeAt(u))||l>55295&&l<56320)))return!1}var h=this.input.charCodeAt(i);return oR(h,!0)||92===h},lu.isAwaitUsing=function(t){return this.isUsingKeyword(!0,t)},lu.isUsing=function(t){return this.isUsingKeyword(!1,t)},lu.parseStatement=function(t,r,n){var i,s=this.type,a=this.startNode();switch(this.isLet(t)&&(s=oW._var,i="let"),s){case oW._break:case oW._continue:return this.parseBreakContinueStatement(a,s.keyword);case oW._debugger:return this.parseDebuggerStatement(a);case oW._do:return this.parseDoStatement(a);case oW._for:return this.parseForStatement(a);case oW._function:return t&&(this.strict||"if"!==t&&"label"!==t)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(a,!1,!t);case oW._class:return t&&this.unexpected(),this.parseClass(a,!0);case oW._if:return this.parseIfStatement(a);case oW._return:return this.parseReturnStatement(a);case oW._switch:return this.parseSwitchStatement(a);case oW._throw:return this.parseThrowStatement(a);case oW._try:return this.parseTryStatement(a);case oW._const:case oW._var:return i=i||this.value,t&&"var"!==i&&this.unexpected(),this.parseVarStatement(a,i);case oW._while:return this.parseWhileStatement(a);case oW._with:return this.parseWithStatement(a);case oW.braceL:return this.parseBlock(!0,a);case oW.semi:return this.parseEmptyStatement(a);case oW._export:case oW._import:if(this.options.ecmaVersion>10&&s===oW._import){oQ.lastIndex=this.pos;var o=oQ.exec(this.input),l=this.pos+o[0].length,u=this.input.charCodeAt(l);if(40===u||46===u)return this.parseExpressionStatement(a,this.parseExpression())}return this.options.allowImportExportEverywhere||(r||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),s===oW._import?this.parseImport(a):this.parseExport(a,n);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(a,!0,!t);var h=this.isAwaitUsing(!1)?"await using":this.isUsing(!1)?"using":null;if(h)return r&&"script"===this.options.sourceType&&this.raise(this.start,"Using declaration cannot appear in the top level when source type is `script`"),"await using"===h&&(this.canAwait||this.raise(this.start,"Await using cannot appear outside of async function"),this.next()),this.next(),this.parseVar(a,!1,h),this.semicolon(),this.finishNode(a,"VariableDeclaration");var c=this.value,d=this.parseExpression();return s===oW.name&&"Identifier"===d.type&&this.eat(oW.colon)?this.parseLabeledStatement(a,c,d,t):this.parseExpressionStatement(a,d)}},lu.parseBreakContinueStatement=function(t,r){var n="break"===r;this.next(),this.eat(oW.semi)||this.insertSemicolon()?t.label=null:this.type!==oW.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var i=0;i<this.labels.length;++i){var s=this.labels[i];if((null==t.label||s.name===t.label.name)&&(null!=s.kind&&(n||"loop"===s.kind)||t.label&&n))break}return i===this.labels.length&&this.raise(t.start,"Unsyntactic "+r),this.finishNode(t,n?"BreakStatement":"ContinueStatement")},lu.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")},lu.parseDoStatement=function(t){return this.next(),this.labels.push(lh),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(oW._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(oW.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")},lu.parseForStatement=function(t){this.next();var r=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(lh),this.enterScope(0),this.expect(oW.parenL),this.type===oW.semi)return r>-1&&this.unexpected(r),this.parseFor(t,null);var n=this.isLet();if(this.type===oW._var||this.type===oW._const||n){var i=this.startNode(),s=n?"let":this.value;return this.next(),this.parseVar(i,!0,s),this.finishNode(i,"VariableDeclaration"),this.parseForAfterInit(t,i,r)}var a=this.isContextual("let"),o=!1,l=this.isUsing(!0)?"using":this.isAwaitUsing(!0)?"await using":null;if(l){var u=this.startNode();return this.next(),"await using"===l&&this.next(),this.parseVar(u,!0,l),this.finishNode(u,"VariableDeclaration"),this.parseForAfterInit(t,u,r)}var h=this.containsEsc,c=new ll,d=this.start,p=r>-1?this.parseExprSubscripts(c,"await"):this.parseExpression(!0,c);return this.type===oW._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(r>-1?(this.type===oW._in&&this.unexpected(r),t.await=!0):o&&this.options.ecmaVersion>=8&&(p.start!==d||h||"Identifier"!==p.type||"async"!==p.name?this.options.ecmaVersion>=9&&(t.await=!1):this.unexpected()),a&&o&&this.raise(p.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(p,!1,c),this.checkLValPattern(p),this.parseForIn(t,p)):(this.checkExpressionErrors(c,!0),r>-1&&this.unexpected(r),this.parseFor(t,p))},lu.parseForAfterInit=function(t,r,n){return(this.type===oW._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===r.declarations.length?(this.options.ecmaVersion>=9&&(this.type===oW._in?n>-1&&this.unexpected(n):t.await=n>-1),this.parseForIn(t,r)):(n>-1&&this.unexpected(n),this.parseFor(t,r))},lu.parseFunctionStatement=function(t,r,n){return this.next(),this.parseFunction(t,lp|(n?0:lf),!1,r)},lu.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(oW._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")},lu.parseReturnStatement=function(t){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(oW.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")},lu.parseSwitchStatement=function(t){var r;this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(oW.braceL),this.labels.push(lc),this.enterScope(0);for(var n=!1;this.type!==oW.braceR;)if(this.type===oW._case||this.type===oW._default){var i=this.type===oW._case;r&&this.finishNode(r,"SwitchCase"),t.cases.push(r=this.startNode()),r.consequent=[],this.next(),i?r.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,r.test=null),this.expect(oW.colon)}else r||this.unexpected(),r.consequent.push(this.parseStatement(null));return this.exitScope(),r&&this.finishNode(r,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")},lu.parseThrowStatement=function(t){return this.next(),oq.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var ld=[];lu.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),r="Identifier"===t.type;return this.enterScope(32*!!r),this.checkLValPattern(t,r?4:2),this.expect(oW.parenR),t},lu.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===oW._catch){var r=this.startNode();this.next(),this.eat(oW.parenL)?r.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),r.param=null,this.enterScope(0)),r.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(r,"CatchClause")}return t.finalizer=this.eat(oW._finally)?this.parseBlock():null,t.handler||t.finalizer||this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")},lu.parseVarStatement=function(t,r,n){return this.next(),this.parseVar(t,!1,r,n),this.semicolon(),this.finishNode(t,"VariableDeclaration")},lu.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(lh),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")},lu.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")},lu.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")},lu.parseLabeledStatement=function(t,r,n,i){for(var s=0,a=this.labels;s<a.length;s+=1)a[s].name===r&&this.raise(n.start,"Label '"+r+"' is already declared");for(var o=this.type.isLoop?"loop":this.type===oW._switch?"switch":null,l=this.labels.length-1;l>=0;l--){var u=this.labels[l];if(u.statementStart!==t.start)break;u.statementStart=this.start,u.kind=o}return this.labels.push({name:r,kind:o,statementStart:this.start}),t.body=this.parseStatement(i?-1===i.indexOf("label")?i+"label":i:"label"),this.labels.pop(),t.label=n,this.finishNode(t,"LabeledStatement")},lu.parseExpressionStatement=function(t,r){return t.expression=r,this.semicolon(),this.finishNode(t,"ExpressionStatement")},lu.parseBlock=function(t,r,n){for(void 0===t&&(t=!0),void 0===r&&(r=this.startNode()),r.body=[],this.expect(oW.braceL),t&&this.enterScope(0);this.type!==oW.braceR;){var i=this.parseStatement(null);r.body.push(i)}return n&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(r,"BlockStatement")},lu.parseFor=function(t,r){return t.init=r,this.expect(oW.semi),t.test=this.type===oW.semi?null:this.parseExpression(),this.expect(oW.semi),t.update=this.type===oW.parenR?null:this.parseExpression(),this.expect(oW.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")},lu.parseForIn=function(t,r){var n=this.type===oW._in;return this.next(),"VariableDeclaration"===r.type&&null!=r.declarations[0].init&&(!n||this.options.ecmaVersion<8||this.strict||"var"!==r.kind||"Identifier"!==r.declarations[0].id.type)&&this.raise(r.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=r,t.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(oW.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,n?"ForInStatement":"ForOfStatement")},lu.parseVar=function(t,r,n,i){for(t.declarations=[],t.kind=n;;){var s=this.startNode();if(this.parseVarId(s,n),this.eat(oW.eq)?s.init=this.parseMaybeAssign(r):i||"const"!==n||this.type===oW._in||this.options.ecmaVersion>=6&&this.isContextual("of")?i||"using"!==n&&"await using"!==n||!(this.options.ecmaVersion>=17)||this.type===oW._in||this.isContextual("of")?i||"Identifier"===s.id.type||r&&(this.type===oW._in||this.isContextual("of"))?s.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.raise(this.lastTokEnd,"Missing initializer in "+n+" declaration"):this.unexpected(),t.declarations.push(this.finishNode(s,"VariableDeclarator")),!this.eat(oW.comma))break}return t},lu.parseVarId=function(t,r){t.id="using"===r||"await using"===r?this.parseIdent():this.parseBindingAtom(),this.checkLValPattern(t.id,"var"===r?1:2,!1)};var lp=1,lf=2;function lm(t,r){var n=t.computed,i=t.key;return!n&&("Identifier"===i.type&&i.name===r||"Literal"===i.type&&i.value===r)}lu.parseFunction=function(t,r,n,i,s){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!i)&&(this.type===oW.star&&r&lf&&this.unexpected(),t.generator=this.eat(oW.star)),this.options.ecmaVersion>=8&&(t.async=!!i),r&lp&&(t.id=4&r&&this.type!==oW.name?null:this.parseIdent(),!t.id||r&lf||this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?1:2:3));var a=this.yieldPos,o=this.awaitPos,l=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(ln(t.async,t.generator)),r&lp||(t.id=this.type===oW.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,n,!1,s),this.yieldPos=a,this.awaitPos=o,this.awaitIdentPos=l,this.finishNode(t,r&lp?"FunctionDeclaration":"FunctionExpression")},lu.parseFunctionParams=function(t){this.expect(oW.parenL),t.params=this.parseBindingList(oW.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},lu.parseClass=function(t,r){this.next();var n=this.strict;this.strict=!0,this.parseClassId(t,r),this.parseClassSuper(t);var i=this.enterClassBody(),s=this.startNode(),a=!1;for(s.body=[],this.expect(oW.braceL);this.type!==oW.braceR;){var o=this.parseClassElement(null!==t.superClass);o&&(s.body.push(o),"MethodDefinition"===o.type&&"constructor"===o.kind?(a&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),a=!0):o.key&&"PrivateIdentifier"===o.key.type&&function(t,r){var n=r.key.name,i=t[n],s="true";return"MethodDefinition"!==r.type||"get"!==r.kind&&"set"!==r.kind||(s=(r.static?"s":"i")+r.kind),"iget"===i&&"iset"===s||"iset"===i&&"iget"===s||"sget"===i&&"sset"===s||"sset"===i&&"sget"===s?(t[n]="true",!1):!!i||(t[n]=s,!1)}(i,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=n,this.next(),t.body=this.finishNode(s,"ClassBody"),this.exitClassBody(),this.finishNode(t,r?"ClassDeclaration":"ClassExpression")},lu.parseClassElement=function(t){if(this.eat(oW.semi))return null;var r=this.options.ecmaVersion,n=this.startNode(),i="",s=!1,a=!1,o="method",l=!1;if(this.eatContextual("static")){if(r>=13&&this.eat(oW.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===oW.star?l=!0:i="static"}if(n.static=l,!i&&r>=8&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.type!==oW.star||this.canInsertSemicolon()?i="async":a=!0),!i&&(r>=9||!a)&&this.eat(oW.star)&&(s=!0),!i&&!a&&!s){var u=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=u:i=u)}if(i?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=i,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),r<13||this.type===oW.parenL||"method"!==o||s||a){var h=!n.static&&lm(n,"constructor");h&&"method"!==o&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=h?"constructor":o,this.parseClassMethod(n,s,a,h&&t)}else this.parseClassField(n);return n},lu.isClassElementNameStart=function(){return this.type===oW.name||this.type===oW.privateId||this.type===oW.num||this.type===oW.string||this.type===oW.bracketL||this.type.keyword},lu.parseClassElementName=function(t){this.type===oW.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)},lu.parseClassMethod=function(t,r,n,i){var s=t.key;"constructor"===t.kind?(r&&this.raise(s.start,"Constructor can't be a generator"),n&&this.raise(s.start,"Constructor can't be an async method")):t.static&&lm(t,"prototype")&&this.raise(s.start,"Classes may not have a static property named prototype");var a=t.value=this.parseMethod(r,n,i);return"get"===t.kind&&0!==a.params.length&&this.raiseRecoverable(a.start,"getter should have no params"),"set"===t.kind&&1!==a.params.length&&this.raiseRecoverable(a.start,"setter should have exactly one param"),"set"===t.kind&&"RestElement"===a.params[0].type&&this.raiseRecoverable(a.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")},lu.parseClassField=function(t){return lm(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&lm(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(oW.eq)?(this.enterScope(576),t.value=this.parseMaybeAssign(),this.exitScope()):t.value=null,this.semicolon(),this.finishNode(t,"PropertyDefinition")},lu.parseClassStaticBlock=function(t){t.body=[];var r=this.labels;for(this.labels=[],this.enterScope(320);this.type!==oW.braceR;){var n=this.parseStatement(null);t.body.push(n)}return this.next(),this.exitScope(),this.labels=r,this.finishNode(t,"StaticBlock")},lu.parseClassId=function(t,r){this.type===oW.name?(t.id=this.parseIdent(),r&&this.checkLValSimple(t.id,2,!1)):(!0===r&&this.unexpected(),t.id=null)},lu.parseClassSuper=function(t){t.superClass=this.eat(oW._extends)?this.parseExprSubscripts(null,!1):null},lu.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared},lu.exitClassBody=function(){var t=this.privateNameStack.pop(),r=t.declared,n=t.used;if(this.options.checkPrivateFields)for(var i=this.privateNameStack.length,s=0===i?null:this.privateNameStack[i-1],a=0;a<n.length;++a){var o=n[a];o2(r,o.name)||(s?s.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}},lu.parseExportAllDeclaration=function(t,r){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(r,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==oW.string&&this.unexpected(),t.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(t.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")},lu.parseExport=function(t,r){if(this.next(),this.eat(oW.star))return this.parseExportAllDeclaration(t,r);if(this.eat(oW._default))return this.checkExport(r,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),"VariableDeclaration"===t.declaration.type?this.checkVariableExport(r,t.declaration.declarations):this.checkExport(r,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null,this.options.ecmaVersion>=16&&(t.attributes=[]);else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(r),this.eatContextual("from"))this.type!==oW.string&&this.unexpected(),t.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(t.attributes=this.parseWithClause());else{for(var n=0,i=t.specifiers;n<i.length;n+=1){var s=i[n];this.checkUnreserved(s.local),this.checkLocalExport(s.local),"Literal"===s.local.type&&this.raise(s.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null,this.options.ecmaVersion>=16&&(t.attributes=[])}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")},lu.parseExportDeclaration=function(t){return this.parseStatement(null)},lu.parseExportDefaultDeclaration=function(){if(this.type===oW._function||(t=this.isAsyncFunction())){var t,r=this.startNode();return this.next(),t&&this.next(),this.parseFunction(r,4|lp,!1,t)}if(this.type===oW._class){var n=this.startNode();return this.parseClass(n,"nullableID")}var i=this.parseMaybeAssign();return this.semicolon(),i},lu.checkExport=function(t,r,n){t&&("string"!=typeof r&&(r="Identifier"===r.type?r.name:r.value),o2(t,r)&&this.raiseRecoverable(n,"Duplicate export '"+r+"'"),t[r]=!0)},lu.checkPatternExport=function(t,r){var n=r.type;if("Identifier"===n)this.checkExport(t,r,r.start);else if("ObjectPattern"===n)for(var i=0,s=r.properties;i<s.length;i+=1){var a=s[i];this.checkPatternExport(t,a)}else if("ArrayPattern"===n)for(var o=0,l=r.elements;o<l.length;o+=1){var u=l[o];u&&this.checkPatternExport(t,u)}else"Property"===n?this.checkPatternExport(t,r.value):"AssignmentPattern"===n?this.checkPatternExport(t,r.left):"RestElement"===n&&this.checkPatternExport(t,r.argument)},lu.checkVariableExport=function(t,r){if(t)for(var n=0;n<r.length;n+=1){var i=r[n];this.checkPatternExport(t,i.id)}},lu.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},lu.parseExportSpecifier=function(t){var r=this.startNode();return r.local=this.parseModuleExportName(),r.exported=this.eatContextual("as")?this.parseModuleExportName():r.local,this.checkExport(t,r.exported,r.exported.start),this.finishNode(r,"ExportSpecifier")},lu.parseExportSpecifiers=function(t){var r=[],n=!0;for(this.expect(oW.braceL);!this.eat(oW.braceR);){if(n)n=!1;else if(this.expect(oW.comma),this.afterTrailingComma(oW.braceR))break;r.push(this.parseExportSpecifier(t))}return r},lu.parseImport=function(t){return this.next(),this.type===oW.string?(t.specifiers=ld,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===oW.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(t.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(t,"ImportDeclaration")},lu.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,2),this.finishNode(t,"ImportSpecifier")},lu.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,2),this.finishNode(t,"ImportDefaultSpecifier")},lu.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,2),this.finishNode(t,"ImportNamespaceSpecifier")},lu.parseImportSpecifiers=function(){var t=[],r=!0;if(this.type===oW.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(oW.comma)))return t;if(this.type===oW.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(oW.braceL);!this.eat(oW.braceR);){if(r)r=!1;else if(this.expect(oW.comma),this.afterTrailingComma(oW.braceR))break;t.push(this.parseImportSpecifier())}return t},lu.parseWithClause=function(){var t=[];if(!this.eat(oW._with))return t;this.expect(oW.braceL);for(var r={},n=!0;!this.eat(oW.braceR);){if(n)n=!1;else if(this.expect(oW.comma),this.afterTrailingComma(oW.braceR))break;var i=this.parseImportAttribute(),s="Identifier"===i.key.type?i.key.name:i.key.value;o2(r,s)&&this.raiseRecoverable(i.key.start,"Duplicate attribute key '"+s+"'"),r[s]=!0,t.push(i)}return t},lu.parseImportAttribute=function(){var t=this.startNode();return t.key=this.type===oW.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved),this.expect(oW.colon),this.type!==oW.string&&this.unexpected(),t.value=this.parseExprAtom(),this.finishNode(t,"ImportAttribute")},lu.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===oW.string){var t=this.parseLiteral(this.value);return o8.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)},lu.adaptDirectivePrologue=function(t){for(var r=0;r<t.length&&this.isDirectiveCandidate(t[r]);++r)t[r].directive=t[r].expression.raw.slice(1,-1)},lu.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"string"==typeof t.expression.value&&('"'===this.input[t.start]||"'"===this.input[t.start])};var lg=li.prototype;lg.toAssignable=function(t,r,n){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&"await"===t.name&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var i=0,s=t.properties;i<s.length;i+=1){var a=s[i];this.toAssignable(a,r),"RestElement"!==a.type||"ArrayPattern"!==a.argument.type&&"ObjectPattern"!==a.argument.type||this.raise(a.argument.start,"Unexpected token")}break;case"Property":"init"!==t.kind&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,r);break;case"ArrayExpression":t.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(t.elements,r);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,r),"AssignmentPattern"===t.argument.type&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==t.operator&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,r);break;case"ParenthesizedExpression":this.toAssignable(t.expression,r,n);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!r)break;default:this.raise(t.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return t},lg.toAssignableList=function(t,r){for(var n=t.length,i=0;i<n;i++){var s=t[i];s&&this.toAssignable(s,r)}if(n){var a=t[n-1];6===this.options.ecmaVersion&&r&&a&&"RestElement"===a.type&&"Identifier"!==a.argument.type&&this.unexpected(a.argument.start)}return t},lg.parseSpread=function(t){var r=this.startNode();return this.next(),r.argument=this.parseMaybeAssign(!1,t),this.finishNode(r,"SpreadElement")},lg.parseRestBinding=function(){var t=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==oW.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")},lg.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case oW.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(oW.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case oW.braceL:return this.parseObj(!0)}return this.parseIdent()},lg.parseBindingList=function(t,r,n,i){for(var s=[],a=!0;!this.eat(t);)if(a?a=!1:this.expect(oW.comma),r&&this.type===oW.comma)s.push(null);else{if(n&&this.afterTrailingComma(t))break;if(this.type===oW.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),s.push(o),this.type===oW.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}s.push(this.parseAssignableListItem(i))}return s},lg.parseAssignableListItem=function(t){var r=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(r),r},lg.parseBindingListItem=function(t){return t},lg.parseMaybeDefault=function(t,r,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(oW.eq))return n;var i=this.startNodeAt(t,r);return i.left=n,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")},lg.checkLValSimple=function(t,r,n){void 0===r&&(r=0);var i=0!==r;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(i?"Binding ":"Assigning to ")+t.name+" in strict mode"),i&&(2===r&&"let"===t.name&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),n&&(o2(n,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),n[t.name]=!0),5!==r&&this.declareName(t.name,r,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":i&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return i&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,r,n);default:this.raise(t.start,(i?"Binding":"Assigning to")+" rvalue")}},lg.checkLValPattern=function(t,r,n){switch(void 0===r&&(r=0),t.type){case"ObjectPattern":for(var i=0,s=t.properties;i<s.length;i+=1){var a=s[i];this.checkLValInnerPattern(a,r,n)}break;case"ArrayPattern":for(var o=0,l=t.elements;o<l.length;o+=1){var u=l[o];u&&this.checkLValInnerPattern(u,r,n)}break;default:this.checkLValSimple(t,r,n)}},lg.checkLValInnerPattern=function(t,r,n){switch(void 0===r&&(r=0),t.type){case"Property":this.checkLValInnerPattern(t.value,r,n);break;case"AssignmentPattern":this.checkLValPattern(t.left,r,n);break;case"RestElement":this.checkLValPattern(t.argument,r,n);break;default:this.checkLValPattern(t,r,n)}};var ly=function(t,r,n,i,s){this.token=t,this.isExpr=!!r,this.preserveSpace=!!n,this.override=i,this.generator=!!s},lv={b_stat:new ly("{",!1),b_expr:new ly("{",!0),b_tmpl:new ly("${",!1),p_stat:new ly("(",!1),p_expr:new ly("(",!0),q_tmpl:new ly("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new ly("function",!1),f_expr:new ly("function",!0),f_expr_gen:new ly("function",!0,!1,null,!0),f_gen:new ly("function",!1,!1,null,!0)},lx=li.prototype;lx.initialContext=function(){return[lv.b_stat]},lx.curContext=function(){return this.context[this.context.length-1]},lx.braceIsBlock=function(t){var r=this.curContext();return r===lv.f_expr||r===lv.f_stat||(t!==oW.colon||r!==lv.b_stat&&r!==lv.b_expr?t===oW._return||t===oW.name&&this.exprAllowed?oq.test(this.input.slice(this.lastTokEnd,this.start)):t===oW._else||t===oW.semi||t===oW.eof||t===oW.parenR||t===oW.arrow||(t===oW.braceL?r===lv.b_stat:t!==oW._var&&t!==oW._const&&t!==oW.name&&!this.exprAllowed):!r.isExpr)},lx.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var r=this.context[t];if("function"===r.token)return r.generator}return!1},lx.updateContext=function(t){var r,n=this.type;n.keyword&&t===oW.dot?this.exprAllowed=!1:(r=n.updateContext)?r.call(this,t):this.exprAllowed=n.beforeExpr},lx.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)},oW.parenR.updateContext=oW.braceR.updateContext=function(){if(1!==this.context.length){var t=this.context.pop();t===lv.b_stat&&"function"===this.curContext().token&&(t=this.context.pop()),this.exprAllowed=!t.isExpr}else this.exprAllowed=!0},oW.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?lv.b_stat:lv.b_expr),this.exprAllowed=!0},oW.dollarBraceL.updateContext=function(){this.context.push(lv.b_tmpl),this.exprAllowed=!0},oW.parenL.updateContext=function(t){var r=t===oW._if||t===oW._for||t===oW._with||t===oW._while;this.context.push(r?lv.p_stat:lv.p_expr),this.exprAllowed=!0},oW.incDec.updateContext=function(){},oW._function.updateContext=oW._class.updateContext=function(t){!t.beforeExpr||t===oW._else||t===oW.semi&&this.curContext()!==lv.p_stat||t===oW._return&&oq.test(this.input.slice(this.lastTokEnd,this.start))||(t===oW.colon||t===oW.braceL)&&this.curContext()===lv.b_stat?this.context.push(lv.f_stat):this.context.push(lv.f_expr),this.exprAllowed=!1},oW.colon.updateContext=function(){"function"===this.curContext().token&&this.context.pop(),this.exprAllowed=!0},oW.backQuote.updateContext=function(){this.curContext()===lv.q_tmpl?this.context.pop():this.context.push(lv.q_tmpl),this.exprAllowed=!1},oW.star.updateContext=function(t){if(t===oW._function){var r=this.context.length-1;this.context[r]===lv.f_expr?this.context[r]=lv.f_expr_gen:this.context[r]=lv.f_gen}this.exprAllowed=!0},oW.name.updateContext=function(t){var r=!1;this.options.ecmaVersion>=6&&t!==oW.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(r=!0),this.exprAllowed=r};var lb=li.prototype;lb.checkPropClash=function(t,r,n){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===t.type||this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var i,s=t.key;switch(s.type){case"Identifier":i=s.name;break;case"Literal":i=String(s.value);break;default:return}var a=t.kind;if(this.options.ecmaVersion>=6)"__proto__"===i&&"init"===a&&(r.proto&&(n?n.doubleProto<0&&(n.doubleProto=s.start):this.raiseRecoverable(s.start,"Redefinition of __proto__ property")),r.proto=!0);else{var o=r[i="$"+i];o?("init"===a?this.strict&&o.init||o.get||o.set:o.init||o[a])&&this.raiseRecoverable(s.start,"Redefinition of property"):o=r[i]={init:!1,get:!1,set:!1},o[a]=!0}}},lb.parseExpression=function(t,r){var n=this.start,i=this.startLoc,s=this.parseMaybeAssign(t,r);if(this.type===oW.comma){var a=this.startNodeAt(n,i);for(a.expressions=[s];this.eat(oW.comma);)a.expressions.push(this.parseMaybeAssign(t,r));return this.finishNode(a,"SequenceExpression")}return s},lb.parseMaybeAssign=function(t,r,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var i=!1,s=-1,a=-1,o=-1;r?(s=r.parenthesizedAssign,a=r.trailingComma,o=r.doubleProto,r.parenthesizedAssign=r.trailingComma=-1):(r=new ll,i=!0);var l=this.start,u=this.startLoc;this.type!==oW.parenL&&this.type!==oW.name||(this.potentialArrowAt=this.start,this.potentialArrowInForAwait="await"===t);var h=this.parseMaybeConditional(t,r);if(n&&(h=n.call(this,h,l,u)),this.type.isAssign){var c=this.startNodeAt(l,u);return c.operator=this.value,this.type===oW.eq&&(h=this.toAssignable(h,!1,r)),i||(r.parenthesizedAssign=r.trailingComma=r.doubleProto=-1),r.shorthandAssign>=h.start&&(r.shorthandAssign=-1),this.type===oW.eq?this.checkLValPattern(h):this.checkLValSimple(h),c.left=h,this.next(),c.right=this.parseMaybeAssign(t),o>-1&&(r.doubleProto=o),this.finishNode(c,"AssignmentExpression")}return i&&this.checkExpressionErrors(r,!0),s>-1&&(r.parenthesizedAssign=s),a>-1&&(r.trailingComma=a),h},lb.parseMaybeConditional=function(t,r){var n=this.start,i=this.startLoc,s=this.parseExprOps(t,r);if(this.checkExpressionErrors(r))return s;if(this.eat(oW.question)){var a=this.startNodeAt(n,i);return a.test=s,a.consequent=this.parseMaybeAssign(),this.expect(oW.colon),a.alternate=this.parseMaybeAssign(t),this.finishNode(a,"ConditionalExpression")}return s},lb.parseExprOps=function(t,r){var n=this.start,i=this.startLoc,s=this.parseMaybeUnary(r,!1,!1,t);return this.checkExpressionErrors(r)||s.start===n&&"ArrowFunctionExpression"===s.type?s:this.parseExprOp(s,n,i,-1,t)},lb.parseExprOp=function(t,r,n,i,s){var a=this.type.binop;if(null!=a&&(!s||this.type!==oW._in)&&a>i){var o=this.type===oW.logicalOR||this.type===oW.logicalAND,l=this.type===oW.coalesce;l&&(a=oW.logicalAND.binop);var u=this.value;this.next();var h=this.start,c=this.startLoc,d=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,s),h,c,a,s),p=this.buildBinary(r,n,t,d,u,o||l);return(o&&this.type===oW.coalesce||l&&(this.type===oW.logicalOR||this.type===oW.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(p,r,n,i,s)}return t},lb.buildBinary=function(t,r,n,i,s,a){"PrivateIdentifier"===i.type&&this.raise(i.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(t,r);return o.left=n,o.operator=s,o.right=i,this.finishNode(o,a?"LogicalExpression":"BinaryExpression")},lb.parseMaybeUnary=function(t,r,n,i){var s,a=this.start,o=this.startLoc;if(this.isContextual("await")&&this.canAwait)s=this.parseAwait(i),r=!0;else if(this.type.prefix){var l=this.startNode(),u=this.type===oW.incDec;l.operator=this.value,l.prefix=!0,this.next(),l.argument=this.parseMaybeUnary(null,!0,u,i),this.checkExpressionErrors(t,!0),u?this.checkLValSimple(l.argument):this.strict&&"delete"===l.operator&&function t(r){return"Identifier"===r.type||"ParenthesizedExpression"===r.type&&t(r.expression)}(l.argument)?this.raiseRecoverable(l.start,"Deleting local variable in strict mode"):"delete"===l.operator&&function t(r){return"MemberExpression"===r.type&&"PrivateIdentifier"===r.property.type||"ChainExpression"===r.type&&t(r.expression)||"ParenthesizedExpression"===r.type&&t(r.expression)}(l.argument)?this.raiseRecoverable(l.start,"Private fields can not be deleted"):r=!0,s=this.finishNode(l,u?"UpdateExpression":"UnaryExpression")}else if(r||this.type!==oW.privateId){if(s=this.parseExprSubscripts(t,i),this.checkExpressionErrors(t))return s;for(;this.type.postfix&&!this.canInsertSemicolon();){var h=this.startNodeAt(a,o);h.operator=this.value,h.prefix=!1,h.argument=s,this.checkLValSimple(s),this.next(),s=this.finishNode(h,"UpdateExpression")}}else(i||0===this.privateNameStack.length)&&this.options.checkPrivateFields&&this.unexpected(),s=this.parsePrivateIdent(),this.type!==oW._in&&this.unexpected();return n||!this.eat(oW.starstar)?s:r?void this.unexpected(this.lastTokStart):this.buildBinary(a,o,s,this.parseMaybeUnary(null,!1,!1,i),"**",!1)},lb.parseExprSubscripts=function(t,r){var n=this.start,i=this.startLoc,s=this.parseExprAtom(t,r);if("ArrowFunctionExpression"===s.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return s;var a=this.parseSubscripts(s,n,i,!1,r);return t&&"MemberExpression"===a.type&&(t.parenthesizedAssign>=a.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=a.start&&(t.parenthesizedBind=-1),t.trailingComma>=a.start&&(t.trailingComma=-1)),a},lb.parseSubscripts=function(t,r,n,i,s){for(var a=this.options.ecmaVersion>=8&&"Identifier"===t.type&&"async"===t.name&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start==5&&this.potentialArrowAt===t.start,o=!1;;){var l=this.parseSubscript(t,r,n,i,a,o,s);if(l.optional&&(o=!0),l===t||"ArrowFunctionExpression"===l.type){if(o){var u=this.startNodeAt(r,n);u.expression=l,l=this.finishNode(u,"ChainExpression")}return l}t=l}},lb.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(oW.arrow)},lb.parseSubscriptAsyncArrow=function(t,r,n,i){return this.parseArrowExpression(this.startNodeAt(t,r),n,!0,i)},lb.parseSubscript=function(t,r,n,i,s,a,o){var l=this.options.ecmaVersion>=11,u=l&&this.eat(oW.questionDot);i&&u&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var h=this.eat(oW.bracketL);if(h||u&&this.type!==oW.parenL&&this.type!==oW.backQuote||this.eat(oW.dot)){var c=this.startNodeAt(r,n);c.object=t,h?(c.property=this.parseExpression(),this.expect(oW.bracketR)):this.type===oW.privateId&&"Super"!==t.type?c.property=this.parsePrivateIdent():c.property=this.parseIdent("never"!==this.options.allowReserved),c.computed=!!h,l&&(c.optional=u),t=this.finishNode(c,"MemberExpression")}else if(!i&&this.eat(oW.parenL)){var d=new ll,p=this.yieldPos,f=this.awaitPos,m=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var g=this.parseExprList(oW.parenR,this.options.ecmaVersion>=8,!1,d);if(s&&!u&&this.shouldParseAsyncArrow())return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=p,this.awaitPos=f,this.awaitIdentPos=m,this.parseSubscriptAsyncArrow(r,n,g,o);this.checkExpressionErrors(d,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=f||this.awaitPos,this.awaitIdentPos=m||this.awaitIdentPos;var y=this.startNodeAt(r,n);y.callee=t,y.arguments=g,l&&(y.optional=u),t=this.finishNode(y,"CallExpression")}else if(this.type===oW.backQuote){(u||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var v=this.startNodeAt(r,n);v.tag=t,v.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(v,"TaggedTemplateExpression")}return t},lb.parseExprAtom=function(t,r,n){this.type===oW.slash&&this.readRegexp();var i,s=this.potentialArrowAt===this.start;switch(this.type){case oW._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),i=this.startNode(),this.next(),this.type!==oW.parenL||this.allowDirectSuper||this.raise(i.start,"super() call outside constructor of a subclass"),this.type!==oW.dot&&this.type!==oW.bracketL&&this.type!==oW.parenL&&this.unexpected(),this.finishNode(i,"Super");case oW._this:return i=this.startNode(),this.next(),this.finishNode(i,"ThisExpression");case oW.name:var a=this.start,o=this.startLoc,l=this.containsEsc,u=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!l&&"async"===u.name&&!this.canInsertSemicolon()&&this.eat(oW._function))return this.overrideContext(lv.f_expr),this.parseFunction(this.startNodeAt(a,o),0,!1,!0,r);if(s&&!this.canInsertSemicolon()){if(this.eat(oW.arrow))return this.parseArrowExpression(this.startNodeAt(a,o),[u],!1,r);if(this.options.ecmaVersion>=8&&"async"===u.name&&this.type===oW.name&&!l&&(!this.potentialArrowInForAwait||"of"!==this.value||this.containsEsc))return u=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(oW.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(a,o),[u],!0,r)}return u;case oW.regexp:var h=this.value;return(i=this.parseLiteral(h.value)).regex={pattern:h.pattern,flags:h.flags},i;case oW.num:case oW.string:return this.parseLiteral(this.value);case oW._null:case oW._true:case oW._false:return(i=this.startNode()).value=this.type===oW._null?null:this.type===oW._true,i.raw=this.type.keyword,this.next(),this.finishNode(i,"Literal");case oW.parenL:var c=this.start,d=this.parseParenAndDistinguishExpression(s,r);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(d)&&(t.parenthesizedAssign=c),t.parenthesizedBind<0&&(t.parenthesizedBind=c)),d;case oW.bracketL:return i=this.startNode(),this.next(),i.elements=this.parseExprList(oW.bracketR,!0,!0,t),this.finishNode(i,"ArrayExpression");case oW.braceL:return this.overrideContext(lv.b_expr),this.parseObj(!1,t);case oW._function:return i=this.startNode(),this.next(),this.parseFunction(i,0);case oW._class:return this.parseClass(this.startNode(),!1);case oW._new:return this.parseNew();case oW.backQuote:return this.parseTemplate();case oW._import:return this.options.ecmaVersion>=11?this.parseExprImport(n):this.unexpected();default:return this.parseExprAtomDefault()}},lb.parseExprAtomDefault=function(){this.unexpected()},lb.parseExprImport=function(t){var r=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===oW.parenL&&!t)return this.parseDynamicImport(r);if(this.type===oW.dot){var n=this.startNodeAt(r.start,r.loc&&r.loc.start);return n.name="import",r.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(r)}this.unexpected()},lb.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(oW.parenR)?t.options=null:(this.expect(oW.comma),this.afterTrailingComma(oW.parenR)?t.options=null:(t.options=this.parseMaybeAssign(),this.eat(oW.parenR)||(this.expect(oW.comma),this.afterTrailingComma(oW.parenR)||this.unexpected())));else if(!this.eat(oW.parenR)){var r=this.start;this.eat(oW.comma)&&this.eat(oW.parenR)?this.raiseRecoverable(r,"Trailing comma is not allowed in import()"):this.unexpected(r)}return this.finishNode(t,"ImportExpression")},lb.parseImportMeta=function(t){this.next();var r=this.containsEsc;return t.property=this.parseIdent(!0),"meta"!==t.property.name&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),r&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),"module"===this.options.sourceType||this.options.allowImportExportEverywhere||this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")},lb.parseLiteral=function(t){var r=this.startNode();return r.value=t,r.raw=this.input.slice(this.start,this.end),110===r.raw.charCodeAt(r.raw.length-1)&&(r.bigint=null!=r.value?r.value.toString():r.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(r,"Literal")},lb.parseParenExpression=function(){this.expect(oW.parenL);var t=this.parseExpression();return this.expect(oW.parenR),t},lb.shouldParseArrow=function(t){return!this.canInsertSemicolon()},lb.parseParenAndDistinguishExpression=function(t,r){var n,i=this.start,s=this.startLoc,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o,l=this.start,u=this.startLoc,h=[],c=!0,d=!1,p=new ll,f=this.yieldPos,m=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==oW.parenR;){if(c?c=!1:this.expect(oW.comma),a&&this.afterTrailingComma(oW.parenR,!0)){d=!0;break}if(this.type===oW.ellipsis){o=this.start,h.push(this.parseParenItem(this.parseRestBinding())),this.type===oW.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}h.push(this.parseMaybeAssign(!1,p,this.parseParenItem))}var g=this.lastTokEnd,y=this.lastTokEndLoc;if(this.expect(oW.parenR),t&&this.shouldParseArrow(h)&&this.eat(oW.arrow))return this.checkPatternErrors(p,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=f,this.awaitPos=m,this.parseParenArrowList(i,s,h,r);h.length&&!d||this.unexpected(this.lastTokStart),o&&this.unexpected(o),this.checkExpressionErrors(p,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=m||this.awaitPos,h.length>1?((n=this.startNodeAt(l,u)).expressions=h,this.finishNodeAt(n,"SequenceExpression",g,y)):n=h[0]}else n=this.parseParenExpression();if(this.options.preserveParens){var v=this.startNodeAt(i,s);return v.expression=n,this.finishNode(v,"ParenthesizedExpression")}return n},lb.parseParenItem=function(t){return t},lb.parseParenArrowList=function(t,r,n,i){return this.parseArrowExpression(this.startNodeAt(t,r),n,!1,i)};var lw=[];lb.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===oW.dot){var r=this.startNodeAt(t.start,t.loc&&t.loc.start);r.name="new",t.meta=this.finishNode(r,"Identifier"),this.next();var n=this.containsEsc;return t.property=this.parseIdent(!0),"target"!==t.property.name&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var i=this.start,s=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),i,s,!0,!1),this.eat(oW.parenL)?t.arguments=this.parseExprList(oW.parenR,this.options.ecmaVersion>=8,!1):t.arguments=lw,this.finishNode(t,"NewExpression")},lb.parseTemplateElement=function(t){var r=t.isTagged,n=this.startNode();return this.type===oW.invalidTemplate?(r||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value.replace(/\r\n?/g,"\n"),cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===oW.backQuote,this.finishNode(n,"TemplateElement")},lb.parseTemplate=function(t){void 0===t&&(t={});var r=t.isTagged;void 0===r&&(r=!1);var n=this.startNode();this.next(),n.expressions=[];var i=this.parseTemplateElement({isTagged:r});for(n.quasis=[i];!i.tail;)this.type===oW.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(oW.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(oW.braceR),n.quasis.push(i=this.parseTemplateElement({isTagged:r}));return this.next(),this.finishNode(n,"TemplateLiteral")},lb.isAsyncProp=function(t){return!t.computed&&"Identifier"===t.key.type&&"async"===t.key.name&&(this.type===oW.name||this.type===oW.num||this.type===oW.string||this.type===oW.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===oW.star)&&!oq.test(this.input.slice(this.lastTokEnd,this.start))},lb.parseObj=function(t,r){var n=this.startNode(),i=!0,s={};for(n.properties=[],this.next();!this.eat(oW.braceR);){if(i)i=!1;else if(this.expect(oW.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(oW.braceR))break;var a=this.parseProperty(t,r);t||this.checkPropClash(a,s,r),n.properties.push(a)}return this.finishNode(n,t?"ObjectPattern":"ObjectExpression")},lb.parseProperty=function(t,r){var n,i,s,a,o=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(oW.ellipsis))return t?(o.argument=this.parseIdent(!1),this.type===oW.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(o,"RestElement")):(o.argument=this.parseMaybeAssign(!1,r),this.type===oW.comma&&r&&r.trailingComma<0&&(r.trailingComma=this.start),this.finishNode(o,"SpreadElement"));this.options.ecmaVersion>=6&&(o.method=!1,o.shorthand=!1,(t||r)&&(s=this.start,a=this.startLoc),t||(n=this.eat(oW.star)));var l=this.containsEsc;return this.parsePropertyName(o),!t&&!l&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(o)?(i=!0,n=this.options.ecmaVersion>=9&&this.eat(oW.star),this.parsePropertyName(o)):i=!1,this.parsePropertyValue(o,t,n,i,s,a,r,l),this.finishNode(o,"Property")},lb.parseGetterSetter=function(t){var r=t.key.name;this.parsePropertyName(t),t.value=this.parseMethod(!1),t.kind=r;var n=+("get"!==t.kind);if(t.value.params.length!==n){var i=t.value.start;"get"===t.kind?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else"set"===t.kind&&"RestElement"===t.value.params[0].type&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")},lb.parsePropertyValue=function(t,r,n,i,s,a,o,l){(n||i)&&this.type===oW.colon&&this.unexpected(),this.eat(oW.colon)?(t.value=r?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),t.kind="init"):this.options.ecmaVersion>=6&&this.type===oW.parenL?(r&&this.unexpected(),t.method=!0,t.value=this.parseMethod(n,i),t.kind="init"):r||l||!(this.options.ecmaVersion>=5)||t.computed||"Identifier"!==t.key.type||"get"!==t.key.name&&"set"!==t.key.name||this.type===oW.comma||this.type===oW.braceR||this.type===oW.eq?this.options.ecmaVersion>=6&&!t.computed&&"Identifier"===t.key.type?((n||i)&&this.unexpected(),this.checkUnreserved(t.key),"await"!==t.key.name||this.awaitIdentPos||(this.awaitIdentPos=s),r?t.value=this.parseMaybeDefault(s,a,this.copyNode(t.key)):this.type===oW.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),t.value=this.parseMaybeDefault(s,a,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.kind="init",t.shorthand=!0):this.unexpected():((n||i)&&this.unexpected(),this.parseGetterSetter(t))},lb.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(oW.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(oW.bracketR),t.key;t.computed=!1}return t.key=this.type===oW.num||this.type===oW.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},lb.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)},lb.parseMethod=function(t,r,n){var i=this.startNode(),s=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(i),this.options.ecmaVersion>=6&&(i.generator=t),this.options.ecmaVersion>=8&&(i.async=!!r),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|ln(r,i.generator)|128*!!n),this.expect(oW.parenL),i.params=this.parseBindingList(oW.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(i,!1,!0,!1),this.yieldPos=s,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(i,"FunctionExpression")},lb.parseArrowExpression=function(t,r,n,i){var s=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(16|ln(n,!1)),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(r,!0),this.parseFunctionBody(t,!0,!1,i),this.yieldPos=s,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(t,"ArrowFunctionExpression")},lb.parseFunctionBody=function(t,r,n,i){var s=r&&this.type!==oW.braceL,a=this.strict,o=!1;if(s)t.body=this.parseMaybeAssign(i),t.expression=!0,this.checkParams(t,!1);else{var l=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);a&&!l||(o=this.strictDirective(this.end))&&l&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list");var u=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(t,!a&&!o&&!r&&!n&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,5),t.body=this.parseBlock(!1,void 0,o&&!a),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=u}this.exitScope()},lb.isSimpleParamList=function(t){for(var r=0;r<t.length;r+=1)if("Identifier"!==t[r].type)return!1;return!0},lb.checkParams=function(t,r){for(var n=Object.create(null),i=0,s=t.params;i<s.length;i+=1){var a=s[i];this.checkLValInnerPattern(a,1,r?null:n)}},lb.parseExprList=function(t,r,n,i){for(var s=[],a=!0;!this.eat(t);){if(a)a=!1;else if(this.expect(oW.comma),r&&this.afterTrailingComma(t))break;var o=void 0;n&&this.type===oW.comma?o=null:this.type===oW.ellipsis?(o=this.parseSpread(i),i&&this.type===oW.comma&&i.trailingComma<0&&(i.trailingComma=this.start)):o=this.parseMaybeAssign(!1,i),s.push(o)}return s},lb.checkUnreserved=function(t){var r=t.start,n=t.end,i=t.name;this.inGenerator&&"yield"===i&&this.raiseRecoverable(r,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===i&&this.raiseRecoverable(r,"Cannot use 'await' as identifier inside an async function"),259&this.currentThisScope().flags||"arguments"!==i||this.raiseRecoverable(r,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&("arguments"===i||"await"===i)&&this.raise(r,"Cannot use "+i+" in class static initialization block"),this.keywords.test(i)&&this.raise(r,"Unexpected keyword '"+i+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(r,n).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(i)&&(this.inAsync||"await"!==i||this.raiseRecoverable(r,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(r,"The keyword '"+i+"' is reserved"))},lb.parseIdent=function(t){var r=this.parseIdentNode();return this.next(!!t),this.finishNode(r,"Identifier"),t||(this.checkUnreserved(r),"await"!==r.name||this.awaitIdentPos||(this.awaitIdentPos=r.start)),r},lb.parseIdentNode=function(){var t=this.startNode();return this.type===oW.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,"class"!==t.name&&"function"!==t.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop(),this.type=oW.name):this.unexpected(),t},lb.parsePrivateIdent=function(){var t=this.startNode();return this.type===oW.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(0===this.privateNameStack.length?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t},lb.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var r=this.startNode();return this.next(),this.type===oW.semi||this.canInsertSemicolon()||this.type!==oW.star&&!this.type.startsExpr?(r.delegate=!1,r.argument=null):(r.delegate=this.eat(oW.star),r.argument=this.parseMaybeAssign(t)),this.finishNode(r,"YieldExpression")},lb.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var r=this.startNode();return this.next(),r.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(r,"AwaitExpression")};var l_=li.prototype;l_.raise=function(t,r){var n=le(this.input,t);r+=" ("+n.line+":"+n.column+")",this.sourceFile&&(r+=" in "+this.sourceFile);var i=SyntaxError(r);throw i.pos=t,i.loc=n,i.raisedAt=this.pos,i},l_.raiseRecoverable=l_.raise,l_.curPosition=function(){if(this.options.locations)return new o9(this.curLine,this.pos-this.lineStart)};var lC=li.prototype,lS=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[]};lC.enterScope=function(t){this.scopeStack.push(new lS(t))},lC.exitScope=function(){this.scopeStack.pop()},lC.treatFunctionsAsVarInScope=function(t){return 2&t.flags||!this.inModule&&1&t.flags},lC.declareName=function(t,r,n){var i=!1;if(2===r){var s=this.currentScope();i=s.lexical.indexOf(t)>-1||s.functions.indexOf(t)>-1||s.var.indexOf(t)>-1,s.lexical.push(t),this.inModule&&1&s.flags&&delete this.undefinedExports[t]}else if(4===r)this.currentScope().lexical.push(t);else if(3===r){var a=this.currentScope();i=this.treatFunctionsAsVar?a.lexical.indexOf(t)>-1:a.lexical.indexOf(t)>-1||a.var.indexOf(t)>-1,a.functions.push(t)}else for(var o=this.scopeStack.length-1;o>=0;--o){var l=this.scopeStack[o];if(l.lexical.indexOf(t)>-1&&!(32&l.flags&&l.lexical[0]===t)||!this.treatFunctionsAsVarInScope(l)&&l.functions.indexOf(t)>-1){i=!0;break}if(l.var.push(t),this.inModule&&1&l.flags&&delete this.undefinedExports[t],259&l.flags)break}i&&this.raiseRecoverable(n,"Identifier '"+t+"' has already been declared")},lC.checkLocalExport=function(t){-1===this.scopeStack[0].lexical.indexOf(t.name)&&-1===this.scopeStack[0].var.indexOf(t.name)&&(this.undefinedExports[t.name]=t)},lC.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},lC.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var r=this.scopeStack[t];if(771&r.flags)return r}},lC.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var r=this.scopeStack[t];if(771&r.flags&&!(16&r.flags))return r}};var lE=function(t,r,n){this.type="",this.start=r,this.end=0,t.options.locations&&(this.loc=new o7(t,n)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[r,0])},lD=li.prototype;function lA(t,r,n,i){return t.type=r,t.end=n,this.options.locations&&(t.loc.end=i),this.options.ranges&&(t.range[1]=n),t}lD.startNode=function(){return new lE(this,this.start,this.startLoc)},lD.startNodeAt=function(t,r){return new lE(this,t,r)},lD.finishNode=function(t,r){return lA.call(this,t,r,this.lastTokEnd,this.lastTokEndLoc)},lD.finishNodeAt=function(t,r,n,i){return lA.call(this,t,r,n,i)},lD.copyNode=function(t){var r=new lE(this,t.start,this.startLoc);for(var n in t)r[n]=t[n];return r};for(var lk="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",lT=lk+" Extended_Pictographic",lF=lT+" EBase EComp EMod EPres ExtPict",lM={9:lk,10:lT,11:lT,12:lF,13:lF,14:lF},lI={9:"",10:"",11:"",12:"",13:"",14:"Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji"},lB="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",lP="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",lL=lP+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",lN=lL+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",lO=lN+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",lR=lO+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",lV={9:lP,10:lL,11:lN,12:lO,13:lR,14:lR+" Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz"},lz={},lU=0,lj=[9,10,11,12,13,14];lU<lj.length;lU+=1)!function(t){var r=lz[t]={binary:o4(lM[t]+" "+lB),binaryOfStrings:o4(lI[t]),nonBinary:{General_Category:o4(lB),Script:o4(lV[t])}};r.nonBinary.Script_Extensions=r.nonBinary.Script,r.nonBinary.gc=r.nonBinary.General_Category,r.nonBinary.sc=r.nonBinary.Script,r.nonBinary.scx=r.nonBinary.Script_Extensions}(lj[lU]);var lG=li.prototype,l$=function(t,r){this.parent=t,this.base=r||this};l$.prototype.separatedFrom=function(t){for(var r=this;r;r=r.parent)for(var n=t;n;n=n.parent)if(r.base===n.base&&r!==n)return!0;return!1},l$.prototype.sibling=function(){return new l$(this.parent,this.base)};var lH=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=lz[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};function lW(t){return 36===t||t>=40&&t<=43||46===t||63===t||t>=91&&t<=94||t>=123&&t<=125}function lq(t){return t>=65&&t<=90||t>=97&&t<=122}function lY(t){return lq(t)||95===t}function lX(t){return t>=48&&t<=57}function lK(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function lZ(t){return t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:t-48}function lQ(t){return t>=48&&t<=55}lH.prototype.reset=function(t,r,n){var i=-1!==n.indexOf("v"),s=-1!==n.indexOf("u");this.start=0|t,this.source=r+"",this.flags=n,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)},lH.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)},lH.prototype.at=function(t,r){void 0===r&&(r=!1);var n=this.source,i=n.length;if(t>=i)return -1;var s=n.charCodeAt(t);if(!r&&!this.switchU||s<=55295||s>=57344||t+1>=i)return s;var a=n.charCodeAt(t+1);return a>=56320&&a<=57343?(s<<10)+a-0x35fdc00:s},lH.prototype.nextIndex=function(t,r){void 0===r&&(r=!1);var n=this.source,i=n.length;if(t>=i)return i;var s,a=n.charCodeAt(t);return!r&&!this.switchU||a<=55295||a>=57344||t+1>=i||(s=n.charCodeAt(t+1))<56320||s>57343?t+1:t+2},lH.prototype.current=function(t){return void 0===t&&(t=!1),this.at(this.pos,t)},lH.prototype.lookahead=function(t){return void 0===t&&(t=!1),this.at(this.nextIndex(this.pos,t),t)},lH.prototype.advance=function(t){void 0===t&&(t=!1),this.pos=this.nextIndex(this.pos,t)},lH.prototype.eat=function(t,r){return void 0===r&&(r=!1),this.current(r)===t&&(this.advance(r),!0)},lH.prototype.eatChars=function(t,r){void 0===r&&(r=!1);for(var n=this.pos,i=0;i<t.length;i+=1){var s=t[i],a=this.at(n,r);if(-1===a||a!==s)return!1;n=this.nextIndex(n,r)}return this.pos=n,!0},lG.validateRegExpFlags=function(t){for(var r=t.validFlags,n=t.flags,i=!1,s=!1,a=0;a<n.length;a++){var o=n.charAt(a);-1===r.indexOf(o)&&this.raise(t.start,"Invalid regular expression flag"),n.indexOf(o,a+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),"u"===o&&(i=!0),"v"===o&&(s=!0)}this.options.ecmaVersion>=15&&i&&s&&this.raise(t.start,"Invalid regular expression flag")},lG.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&function(t){for(var r in t)return!0;return!1}(t.groupNames)&&(t.switchN=!0,this.regexp_pattern(t))},lG.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames=Object.create(null),t.backReferenceNames.length=0,t.branchID=null,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var r=0,n=t.backReferenceNames;r<n.length;r+=1){var i=n[r];t.groupNames[i]||t.raise("Invalid named capture referenced")}},lG.regexp_disjunction=function(t){var r=this.options.ecmaVersion>=16;for(r&&(t.branchID=new l$(t.branchID,null)),this.regexp_alternative(t);t.eat(124);)r&&(t.branchID=t.branchID.sibling()),this.regexp_alternative(t);r&&(t.branchID=t.branchID.parent),this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")},lG.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););},lG.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):!!(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))&&(this.regexp_eatQuantifier(t),!0)},lG.regexp_eatAssertion=function(t){var r=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=r}if(t.eat(40)&&t.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!n,!0}return t.pos=r,!1},lG.regexp_eatQuantifier=function(t,r){return void 0===r&&(r=!1),!!this.regexp_eatQuantifierPrefix(t,r)&&(t.eat(63),!0)},lG.regexp_eatQuantifierPrefix=function(t,r){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,r)},lG.regexp_eatBracedQuantifier=function(t,r){var n=t.pos;if(t.eat(123)){var i=0,s=-1;if(this.regexp_eatDecimalDigits(t)&&(i=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(s=t.lastIntValue),t.eat(125)))return -1!==s&&s<i&&!r&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!r&&t.raise("Incomplete quantifier"),t.pos=n}return!1},lG.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)},lG.regexp_eatReverseSolidusAtomEscape=function(t){var r=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=r}return!1},lG.regexp_eatUncapturingGroup=function(t){var r=t.pos;if(t.eat(40)){if(t.eat(63)){if(this.options.ecmaVersion>=16){var n=this.regexp_eatModifiers(t),i=t.eat(45);if(n||i){for(var s=0;s<n.length;s++){var a=n.charAt(s);n.indexOf(a,s+1)>-1&&t.raise("Duplicate regular expression modifiers")}if(i){var o=this.regexp_eatModifiers(t);n||o||58!==t.current()||t.raise("Invalid regular expression modifiers");for(var l=0;l<o.length;l++){var u=o.charAt(l);(o.indexOf(u,l+1)>-1||n.indexOf(u)>-1)&&t.raise("Duplicate regular expression modifiers")}}}}if(t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}}t.pos=r}return!1},lG.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):63===t.current()&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1},lG.regexp_eatModifiers=function(t){for(var r,n="",i=0;-1!==(i=t.current())&&(105===(r=i)||109===r||115===r);)n+=o6(i),t.advance();return n},lG.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)},lG.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1},lG.regexp_eatSyntaxCharacter=function(t){var r=t.current();return!!lW(r)&&(t.lastIntValue=r,t.advance(),!0)},lG.regexp_eatPatternCharacters=function(t){for(var r=t.pos,n=0;-1!==(n=t.current())&&!lW(n);)t.advance();return t.pos!==r},lG.regexp_eatExtendedPatternCharacter=function(t){var r=t.current();return!(-1===r||36===r||r>=40&&r<=43||46===r||63===r||91===r||94===r||124===r)&&(t.advance(),!0)},lG.regexp_groupSpecifier=function(t){if(t.eat(63)){this.regexp_eatGroupName(t)||t.raise("Invalid group");var r=this.options.ecmaVersion>=16,n=t.groupNames[t.lastStringValue];if(n)if(r)for(var i=0;i<n.length;i+=1)n[i].separatedFrom(t.branchID)||t.raise("Duplicate capture group name");else t.raise("Duplicate capture group name");r?(n||(t.groupNames[t.lastStringValue]=[])).push(t.branchID):t.groupNames[t.lastStringValue]=!0}},lG.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1},lG.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=o6(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=o6(t.lastIntValue);return!0}return!1},lG.regexp_eatRegExpIdentifierStart=function(t){var r,n=t.pos,i=this.options.ecmaVersion>=11,s=t.current(i);return t.advance(i),92===s&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(s=t.lastIntValue),oR(r=s,!0)||36===r||95===r?(t.lastIntValue=s,!0):(t.pos=n,!1)},lG.regexp_eatRegExpIdentifierPart=function(t){var r,n=t.pos,i=this.options.ecmaVersion>=11,s=t.current(i);return t.advance(i),92===s&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(s=t.lastIntValue),oV(r=s,!0)||36===r||95===r||8204===r||8205===r?(t.lastIntValue=s,!0):(t.pos=n,!1)},lG.regexp_eatAtomEscape=function(t){return!!(this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t))||(t.switchU&&(99===t.current()&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)},lG.regexp_eatBackReference=function(t){var r=t.pos;if(this.regexp_eatDecimalEscape(t)){var n=t.lastIntValue;if(t.switchU)return n>t.maxBackReference&&(t.maxBackReference=n),!0;if(n<=t.numCapturingParens)return!0;t.pos=r}return!1},lG.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1},lG.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)},lG.regexp_eatCControlLetter=function(t){var r=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=r}return!1},lG.regexp_eatZero=function(t){return 48===t.current()&&!lX(t.lookahead())&&(t.lastIntValue=0,t.advance(),!0)},lG.regexp_eatControlEscape=function(t){var r=t.current();return 116===r?(t.lastIntValue=9,t.advance(),!0):110===r?(t.lastIntValue=10,t.advance(),!0):118===r?(t.lastIntValue=11,t.advance(),!0):102===r?(t.lastIntValue=12,t.advance(),!0):114===r&&(t.lastIntValue=13,t.advance(),!0)},lG.regexp_eatControlLetter=function(t){var r=t.current();return!!lq(r)&&(t.lastIntValue=r%32,t.advance(),!0)},lG.regexp_eatRegExpUnicodeEscapeSequence=function(t,r){void 0===r&&(r=!1);var n,i=t.pos,s=r||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var a=t.lastIntValue;if(s&&a>=55296&&a<=56319){var o=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var l=t.lastIntValue;if(l>=56320&&l<=57343)return t.lastIntValue=1024*(a-55296)+(l-56320)+65536,!0}t.pos=o,t.lastIntValue=a}return!0}if(s&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&(n=t.lastIntValue)>=0&&n<=1114111)return!0;s&&t.raise("Invalid unicode escape"),t.pos=i}return!1},lG.regexp_eatIdentityEscape=function(t){if(t.switchU)return!!this.regexp_eatSyntaxCharacter(t)||!!t.eat(47)&&(t.lastIntValue=47,!0);var r=t.current();return!(99===r||t.switchN&&107===r)&&(t.lastIntValue=r,t.advance(),!0)},lG.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var r=t.current();if(r>=49&&r<=57){do t.lastIntValue=10*t.lastIntValue+(r-48),t.advance();while((r=t.current())>=48&&r<=57)return!0}return!1},lG.regexp_eatCharacterClassEscape=function(t){var r,n=t.current();if(100===n||68===n||115===n||83===n||119===n||87===n)return t.lastIntValue=-1,t.advance(),1;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=80===n)||112===n)){if(t.lastIntValue=-1,t.advance(),t.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&2===r&&t.raise("Invalid property name"),r;t.raise("Invalid property name")}return 0},lG.regexp_eatUnicodePropertyValueExpression=function(t){var r=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var n=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var i=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,n,i),1}}if(t.pos=r,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var s=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,s)}return 0},lG.regexp_validateUnicodePropertyNameAndValue=function(t,r,n){o2(t.unicodeProperties.nonBinary,r)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[r].test(n)||t.raise("Invalid property value")},lG.regexp_validateUnicodePropertyNameOrValue=function(t,r){return t.unicodeProperties.binary.test(r)?1:t.switchV&&t.unicodeProperties.binaryOfStrings.test(r)?2:void t.raise("Invalid property name")},lG.regexp_eatUnicodePropertyName=function(t){var r=0;for(t.lastStringValue="";lY(r=t.current());)t.lastStringValue+=o6(r),t.advance();return""!==t.lastStringValue},lG.regexp_eatUnicodePropertyValue=function(t){var r,n=0;for(t.lastStringValue="";lY(r=n=t.current())||lX(r);)t.lastStringValue+=o6(n),t.advance();return""!==t.lastStringValue},lG.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)},lG.regexp_eatCharacterClass=function(t){if(t.eat(91)){var r=t.eat(94),n=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),r&&2===n&&t.raise("Negated character class may contain strings"),!0}return!1},lG.regexp_classContents=function(t){return 93===t.current()?1:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),1)},lG.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var r=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var n=t.lastIntValue;t.switchU&&(-1===r||-1===n)&&t.raise("Invalid character class"),-1!==r&&-1!==n&&r>n&&t.raise("Range out of order in character class")}}},lG.regexp_eatClassAtom=function(t){var r=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var n=t.current();(99===n||lQ(n))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=r}var i=t.current();return 93!==i&&(t.lastIntValue=i,t.advance(),!0)},lG.regexp_eatClassEscape=function(t){var r=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=r}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)},lG.regexp_classSetExpression=function(t){var r,n=1;if(this.regexp_eatClassSetRange(t));else if(r=this.regexp_eatClassSetOperand(t)){2===r&&(n=2);for(var i=t.pos;t.eatChars([38,38]);)38!==t.current()&&(r=this.regexp_eatClassSetOperand(t))?2!==r&&(n=1):t.raise("Invalid character in character class");if(i!==t.pos)return n;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(i!==t.pos)return n}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(!(r=this.regexp_eatClassSetOperand(t)))return n;2===r&&(n=2)}},lG.regexp_eatClassSetRange=function(t){var r=t.pos;if(this.regexp_eatClassSetCharacter(t)){var n=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;return -1!==n&&-1!==i&&n>i&&t.raise("Range out of order in character class"),!0}t.pos=r}return!1},lG.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?1:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)},lG.regexp_eatNestedClass=function(t){var r=t.pos;if(t.eat(91)){var n=t.eat(94),i=this.regexp_classContents(t);if(t.eat(93))return n&&2===i&&t.raise("Negated character class may contain strings"),i;t.pos=r}if(t.eat(92)){var s=this.regexp_eatCharacterClassEscape(t);if(s)return s;t.pos=r}return null},lG.regexp_eatClassStringDisjunction=function(t){var r=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var n=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return n}else t.raise("Invalid escape");t.pos=r}return null},lG.regexp_classStringDisjunctionContents=function(t){for(var r=this.regexp_classString(t);t.eat(124);)2===this.regexp_classString(t)&&(r=2);return r},lG.regexp_classString=function(t){for(var r=0;this.regexp_eatClassSetCharacter(t);)r++;return 1===r?1:2},lG.regexp_eatClassSetCharacter=function(t){var r=t.pos;if(t.eat(92))return!(!this.regexp_eatCharacterEscape(t)&&!this.regexp_eatClassSetReservedPunctuator(t))||(t.eat(98)?(t.lastIntValue=8,!0):(t.pos=r,!1));var n=t.current();return!(n<0||n===t.lookahead()&&(33===n||n>=35&&n<=38||n>=42&&n<=44||46===n||n>=58&&n<=64||94===n||96===n||126===n))&&!(40===n||41===n||45===n||47===n||n>=91&&n<=93||n>=123&&n<=125)&&(t.advance(),t.lastIntValue=n,!0)},lG.regexp_eatClassSetReservedPunctuator=function(t){var r=t.current();return!!(33===r||35===r||37===r||38===r||44===r||45===r||r>=58&&r<=62||64===r||96===r||126===r)&&(t.lastIntValue=r,t.advance(),!0)},lG.regexp_eatClassControlLetter=function(t){var r=t.current();return!(!lX(r)&&95!==r)&&(t.lastIntValue=r%32,t.advance(),!0)},lG.regexp_eatHexEscapeSequence=function(t){var r=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=r}return!1},lG.regexp_eatDecimalDigits=function(t){var r=t.pos,n=0;for(t.lastIntValue=0;lX(n=t.current());)t.lastIntValue=10*t.lastIntValue+(n-48),t.advance();return t.pos!==r},lG.regexp_eatHexDigits=function(t){var r=t.pos,n=0;for(t.lastIntValue=0;lK(n=t.current());)t.lastIntValue=16*t.lastIntValue+lZ(n),t.advance();return t.pos!==r},lG.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var r=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var n=t.lastIntValue;r<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=64*r+8*n+t.lastIntValue:t.lastIntValue=8*r+n}else t.lastIntValue=r;return!0}return!1},lG.regexp_eatOctalDigit=function(t){var r=t.current();return lQ(r)?(t.lastIntValue=r-48,t.advance(),!0):(t.lastIntValue=0,!1)},lG.regexp_eatFixedHexDigits=function(t,r){var n=t.pos;t.lastIntValue=0;for(var i=0;i<r;++i){var s=t.current();if(!lK(s))return t.pos=n,!1;t.lastIntValue=16*t.lastIntValue+lZ(s),t.advance()}return!0};var lJ=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new o7(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},l0=li.prototype;function l1(t){return"function"!=typeof BigInt?null:BigInt(t.replace(/_/g,""))}l0.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new lJ(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},l0.getToken=function(){return this.next(),new lJ(this)},"u">typeof Symbol&&(l0[Symbol.iterator]=function(){var t=this;return{next:function(){var r=t.getToken();return{done:r.type===oW.eof,value:r}}}}),l0.nextToken=function(){var t=this.curContext();return t&&t.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(oW.eof):t.override?t.override(this):void this.readToken(this.fullCharCodeAtPos())},l0.readToken=function(t){return oR(t,this.options.ecmaVersion>=6)||92===t?this.readWord():this.getTokenFromCode(t)},l0.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var r=this.input.charCodeAt(this.pos+1);return r<=56319||r>=57344?t:(t<<10)+r-0x35fdc00},l0.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),r=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(-1===n&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var i=void 0,s=r;(i=oK(this.input,s,this.pos))>-1;)++this.curLine,s=this.lineStart=i;this.options.onComment&&this.options.onComment(!0,this.input.slice(r+2,n),r,this.pos,t,this.curPosition())},l0.skipLineComment=function(t){for(var r=this.pos,n=this.options.onComment&&this.curPosition(),i=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!oX(i);)i=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(r+t,this.pos),r,this.pos,n,this.curPosition())},l0.skipSpace=function(){r:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break r}break;default:if(!(t>8&&t<14||t>=5760&&oZ.test(String.fromCharCode(t))))break r;++this.pos}}},l0.finishToken=function(t,r){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=t,this.value=r,this.updateContext(n)},l0.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var r=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===t&&46===r?(this.pos+=3,this.finishToken(oW.ellipsis)):(++this.pos,this.finishToken(oW.dot))},l0.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===t?this.finishOp(oW.assign,2):this.finishOp(oW.slash,1)},l0.readToken_mult_modulo_exp=function(t){var r=this.input.charCodeAt(this.pos+1),n=1,i=42===t?oW.star:oW.modulo;return this.options.ecmaVersion>=7&&42===t&&42===r&&(++n,i=oW.starstar,r=this.input.charCodeAt(this.pos+2)),61===r?this.finishOp(oW.assign,n+1):this.finishOp(i,n)},l0.readToken_pipe_amp=function(t){var r=this.input.charCodeAt(this.pos+1);return r===t?this.options.ecmaVersion>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(oW.assign,3):this.finishOp(124===t?oW.logicalOR:oW.logicalAND,2):61===r?this.finishOp(oW.assign,2):this.finishOp(124===t?oW.bitwiseOR:oW.bitwiseAND,1)},l0.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(oW.assign,2):this.finishOp(oW.bitwiseXOR,1)},l0.readToken_plus_min=function(t){var r=this.input.charCodeAt(this.pos+1);return r===t?45!==r||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!oq.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(oW.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===r?this.finishOp(oW.assign,2):this.finishOp(oW.plusMin,1)},l0.readToken_lt_gt=function(t){var r=this.input.charCodeAt(this.pos+1),n=1;return r===t?(n=62===t&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(oW.assign,n+1):this.finishOp(oW.bitShift,n)):33!==r||60!==t||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===r&&(n=2),this.finishOp(oW.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},l0.readToken_eq_excl=function(t){var r=this.input.charCodeAt(this.pos+1);return 61===r?this.finishOp(oW.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===t&&62===r&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(oW.arrow)):this.finishOp(61===t?oW.eq:oW.prefix,1)},l0.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var r=this.input.charCodeAt(this.pos+1);if(46===r){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(oW.questionDot,2)}if(63===r)return t>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(oW.assign,3):this.finishOp(oW.coalesce,2)}return this.finishOp(oW.question,1)},l0.readToken_numberSign=function(){var t=35;if(this.options.ecmaVersion>=13&&(++this.pos,oR(t=this.fullCharCodeAtPos(),!0)||92===t))return this.finishToken(oW.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+o6(t)+"'")},l0.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(oW.parenL);case 41:return++this.pos,this.finishToken(oW.parenR);case 59:return++this.pos,this.finishToken(oW.semi);case 44:return++this.pos,this.finishToken(oW.comma);case 91:return++this.pos,this.finishToken(oW.bracketL);case 93:return++this.pos,this.finishToken(oW.bracketR);case 123:return++this.pos,this.finishToken(oW.braceL);case 125:return++this.pos,this.finishToken(oW.braceR);case 58:return++this.pos,this.finishToken(oW.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(oW.backQuote);case 48:var r=this.input.charCodeAt(this.pos+1);if(120===r||88===r)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===r||79===r)return this.readRadixNumber(8);if(98===r||66===r)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(oW.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+o6(t)+"'")},l0.finishOp=function(t,r){var n=this.input.slice(this.pos,this.pos+r);return this.pos+=r,this.finishToken(t,n)},l0.readRegexp=function(){for(var t,r,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var i=this.input.charAt(this.pos);if(oq.test(i)&&this.raise(n,"Unterminated regular expression"),t)t=!1;else{if("["===i)r=!0;else if("]"===i&&r)r=!1;else if("/"===i&&!r)break;t="\\"===i}++this.pos}var s=this.input.slice(n,this.pos);++this.pos;var a=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(a);var l=this.regexpState||(this.regexpState=new lH(this));l.reset(n,s,o),this.validateRegExpFlags(l),this.validateRegExpPattern(l);var u=null;try{u=new RegExp(s,o)}catch(t){}return this.finishToken(oW.regexp,{pattern:s,flags:o,value:u})},l0.readInt=function(t,r,n){for(var i=this.options.ecmaVersion>=12&&void 0===r,s=n&&48===this.input.charCodeAt(this.pos),a=this.pos,o=0,l=0,u=0,h=null==r?1/0:r;u<h;++u,++this.pos){var c=this.input.charCodeAt(this.pos),d=void 0;if(i&&95===c)s&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===l&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===u&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),l=c;else{if((d=c>=97?c-97+10:c>=65?c-65+10:c>=48&&c<=57?c-48:1/0)>=t)break;l=c,o=o*t+d}}return i&&95===l&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||null!=r&&this.pos-a!==r?null:o},l0.readRadixNumber=function(t){var r=this.pos;this.pos+=2;var n=this.readInt(t);return null==n&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(n=l1(this.input.slice(r,this.pos)),++this.pos):oR(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(oW.num,n)},l0.readNumber=function(t){var r=this.pos;t||null!==this.readInt(10,void 0,!0)||this.raise(r,"Invalid number");var n=this.pos-r>=2&&48===this.input.charCodeAt(r);n&&this.strict&&this.raise(r,"Invalid number");var i=this.input.charCodeAt(this.pos);if(!n&&!t&&this.options.ecmaVersion>=11&&110===i){var s=l1(this.input.slice(r,this.pos));return++this.pos,oR(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(oW.num,s)}n&&/[89]/.test(this.input.slice(r,this.pos))&&(n=!1),46!==i||n||(++this.pos,this.readInt(10),i=this.input.charCodeAt(this.pos)),69!==i&&101!==i||n||(43!==(i=this.input.charCodeAt(++this.pos))&&45!==i||++this.pos,null===this.readInt(10)&&this.raise(r,"Invalid number")),oR(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a,o=(a=this.input.slice(r,this.pos),n?parseInt(a,8):parseFloat(a.replace(/_/g,"")));return this.finishToken(oW.num,o)},l0.readCodePoint=function(){var t;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var r=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(r,"Code point out of bounds")}else t=this.readHexChar(4);return t},l0.readString=function(t){for(var r="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var i=this.input.charCodeAt(this.pos);if(i===t)break;92===i?(r+=this.input.slice(n,this.pos),r+=this.readEscapedChar(!1),n=this.pos):8232===i||8233===i?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(oX(i)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return r+=this.input.slice(n,this.pos++),this.finishToken(oW.string,r)};var l2={};function l5(t,r,n,i,s){var a=[];n||(n=l6),function t(i,s,o){var l=o||i.type,u=i!==a[a.length-1];u&&a.push(i),n[l](i,s,t),r[l]&&r[l](i,s||a,a),u&&a.pop()}(t,i,s)}function l3(t,r,n){n(t,r)}function l4(t,r,n){}l0.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t!==l2)throw t;this.readInvalidTemplateToken()}this.inTemplateElement=!1},l0.invalidStringToken=function(t,r){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw l2;this.raise(t,r)},l0.readTmplToken=function(){for(var t="",r=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==oW.template&&this.type!==oW.invalidTemplate?(t+=this.input.slice(r,this.pos),this.finishToken(oW.template,t)):36===n?(this.pos+=2,this.finishToken(oW.dollarBraceL)):(++this.pos,this.finishToken(oW.backQuote));if(92===n)t+=this.input.slice(r,this.pos),t+=this.readEscapedChar(!0),r=this.pos;else if(oX(n)){switch(t+=this.input.slice(r,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:t+="\n";break;default:t+=String.fromCharCode(n)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),r=this.pos}else++this.pos}},l0.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(oW.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":"\n"===this.input[this.pos+1]&&++this.pos;case"\n":case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1}this.raise(this.start,"Unterminated template")},l0.readEscapedChar=function(t){var r=this.input.charCodeAt(++this.pos);switch(++this.pos,r){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return o6(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(r>=48&&r<=55){var i=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],s=parseInt(i,8);return s>255&&(s=parseInt(i=i.slice(0,-1),8)),this.pos+=i.length-1,r=this.input.charCodeAt(this.pos),("0"!==i||56===r||57===r)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-i.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(s)}return oX(r)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(r)}},l0.readHexChar=function(t){var r=this.pos,n=this.readInt(16,t);return null===n&&this.invalidStringToken(r,"Bad character escape sequence"),n},l0.readWord1=function(){this.containsEsc=!1;for(var t="",r=!0,n=this.pos,i=this.options.ecmaVersion>=6;this.pos<this.input.length;){var s=this.fullCharCodeAtPos();if(oV(s,i))this.pos+=s<=65535?1:2;else{if(92!==s)break;this.containsEsc=!0,t+=this.input.slice(n,this.pos);var a=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(r?oR:oV)(o,i)||this.invalidStringToken(a,"Invalid Unicode escape"),t+=o6(o),n=this.pos}r=!1}return t+this.input.slice(n,this.pos)},l0.readWord=function(){var t=this.readWord1(),r=oW.name;return this.keywords.test(t)&&(r=o$[t]),this.finishToken(r,t)},li.acorn={Parser:li,version:"8.15.0",defaultOptions:lt,Position:o9,SourceLocation:o7,getLineInfo:le,Node:lE,TokenType:oz,tokTypes:oW,keywordTypes:o$,TokContext:ly,tokContexts:lv,isIdentifierChar:oV,isIdentifierStart:oR,Token:lJ,isNewLine:oX,lineBreak:oq,lineBreakG:oY,nonASCIIwhitespace:oZ};var l6={};l6.Program=l6.BlockStatement=l6.StaticBlock=function(t,r,n){for(var i=0,s=t.body;i<s.length;i+=1)n(s[i],r,"Statement")},l6.Statement=l3,l6.EmptyStatement=l4,l6.ExpressionStatement=l6.ParenthesizedExpression=l6.ChainExpression=function(t,r,n){return n(t.expression,r,"Expression")},l6.IfStatement=function(t,r,n){n(t.test,r,"Expression"),n(t.consequent,r,"Statement"),t.alternate&&n(t.alternate,r,"Statement")},l6.LabeledStatement=function(t,r,n){return n(t.body,r,"Statement")},l6.BreakStatement=l6.ContinueStatement=l4,l6.WithStatement=function(t,r,n){n(t.object,r,"Expression"),n(t.body,r,"Statement")},l6.SwitchStatement=function(t,r,n){n(t.discriminant,r,"Expression");for(var i=0,s=t.cases;i<s.length;i+=1)n(s[i],r)},l6.SwitchCase=function(t,r,n){t.test&&n(t.test,r,"Expression");for(var i=0,s=t.consequent;i<s.length;i+=1)n(s[i],r,"Statement")},l6.ReturnStatement=l6.YieldExpression=l6.AwaitExpression=function(t,r,n){t.argument&&n(t.argument,r,"Expression")},l6.ThrowStatement=l6.SpreadElement=function(t,r,n){return n(t.argument,r,"Expression")},l6.TryStatement=function(t,r,n){n(t.block,r,"Statement"),t.handler&&n(t.handler,r),t.finalizer&&n(t.finalizer,r,"Statement")},l6.CatchClause=function(t,r,n){t.param&&n(t.param,r,"Pattern"),n(t.body,r,"Statement")},l6.WhileStatement=l6.DoWhileStatement=function(t,r,n){n(t.test,r,"Expression"),n(t.body,r,"Statement")},l6.ForStatement=function(t,r,n){t.init&&n(t.init,r,"ForInit"),t.test&&n(t.test,r,"Expression"),t.update&&n(t.update,r,"Expression"),n(t.body,r,"Statement")},l6.ForInStatement=l6.ForOfStatement=function(t,r,n){n(t.left,r,"ForInit"),n(t.right,r,"Expression"),n(t.body,r,"Statement")},l6.ForInit=function(t,r,n){"VariableDeclaration"===t.type?n(t,r):n(t,r,"Expression")},l6.DebuggerStatement=l4,l6.FunctionDeclaration=function(t,r,n){return n(t,r,"Function")},l6.VariableDeclaration=function(t,r,n){for(var i=0,s=t.declarations;i<s.length;i+=1)n(s[i],r)},l6.VariableDeclarator=function(t,r,n){n(t.id,r,"Pattern"),t.init&&n(t.init,r,"Expression")},l6.Function=function(t,r,n){t.id&&n(t.id,r,"Pattern");for(var i=0,s=t.params;i<s.length;i+=1)n(s[i],r,"Pattern");n(t.body,r,t.expression?"Expression":"Statement")},l6.Pattern=function(t,r,n){"Identifier"===t.type?n(t,r,"VariablePattern"):"MemberExpression"===t.type?n(t,r,"MemberPattern"):n(t,r)},l6.VariablePattern=l4,l6.MemberPattern=l3,l6.RestElement=function(t,r,n){return n(t.argument,r,"Pattern")},l6.ArrayPattern=function(t,r,n){for(var i=0,s=t.elements;i<s.length;i+=1){var a=s[i];a&&n(a,r,"Pattern")}},l6.ObjectPattern=function(t,r,n){for(var i=0,s=t.properties;i<s.length;i+=1){var a=s[i];"Property"===a.type?(a.computed&&n(a.key,r,"Expression"),n(a.value,r,"Pattern")):"RestElement"===a.type&&n(a.argument,r,"Pattern")}},l6.Expression=l3,l6.ThisExpression=l6.Super=l6.MetaProperty=l4,l6.ArrayExpression=function(t,r,n){for(var i=0,s=t.elements;i<s.length;i+=1){var a=s[i];a&&n(a,r,"Expression")}},l6.ObjectExpression=function(t,r,n){for(var i=0,s=t.properties;i<s.length;i+=1)n(s[i],r)},l6.FunctionExpression=l6.ArrowFunctionExpression=l6.FunctionDeclaration,l6.SequenceExpression=function(t,r,n){for(var i=0,s=t.expressions;i<s.length;i+=1)n(s[i],r,"Expression")},l6.TemplateLiteral=function(t,r,n){for(var i=0,s=t.quasis;i<s.length;i+=1)n(s[i],r);for(var a=0,o=t.expressions;a<o.length;a+=1)n(o[a],r,"Expression")},l6.TemplateElement=l4,l6.UnaryExpression=l6.UpdateExpression=function(t,r,n){n(t.argument,r,"Expression")},l6.BinaryExpression=l6.LogicalExpression=function(t,r,n){n(t.left,r,"Expression"),n(t.right,r,"Expression")},l6.AssignmentExpression=l6.AssignmentPattern=function(t,r,n){n(t.left,r,"Pattern"),n(t.right,r,"Expression")},l6.ConditionalExpression=function(t,r,n){n(t.test,r,"Expression"),n(t.consequent,r,"Expression"),n(t.alternate,r,"Expression")},l6.NewExpression=l6.CallExpression=function(t,r,n){if(n(t.callee,r,"Expression"),t.arguments)for(var i=0,s=t.arguments;i<s.length;i+=1)n(s[i],r,"Expression")},l6.MemberExpression=function(t,r,n){n(t.object,r,"Expression"),t.computed&&n(t.property,r,"Expression")},l6.ExportNamedDeclaration=l6.ExportDefaultDeclaration=function(t,r,n){t.declaration&&n(t.declaration,r,"ExportNamedDeclaration"===t.type||t.declaration.id?"Statement":"Expression"),t.source&&n(t.source,r,"Expression")},l6.ExportAllDeclaration=function(t,r,n){t.exported&&n(t.exported,r),n(t.source,r,"Expression")},l6.ImportDeclaration=function(t,r,n){for(var i=0,s=t.specifiers;i<s.length;i+=1)n(s[i],r);n(t.source,r,"Expression")},l6.ImportExpression=function(t,r,n){n(t.source,r,"Expression")},l6.ImportSpecifier=l6.ImportDefaultSpecifier=l6.ImportNamespaceSpecifier=l6.Identifier=l6.PrivateIdentifier=l6.Literal=l4,l6.TaggedTemplateExpression=function(t,r,n){n(t.tag,r,"Expression"),n(t.quasi,r,"Expression")},l6.ClassDeclaration=l6.ClassExpression=function(t,r,n){return n(t,r,"Class")},l6.Class=function(t,r,n){t.id&&n(t.id,r,"Pattern"),t.superClass&&n(t.superClass,r,"Expression"),n(t.body,r)},l6.ClassBody=function(t,r,n){for(var i=0,s=t.body;i<s.length;i+=1)n(s[i],r)},l6.MethodDefinition=l6.PropertyDefinition=l6.Property=function(t,r,n){t.computed&&n(t.key,r,"Expression"),t.value&&n(t.value,r,"Expression")};var l8={},l9={};!function t(r){var n,i,s,a,o,l;function u(t){var r,n,i={};for(r in t)t.hasOwnProperty(r)&&(n=t[r],i[r]="object"==typeof n&&null!==n?u(n):n);return i}function h(t,r){this.parent=t,this.key=r}function c(t,r,n,i){this.node=t,this.path=r,this.wrap=n,this.ref=i}function d(){}function p(t){return null!=t&&"object"==typeof t&&"string"==typeof t.type}function f(t,r){return(t===n.ObjectExpression||t===n.ObjectPattern)&&"properties"===r}function m(t,r){for(var n=t.length-1;n>=0;--n)if(t[n].node===r)return!0;return!1}function g(t,r){return(new d).traverse(t,r)}return n={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",PrivateIdentifier:"PrivateIdentifier",Program:"Program",Property:"Property",PropertyDefinition:"PropertyDefinition",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},s={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},i={Break:a={},Skip:o={},Remove:l={}},h.prototype.replace=function(t){this.parent[this.key]=t},h.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)},d.prototype.path=function(){var t,r,n,i,s;function a(t,r){if(Array.isArray(r))for(n=0,i=r.length;n<i;++n)t.push(r[n]);else t.push(r)}if(!this.__current.path)return null;for(s=[],t=2,r=this.__leavelist.length;t<r;++t)a(s,this.__leavelist[t].path);return a(s,this.__current.path),s},d.prototype.type=function(){return this.current().type||this.__current.wrap},d.prototype.parents=function(){var t,r,n;for(n=[],t=1,r=this.__leavelist.length;t<r;++t)n.push(this.__leavelist[t].node);return n},d.prototype.current=function(){return this.__current.node},d.prototype.__execute=function(t,r){var n,i;return i=void 0,n=this.__current,this.__current=r,this.__state=null,t&&(i=t.call(this,r.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=n,i},d.prototype.notify=function(t){this.__state=t},d.prototype.skip=function(){this.notify(o)},d.prototype.break=function(){this.notify(a)},d.prototype.remove=function(){this.notify(l)},d.prototype.__initialize=function(t,r){this.visitor=r,this.root=t,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,"iteration"===r.fallback?this.__fallback=Object.keys:"function"==typeof r.fallback&&(this.__fallback=r.fallback),this.__keys=s,r.keys&&(this.__keys=Object.assign(Object.create(this.__keys),r.keys))},d.prototype.traverse=function(t,r){var n,i,s,l,u,h,d,g,y,v,x,b;for(this.__initialize(t,r),b={},n=this.__worklist,i=this.__leavelist,n.push(new c(t,null,null,null)),i.push(new c(null,null,null,null));n.length;)if((s=n.pop())!==b){if(s.node){if(h=this.__execute(r.enter,s),this.__state===a||h===a)return;if(n.push(b),i.push(s),this.__state===o||h===o)continue;if(u=(l=s.node).type||s.wrap,!(v=this.__keys[u])){if(!this.__fallback)throw Error("Unknown node type "+u+".");v=this.__fallback(l)}for(g=v.length;(g-=1)>=0;)if(x=l[d=v[g]]){if(Array.isArray(x)){for(y=x.length;(y-=1)>=0;)if(x[y]&&!m(i,x[y])){if(f(u,v[g]))s=new c(x[y],[d,y],"Property",null);else{if(!p(x[y]))continue;s=new c(x[y],[d,y],null,null)}n.push(s)}}else if(p(x)){if(m(i,x))continue;n.push(new c(x,d,null,null))}}}}else if(s=i.pop(),h=this.__execute(r.leave,s),this.__state===a||h===a)return},d.prototype.replace=function(t,r){var n,i,s,u,d,m,g,y,v,x,b,w,_;function C(t){var r,i,s,a;if(t.ref.remove()){for(i=t.ref.key,a=t.ref.parent,r=n.length;r--;)if((s=n[r]).ref&&s.ref.parent===a){if(s.ref.key<i)break;--s.ref.key}}}for(this.__initialize(t,r),b={},n=this.__worklist,i=this.__leavelist,m=new c(t,null,null,new h(w={root:t},"root")),n.push(m),i.push(m);n.length;)if((m=n.pop())!==b){if(void 0!==(d=this.__execute(r.enter,m))&&d!==a&&d!==o&&d!==l&&(m.ref.replace(d),m.node=d),this.__state!==l&&d!==l||(C(m),m.node=null),this.__state===a||d===a)return w.root;if((s=m.node)&&(n.push(b),i.push(m),this.__state!==o&&d!==o)){if(u=s.type||m.wrap,!(v=this.__keys[u])){if(!this.__fallback)throw Error("Unknown node type "+u+".");v=this.__fallback(s)}for(g=v.length;(g-=1)>=0;)if(x=s[_=v[g]])if(Array.isArray(x)){for(y=x.length;(y-=1)>=0;)if(x[y]){if(f(u,v[g]))m=new c(x[y],[_,y],"Property",new h(x,y));else{if(!p(x[y]))continue;m=new c(x[y],[_,y],null,new h(x,y))}n.push(m)}}else p(x)&&n.push(new c(x,_,null,new h(s,_)))}}else if(m=i.pop(),void 0!==(d=this.__execute(r.leave,m))&&d!==a&&d!==o&&d!==l&&m.ref.replace(d),this.__state!==l&&d!==l||C(m),this.__state===a||d===a)break;return w.root},r.Syntax=n,r.traverse=g,r.replace=function(t,r){return(new d).replace(t,r)},r.attachComments=function(t,r,n){var s,a,o,l,h=[];if(!t.range)throw Error("attachComments needs range information");if(!n.length){if(r.length){for(o=0,a=r.length;o<a;o+=1)(s=u(r[o])).extendedRange=[0,t.range[0]],h.push(s);t.leadingComments=h}return t}for(o=0,a=r.length;o<a;o+=1)h.push(function(t,r){var n;return n=function(t,r){var n,i,s,a;for(i=t.length,s=0;i;)r(t[a=s+(n=i>>>1)])?i=n:(s=a+1,i-=n+1);return s}(r,function(r){return r.range[0]>t.range[0]}),t.extendedRange=[t.range[0],t.range[1]],n!==r.length&&(t.extendedRange[1]=r[n].range[0]),(n-=1)>=0&&(t.extendedRange[0]=r[n].range[1]),t}(u(r[o]),n));return l=0,g(t,{enter:function(t){for(var r;l<h.length&&!((r=h[l]).extendedRange[1]>t.range[0]);)r.extendedRange[1]===t.range[0]?(t.leadingComments||(t.leadingComments=[]),t.leadingComments.push(r),h.splice(l,1)):l+=1;return l===h.length?i.Break:h[l].extendedRange[0]>t.range[1]?i.Skip:void 0}}),l=0,g(t,{leave:function(t){for(var r;l<h.length&&(r=h[l],!(t.range[1]<r.extendedRange[0]));)t.range[1]===r.extendedRange[0]?(t.trailingComments||(t.trailingComments=[]),t.trailingComments.push(r),h.splice(l,1)):l+=1;return l===h.length?i.Break:h[l].extendedRange[0]>t.range[1]?i.Skip:void 0}}),t},r.VisitorKeys=s,r.VisitorOption=i,r.Controller=d,r.cloneEnvironment=function(){return t({})},r}(l9);var l7={},ue={exports:{}};function ut(t){if(null==t)return!1;switch(t.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function ur(t){switch(t.type){case"IfStatement":return null!=t.alternate?t.alternate:t.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return t.body}return null}ue.exports={isExpression:function(t){if(null==t)return!1;switch(t.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1},isStatement:ut,isIterationStatement:function(t){if(null==t)return!1;switch(t.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1},isSourceElement:function(t){return ut(t)||null!=t&&"FunctionDeclaration"===t.type},isProblematicIfStatement:function(t){var r;if("IfStatement"!==t.type||null==t.alternate)return!1;r=t.consequent;do{if("IfStatement"===r.type&&null==r.alternate)return!0;r=ur(r)}while(r)return!1},trailingStatement:ur};var un=ue.exports,ui={exports:{}};!function(){var t,r,n,i,s,a;function o(t){return t<=65535?String.fromCharCode(t):String.fromCharCode(Math.floor((t-65536)/1024)+55296)+String.fromCharCode((t-65536)%1024+56320)}for(r={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},t={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},n=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279],i=Array(128),a=0;a<128;++a)i[a]=a>=97&&a<=122||a>=65&&a<=90||36===a||95===a;for(s=Array(128),a=0;a<128;++a)s[a]=a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||36===a||95===a;ui.exports={isDecimalDigit:function(t){return 48<=t&&t<=57},isHexDigit:function(t){return 48<=t&&t<=57||97<=t&&t<=102||65<=t&&t<=70},isOctalDigit:function(t){return t>=48&&t<=55},isWhiteSpace:function(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&n.indexOf(t)>=0},isLineTerminator:function(t){return 10===t||13===t||8232===t||8233===t},isIdentifierStartES5:function(t){return t<128?i[t]:r.NonAsciiIdentifierStart.test(o(t))},isIdentifierPartES5:function(t){return t<128?s[t]:r.NonAsciiIdentifierPart.test(o(t))},isIdentifierStartES6:function(r){return r<128?i[r]:t.NonAsciiIdentifierStart.test(o(r))},isIdentifierPartES6:function(r){return r<128?s[r]:t.NonAsciiIdentifierPart.test(o(r))}}}();var us=ui.exports,ua={exports:{}};!function(){function t(t,n){return!(!n&&"yield"===t)&&r(t,n)}function r(t,r){if(r&&function(t){switch(t){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}(t))return!0;switch(t.length){case 2:return"if"===t||"in"===t||"do"===t;case 3:return"var"===t||"for"===t||"new"===t||"try"===t;case 4:return"this"===t||"else"===t||"case"===t||"void"===t||"with"===t||"enum"===t;case 5:return"while"===t||"break"===t||"catch"===t||"throw"===t||"const"===t||"yield"===t||"class"===t||"super"===t;case 6:return"return"===t||"typeof"===t||"delete"===t||"switch"===t||"export"===t||"import"===t;case 7:return"default"===t||"finally"===t||"extends"===t;case 8:return"function"===t||"continue"===t||"debugger"===t;case 10:return"instanceof"===t;default:return!1}}function n(r,n){return"null"===r||"true"===r||"false"===r||t(r,n)}function i(t,n){return"null"===t||"true"===t||"false"===t||r(t,n)}function s(t){var r,n,i;if(0===t.length||(i=t.charCodeAt(0),!us.isIdentifierStartES5(i)))return!1;for(r=1,n=t.length;r<n;++r)if(i=t.charCodeAt(r),!us.isIdentifierPartES5(i))return!1;return!0}function a(t){var r,n,i,s,a;if(0===t.length)return!1;for(a=us.isIdentifierStartES6,r=0,n=t.length;r<n;++r){if(55296<=(i=t.charCodeAt(r))&&i<=56319){if(++r>=n||!(56320<=(s=t.charCodeAt(r))&&s<=57343))return!1;i=1024*(i-55296)+(s-56320)+65536}if(!a(i))return!1;a=us.isIdentifierPartES6}return!0}ua.exports={isKeywordES5:t,isKeywordES6:r,isReservedWordES5:n,isReservedWordES6:i,isRestrictedWord:function(t){return"eval"===t||"arguments"===t},isIdentifierNameES5:s,isIdentifierNameES6:a,isIdentifierES5:function(t,r){return s(t)&&!n(t,r)},isIdentifierES6:function(t,r){return a(t)&&!i(t,r)}}}();var uo=ua.exports;l7.ast=un,l7.code=us,l7.keyword=uo;var ul,uu,uh,uc,ud={},up={},uf={},um={};function ug(){if(uc)return uf;uc=1;var t=function(){if(uh)return um;uh=1;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return um.encode=function(r){if(0<=r&&r<t.length)return t[r];throw TypeError("Must be between 0 and 63: "+r)},um.decode=function(t){return 65<=t&&t<=90?t-65:97<=t&&t<=122?t-97+26:48<=t&&t<=57?t-48+52:43==t?62:47==t?63:-1},um}();return uf.encode=function(r){var n,i="",s=r<0?1+(-r<<1):0+(r<<1);do n=31&s,(s>>>=5)>0&&(n|=32),i+=t.encode(n);while(s>0)return i},uf.decode=function(r,n,i){var s,a,o,l,u=r.length,h=0,c=0;do{if(n>=u)throw Error("Expected more digits in base 64 VLQ value.");if(-1===(a=t.decode(r.charCodeAt(n++))))throw Error("Invalid base64 digit: "+r.charAt(n-1));s=!!(32&a),h+=(a&=31)<<c,c+=5}while(s)l=(o=h)>>1,i.value=1&~o?l:-l,i.rest=n},uf}var uy,uv={};function ux(){return uy||(uy=1,function(t){t.getArg=function(t,r,n){if(r in t)return t[r];if(3==arguments.length)return n;throw Error('"'+r+'" is a required argument.')};var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function i(t){var n=t.match(r);return n?{scheme:n[1],auth:n[2],host:n[3],port:n[4],path:n[5]}:null}function s(t){var r="";return t.scheme&&(r+=t.scheme+":"),r+="//",t.auth&&(r+=t.auth+"@"),t.host&&(r+=t.host),t.port&&(r+=":"+t.port),t.path&&(r+=t.path),r}function a(r){var n=r,a=i(r);if(a){if(!a.path)return r;n=a.path}for(var o,l=t.isAbsolute(n),u=n.split(/\/+/),h=0,c=u.length-1;c>=0;c--)"."===(o=u[c])?u.splice(c,1):".."===o?h++:h>0&&(""===o?(u.splice(c+1,h),h=0):(u.splice(c,2),h--));return""===(n=u.join("/"))&&(n=l?"/":"."),a?(a.path=n,s(a)):n}function o(t,r){""===t&&(t="."),""===r&&(r=".");var o=i(r),l=i(t);if(l&&(t=l.path||"/"),o&&!o.scheme)return l&&(o.scheme=l.scheme),s(o);if(o||r.match(n))return r;if(l&&!l.host&&!l.path)return l.host=r,s(l);var u="/"===r.charAt(0)?r:a(t.replace(/\/+$/,"")+"/"+r);return l?(l.path=u,s(l)):u}t.urlParse=i,t.urlGenerate=s,t.normalize=a,t.join=o,t.isAbsolute=function(t){return"/"===t.charAt(0)||r.test(t)},t.relative=function(t,r){""===t&&(t="."),t=t.replace(/\/$/,"");for(var n=0;0!==r.indexOf(t+"/");){var i=t.lastIndexOf("/");if(i<0||(t=t.slice(0,i)).match(/^([^\/]+:\/)?\/*$/))return r;++n}return Array(n+1).join("../")+r.substr(t.length+1)};var l=!("__proto__"in Object.create(null));function u(t){return t}function h(t){if(!t)return!1;var r=t.length;if(r<9||95!==t.charCodeAt(r-1)||95!==t.charCodeAt(r-2)||111!==t.charCodeAt(r-3)||116!==t.charCodeAt(r-4)||111!==t.charCodeAt(r-5)||114!==t.charCodeAt(r-6)||112!==t.charCodeAt(r-7)||95!==t.charCodeAt(r-8)||95!==t.charCodeAt(r-9))return!1;for(var n=r-10;n>=0;n--)if(36!==t.charCodeAt(n))return!1;return!0}function c(t,r){return t===r?0:null===t?1:null===r?-1:t>r?1:-1}t.toSetString=l?u:function(t){return h(t)?"$"+t:t},t.fromSetString=l?u:function(t){return h(t)?t.slice(1):t},t.compareByOriginalPositions=function(t,r,n){var i=c(t.source,r.source);return 0!==i||0!=(i=t.originalLine-r.originalLine)||0!=(i=t.originalColumn-r.originalColumn)||n||0!=(i=t.generatedColumn-r.generatedColumn)||0!=(i=t.generatedLine-r.generatedLine)?i:c(t.name,r.name)},t.compareByGeneratedPositionsDeflated=function(t,r,n){var i=t.generatedLine-r.generatedLine;return 0!==i||0!=(i=t.generatedColumn-r.generatedColumn)||n||0!==(i=c(t.source,r.source))||0!=(i=t.originalLine-r.originalLine)||0!=(i=t.originalColumn-r.originalColumn)?i:c(t.name,r.name)},t.compareByGeneratedPositionsInflated=function(t,r){var n=t.generatedLine-r.generatedLine;return 0!==n||0!=(n=t.generatedColumn-r.generatedColumn)||0!==(n=c(t.source,r.source))||0!=(n=t.originalLine-r.originalLine)||0!=(n=t.originalColumn-r.originalColumn)?n:c(t.name,r.name)},t.parseSourceMapInput=function(t){return JSON.parse(t.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(t,r,n){if(r=r||"",t&&("/"!==t[t.length-1]&&"/"!==r[0]&&(t+="/"),r=t+r),n){var l=i(n);if(!l)throw Error("sourceMapURL could not be parsed");if(l.path){var u=l.path.lastIndexOf("/");u>=0&&(l.path=l.path.substring(0,u+1))}r=o(s(l),r)}return a(r)}}(uv)),uv}var ub,uw={};function u_(){if(ub)return uw;ub=1;var t=ux(),r=Object.prototype.hasOwnProperty,n="u">typeof Map;function i(){this._array=[],this._set=n?new Map:Object.create(null)}return i.fromArray=function(t,r){for(var n=new i,s=0,a=t.length;s<a;s++)n.add(t[s],r);return n},i.prototype.size=function(){return n?this._set.size:Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(i,s){var a=n?i:t.toSetString(i),o=n?this.has(i):r.call(this._set,a),l=this._array.length;o&&!s||this._array.push(i),o||(n?this._set.set(i,l):this._set[a]=l)},i.prototype.has=function(i){if(n)return this._set.has(i);var s=t.toSetString(i);return r.call(this._set,s)},i.prototype.indexOf=function(i){if(n){var s=this._set.get(i);if(s>=0)return s}else{var a=t.toSetString(i);if(r.call(this._set,a))return this._set[a]}throw Error('"'+i+'" is not in the set.')},i.prototype.at=function(t){if(t>=0&&t<this._array.length)return this._array[t];throw Error("No element indexed by "+t)},i.prototype.toArray=function(){return this._array.slice()},uw.ArraySet=i,uw}var uC,uS,uE={};function uD(){if(uS)return up;uS=1;var t=ug(),r=ux(),n=u_().ArraySet,i=function(){if(uC)return uE;uC=1;var t=ux();function r(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return r.prototype.unsortedForEach=function(t,r){this._array.forEach(t,r)},r.prototype.add=function(r){var n,i,s,a,o;i=(n=this._last).generatedLine,s=r.generatedLine,a=n.generatedColumn,o=r.generatedColumn,s>i||s==i&&o>=a||0>=t.compareByGeneratedPositionsInflated(n,r)?this._last=r:this._sorted=!1,this._array.push(r)},r.prototype.toArray=function(){return this._sorted||(this._array.sort(t.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},uE.MappingList=r,uE}().MappingList;function s(t){t||(t={}),this._file=r.getArg(t,"file",null),this._sourceRoot=r.getArg(t,"sourceRoot",null),this._skipValidation=r.getArg(t,"skipValidation",!1),this._sources=new n,this._names=new n,this._mappings=new i,this._sourcesContents=null}return s.prototype._version=3,s.fromSourceMap=function(t){var n=t.sourceRoot,i=new s({file:t.file,sourceRoot:n});return t.eachMapping(function(t){var s={generated:{line:t.generatedLine,column:t.generatedColumn}};null!=t.source&&(s.source=t.source,null!=n&&(s.source=r.relative(n,s.source)),s.original={line:t.originalLine,column:t.originalColumn},null!=t.name&&(s.name=t.name)),i.addMapping(s)}),t.sources.forEach(function(s){var a=s;null!==n&&(a=r.relative(n,s)),i._sources.has(a)||i._sources.add(a);var o=t.sourceContentFor(s);null!=o&&i.setSourceContent(s,o)}),i},s.prototype.addMapping=function(t){var n=r.getArg(t,"generated"),i=r.getArg(t,"original",null),s=r.getArg(t,"source",null),a=r.getArg(t,"name",null);this._skipValidation||this._validateMapping(n,i,s,a),null!=s&&(s=String(s),this._sources.has(s)||this._sources.add(s)),null!=a&&(a=String(a),this._names.has(a)||this._names.add(a)),this._mappings.add({generatedLine:n.line,generatedColumn:n.column,originalLine:null!=i&&i.line,originalColumn:null!=i&&i.column,source:s,name:a})},s.prototype.setSourceContent=function(t,n){var i=t;null!=this._sourceRoot&&(i=r.relative(this._sourceRoot,i)),null!=n?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[r.toSetString(i)]=n):this._sourcesContents&&(delete this._sourcesContents[r.toSetString(i)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},s.prototype.applySourceMap=function(t,i,s){var a=i;if(null==i){if(null==t.file)throw Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');a=t.file}var o=this._sourceRoot;null!=o&&(a=r.relative(o,a));var l=new n,u=new n;this._mappings.unsortedForEach(function(n){if(n.source===a&&null!=n.originalLine){var i=t.originalPositionFor({line:n.originalLine,column:n.originalColumn});null!=i.source&&(n.source=i.source,null!=s&&(n.source=r.join(s,n.source)),null!=o&&(n.source=r.relative(o,n.source)),n.originalLine=i.line,n.originalColumn=i.column,null!=i.name&&(n.name=i.name))}var h=n.source;null==h||l.has(h)||l.add(h);var c=n.name;null==c||u.has(c)||u.add(c)},this),this._sources=l,this._names=u,t.sources.forEach(function(n){var i=t.sourceContentFor(n);null!=i&&(null!=s&&(n=r.join(s,n)),null!=o&&(n=r.relative(o,n)),this.setSourceContent(n,i))},this)},s.prototype._validateMapping=function(t,r,n,i){if(r&&"number"!=typeof r.line&&"number"!=typeof r.column)throw Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0)||r||n||i)&&!(t&&"line"in t&&"column"in t&&r&&"line"in r&&"column"in r&&t.line>0&&t.column>=0&&r.line>0&&r.column>=0&&n))throw Error("Invalid mapping: "+JSON.stringify({generated:t,source:n,original:r,name:i}))},s.prototype._serializeMappings=function(){for(var n,i,s,a,o=0,l=1,u=0,h=0,c=0,d=0,p="",f=this._mappings.toArray(),m=0,g=f.length;m<g;m++){if(n="",(i=f[m]).generatedLine!==l)for(o=0;i.generatedLine!==l;)n+=";",l++;else if(m>0){if(!r.compareByGeneratedPositionsInflated(i,f[m-1]))continue;n+=","}n+=t.encode(i.generatedColumn-o),o=i.generatedColumn,null!=i.source&&(a=this._sources.indexOf(i.source),n+=t.encode(a-d),d=a,n+=t.encode(i.originalLine-1-h),h=i.originalLine-1,n+=t.encode(i.originalColumn-u),u=i.originalColumn,null!=i.name&&(s=this._names.indexOf(i.name),n+=t.encode(s-c),c=s)),p+=n}return p},s.prototype._generateSourcesContent=function(t,n){return t.map(function(t){if(!this._sourcesContents)return null;null!=n&&(t=r.relative(n,t));var i=r.toSetString(t);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)},s.prototype.toJSON=function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(t.file=this._file),null!=this._sourceRoot&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},s.prototype.toString=function(){return JSON.stringify(this.toJSON())},up.SourceMapGenerator=s,up}var uA,uk,uT,uF,uM,uI={},uB={},uP={},uL={};(function(){var t,r,n,i,s,a,o,l,u,h,c,d,p,f,m,g,y,v,x,b,w,_;function C(t){return V.Statement.hasOwnProperty(t.type)}function S(t,r){var n="";for(r|=0;r>0;r>>>=1,t+=t)1&r&&(n+=t);return n}function E(t){var r=t.length;return r&&l7.code.isLineTerminator(t.charCodeAt(r-1))}function D(t,r){var n;for(n in r)r.hasOwnProperty(n)&&(t[n]=r[n]);return t}function A(t,r){var n,i;function s(t){return"object"==typeof t&&t instanceof Object&&!(t instanceof RegExp)}for(n in r)r.hasOwnProperty(n)&&(s(i=r[n])?s(t[n])?A(t[n],i):t[n]=A({},i):t[n]=i);return t}function k(t,r){return 8232==(-2&t)?(r?"u":"\\u")+(8232===t?"2028":"2029"):10===t||13===t?(r?"":"\\")+(10===t?"n":"r"):String.fromCharCode(t)}function T(t,r){if(!b)return Array.isArray(t)?function t(r){var n,i,s,a="";for(n=0,i=r.length;n<i;++n)a+=Array.isArray(s=r[n])?t(s):s;return a}(t):t;if(null==r){if(t instanceof i)return t;r={}}return null==r.loc?new i(null,null,b,t,r.name||null):new i(r.loc.start.line,r.loc.start.column,!0===b?r.loc.source||null:b,t,r.name||null)}function F(){return p||" "}function M(t,r){var n,i,s,a;return 0===(n=T(t).toString()).length?[r]:0===(i=T(r).toString()).length?[t]:(s=n.charCodeAt(n.length-1),a=i.charCodeAt(0),(43===s||45===s)&&s===a||l7.code.isIdentifierPartES5(s)&&l7.code.isIdentifierPartES5(a)||47===s&&105===a?[t,F(),r]:l7.code.isWhiteSpace(s)||l7.code.isLineTerminator(s)||l7.code.isWhiteSpace(a)||l7.code.isLineTerminator(a)?[t,r]:[t,p,r])}function I(t){return[s,t]}function B(t){var r;r=s,t(s+=a),s=r}function P(t,r){if("Line"===t.type){if(E(t.value))return"//"+t.value;var n="//"+t.value;return _||(n+="\n"),n}return v.format.indent.adjustMultilineComment&&/[\n\r]/.test(t.value)?function(t,r){var n,i,a,o,l,u,h,c;for(n=t.split(/\r\n|[\r\n]/),u=Number.MAX_VALUE,i=1,a=n.length;i<a;++i){for(o=n[i],l=0;l<o.length&&l7.code.isWhiteSpace(o.charCodeAt(l));)++l;u>l&&(u=l)}for(void 0!==r?(h=s,"*"===n[1][u]&&(r+=" "),s=r):(1&u&&--u,h=s),i=1,a=n.length;i<a;++i)c=T(I(n[i].slice(u))),n[i]=b?c.join(""):c;return s=h,n.join("\n")}("/*"+t.value+"*/",r):"/*"+t.value+"*/"}function L(r,n){var i,o,l,u,h,c,d,p,f,m,y,v;if(r.leadingComments&&r.leadingComments.length>0){if(u=n,_){for(n=[],p=(l=r.leadingComments[0]).extendedRange,f=l.range,(v=((y=w.substring(p[0],f[0])).match(/\n/g)||[]).length)>0?(n.push(S("\n",v)),n.push(I(P(l)))):(n.push(y),n.push(P(l))),m=f,i=1,o=r.leadingComments.length;i<o;i++)f=(l=r.leadingComments[i]).range,v=(w.substring(m[1],f[0]).match(/\n/g)||[]).length,n.push(S("\n",v)),n.push(I(P(l))),m=f;v=(w.substring(f[1],p[1]).match(/\n/g)||[]).length,n.push(S("\n",v))}else for(l=r.leadingComments[0],n=[],g&&r.type===t.Program&&0===r.body.length&&n.push("\n"),n.push(P(l)),E(T(n).toString())||n.push("\n"),i=1,o=r.leadingComments.length;i<o;++i)E(T(d=[P(l=r.leadingComments[i])]).toString())||d.push("\n"),n.push(I(d));n.push(I(u))}if(r.trailingComments)if(_)p=(l=r.trailingComments[0]).extendedRange,f=l.range,(v=((y=w.substring(p[0],f[0])).match(/\n/g)||[]).length)>0?(n.push(S("\n",v)),n.push(I(P(l)))):(n.push(y),n.push(P(l)));else for(h=!E(T(n).toString()),c=S(" ",function(t){var r;for(r=t.length-1;r>=0&&!l7.code.isLineTerminator(t.charCodeAt(r));--r);return t.length-1-r}(T([s,n,a]).toString())),i=0,o=r.trailingComments.length;i<o;++i)l=r.trailingComments[i],h?(n=0===i?[n,a]:[n,c]).push(P(l,c)):n=[n,I(P(l))],i===o-1||E(T(n).toString())||(n=[n,"\n"]);return n}function N(t,r,n){var i,s=0;for(i=t;i<r;i++)"\n"===w[i]&&s++;for(i=1;i<s;i++)n.push(d)}function O(t,r,n){return r<n?["(",t,")"]:t}function R(t){var r,n,i;for(r=1,n=(i=t.split(/\r\n|\n/)).length;r<n;r++)i[r]=d+s+i[r];return i}function V(){}function z(t){return T(t.name,t)}function U(t,r){return t.async?"async"+(r?F():p):""}function j(t){return t.generator&&!v.moz.starlessGenerator?"*"+p:""}function G(t){var r=t.value,n="";return r.async&&(n+=U(r,!t.computed)),r.generator&&(n+=j(r)?"*":""),n}t=l9.Syntax,n={"??":(r={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,Coalesce:3,LogicalOR:4,LogicalAND:5,BitwiseOR:6,BitwiseXOR:7,BitwiseAND:8,Equality:9,Relational:10,BitwiseSHIFT:11,Additive:12,Multiplicative:13,Exponentiation:14,Await:15,Unary:15,Postfix:16,OptionalChaining:17,Call:18,New:19,TaggedTemplate:20,Member:21,Primary:22}).Coalesce,"||":r.LogicalOR,"&&":r.LogicalAND,"|":r.BitwiseOR,"^":r.BitwiseXOR,"&":r.BitwiseAND,"==":r.Equality,"!=":r.Equality,"===":r.Equality,"!==":r.Equality,is:r.Equality,isnt:r.Equality,"<":r.Relational,">":r.Relational,"<=":r.Relational,">=":r.Relational,in:r.Relational,instanceof:r.Relational,"<<":r.BitwiseSHIFT,">>":r.BitwiseSHIFT,">>>":r.BitwiseSHIFT,"+":r.Additive,"-":r.Additive,"*":r.Multiplicative,"%":r.Multiplicative,"/":r.Multiplicative,"**":r.Exponentiation},V.prototype.maybeBlock=function(r,n){var i,s,a=this;return s=!v.comment||!r.leadingComments,r.type===t.BlockStatement&&s?[p,this.generateStatement(r,n)]:r.type===t.EmptyStatement&&s?";":(B(function(){i=[d,I(a.generateStatement(r,n))]}),i)},V.prototype.maybeBlockSuffix=function(r,n){var i=E(T(n).toString());return r.type!==t.BlockStatement||v.comment&&r.leadingComments||i?i?[n,s]:[n,d,s]:[n,p]},V.prototype.generatePattern=function(r,n,i){return r.type===t.Identifier?z(r):this.generateExpression(r,n,i)},V.prototype.generateFunctionParams=function(n){var i,s,a,o;if(o=!1,n.type!==t.ArrowFunctionExpression||n.rest||n.defaults&&0!==n.defaults.length||1!==n.params.length||n.params[0].type!==t.Identifier){for((a=n.type===t.ArrowFunctionExpression?[U(n,!1)]:[]).push("("),n.defaults&&(o=!0),i=0,s=n.params.length;i<s;++i)o&&n.defaults[i]?a.push(this.generateAssignment(n.params[i],n.defaults[i],"=",r.Assignment,7)):a.push(this.generatePattern(n.params[i],r.Assignment,7)),i+1<s&&a.push(","+p);n.rest&&(n.params.length&&a.push(","+p),a.push("..."),a.push(z(n.rest))),a.push(")")}else a=[U(n,!0),z(n.params[0])];return a},V.prototype.generateFunctionBody=function(n){var i,s;return i=this.generateFunctionParams(n),n.type===t.ArrowFunctionExpression&&(i.push(p),i.push("=>")),n.expression?(i.push(p),"{"===(s=this.generateExpression(n.body,r.Assignment,7)).toString().charAt(0)&&(s=["(",s,")"]),i.push(s)):i.push(this.maybeBlock(n.body,9)),i},V.prototype.generateIterationForStatement=function(n,i,s){var a=["for"+(i.await?F()+"await":"")+p+"("],o=this;return B(function(){i.left.type===t.VariableDeclaration?B(function(){a.push(i.left.kind+F()),a.push(o.generateStatement(i.left.declarations[0],0))}):a.push(o.generateExpression(i.left,r.Call,7)),a=M(a,n),a=[M(a,o.generateExpression(i.right,r.Assignment,7)),")"]}),a.push(this.maybeBlock(i.body,s)),a},V.prototype.generatePropertyKey=function(t,n){var i=[];return n&&i.push("["),i.push(this.generateExpression(t,r.Assignment,7)),n&&i.push("]"),i},V.prototype.generateAssignment=function(t,n,i,s,a){return r.Assignment<s&&(a|=1),O([this.generateExpression(t,r.Call,a),p+i+p,this.generateExpression(n,r.Assignment,a)],r.Assignment,s)},V.prototype.semicolon=function(t){return!m&&32&t?"":";"},V.Statement={BlockStatement:function(t,r){var n,i,s=["{",d],a=this;return B(function(){var o,l,u,h;for(0===t.body.length&&_&&(n=t.range)[1]-n[0]>2&&("\n"===(i=w.substring(n[0]+1,n[1]-1))[0]&&(s=["{"]),s.push(i)),h=1,8&r&&(h|=16),o=0,l=t.body.length;o<l;++o)_&&(0===o&&(t.body[0].leadingComments&&(n=t.body[0].leadingComments[0].extendedRange,"\n"===(i=w.substring(n[0],n[1]))[0]&&(s=["{"])),t.body[0].leadingComments||N(t.range[0],t.body[0].range[0],s)),o>0&&(t.body[o-1].trailingComments||t.body[o].leadingComments||N(t.body[o-1].range[1],t.body[o].range[0],s))),o===l-1&&(h|=32),u=t.body[o].leadingComments&&_?a.generateStatement(t.body[o],h):I(a.generateStatement(t.body[o],h)),s.push(u),E(T(u).toString())||_&&o<l-1&&t.body[o+1].leadingComments||s.push(d),_&&o===l-1&&(t.body[o].trailingComments||N(t.body[o].range[1],t.range[1],s))}),s.push(I("}")),s},BreakStatement:function(t,r){return t.label?"break "+t.label.name+this.semicolon(r):"break"+this.semicolon(r)},ContinueStatement:function(t,r){return t.label?"continue "+t.label.name+this.semicolon(r):"continue"+this.semicolon(r)},ClassBody:function(t,n){var i=["{",d],a=this;return B(function(n){var s,o;for(s=0,o=t.body.length;s<o;++s)i.push(n),i.push(a.generateExpression(t.body[s],r.Sequence,7)),s+1<o&&i.push(d)}),E(T(i).toString())||i.push(d),i.push(s),i.push("}"),i},ClassDeclaration:function(t,n){var i,s;return i=["class"],t.id&&(i=M(i,this.generateExpression(t.id,r.Sequence,7))),t.superClass&&(s=M("extends",this.generateExpression(t.superClass,r.Unary,7)),i=M(i,s)),i.push(p),i.push(this.generateStatement(t.body,33)),i},DirectiveStatement:function(t,r){return v.raw&&t.raw?t.raw+this.semicolon(r):function(t){var r,n,i,s;for(s="double"===h?'"':"'",r=0,n=t.length;r<n;++r){if(39===(i=t.charCodeAt(r))){s='"';break}if(34===i){s="'";break}92===i&&++r}return s+t+s}(t.directive)+this.semicolon(r)},DoWhileStatement:function(t,n){var i=M("do",this.maybeBlock(t.body,1));return M(i=this.maybeBlockSuffix(t.body,i),["while"+p+"(",this.generateExpression(t.test,r.Sequence,7),")"+this.semicolon(n)])},CatchClause:function(t,n){var i,s=this;return B(function(){var n;t.param?(i=["catch"+p+"(",s.generateExpression(t.param,r.Sequence,7),")"],t.guard&&(n=s.generateExpression(t.guard,r.Sequence,7),i.splice(2,0," if ",n))):i=["catch"]}),i.push(this.maybeBlock(t.body,1)),i},DebuggerStatement:function(t,r){return"debugger"+this.semicolon(r)},EmptyStatement:function(t,r){return";"},ExportDefaultDeclaration:function(t,n){var i,s=["export"];return i=32&n?33:1,s=M(s,"default"),s=C(t.declaration)?M(s,this.generateStatement(t.declaration,i)):M(s,this.generateExpression(t.declaration,r.Assignment,7)+this.semicolon(n))},ExportNamedDeclaration:function(n,i){var a,o=["export"],l=this;return a=32&i?33:1,n.declaration?M(o,this.generateStatement(n.declaration,a)):(n.specifiers&&(0===n.specifiers.length?o=M(o,"{"+p+"}"):n.specifiers[0].type===t.ExportBatchSpecifier?o=M(o,this.generateExpression(n.specifiers[0],r.Sequence,7)):(o=M(o,"{"),B(function(t){var i,s;for(o.push(d),i=0,s=n.specifiers.length;i<s;++i)o.push(t),o.push(l.generateExpression(n.specifiers[i],r.Sequence,7)),i+1<s&&o.push(","+d)}),E(T(o).toString())||o.push(d),o.push(s+"}")),n.source?o=M(o,["from"+p,this.generateExpression(n.source,r.Sequence,7),this.semicolon(i)]):o.push(this.semicolon(i))),o)},ExportAllDeclaration:function(t,n){return["export"+p,"*"+p,"from"+p,this.generateExpression(t.source,r.Sequence,7),this.semicolon(n)]},ExpressionStatement:function(n,i){var s,a,o,l;return 123===(a=T(s=[this.generateExpression(n.expression,r.Sequence,7)]).toString()).charCodeAt(0)||"class"===a.slice(0,5)&&(123===(o=a.charCodeAt(5))||l7.code.isWhiteSpace(o)||l7.code.isLineTerminator(o))||"function"===a.slice(0,8)&&(40===(l=a.charCodeAt(8))||l7.code.isWhiteSpace(l)||42===l||l7.code.isLineTerminator(l))||function(t){var r,n,i;if("async"!==t.slice(0,5)||!l7.code.isWhiteSpace(t.charCodeAt(5)))return!1;for(n=6,i=t.length;n<i&&l7.code.isWhiteSpace(t.charCodeAt(n));++n);return n!==i&&"function"===t.slice(n,n+8)&&(40===(r=t.charCodeAt(n+8))||l7.code.isWhiteSpace(r)||42===r||l7.code.isLineTerminator(r))}(a)||y&&16&i&&n.expression.type===t.Literal&&"string"==typeof n.expression.value?s=["(",s,")"+this.semicolon(i)]:s.push(this.semicolon(i)),s},ImportDeclaration:function(n,i){var a,o,l=this;return 0===n.specifiers.length?["import",p,this.generateExpression(n.source,r.Sequence,7),this.semicolon(i)]:(a=["import"],o=0,n.specifiers[o].type===t.ImportDefaultSpecifier&&(a=M(a,[this.generateExpression(n.specifiers[o],r.Sequence,7)]),++o),n.specifiers[o]&&(0!==o&&a.push(","),n.specifiers[o].type===t.ImportNamespaceSpecifier?a=M(a,[p,this.generateExpression(n.specifiers[o],r.Sequence,7)]):(a.push(p+"{"),n.specifiers.length-o==1?(a.push(p),a.push(this.generateExpression(n.specifiers[o],r.Sequence,7)),a.push(p+"}"+p)):(B(function(t){var i,s;for(a.push(d),i=o,s=n.specifiers.length;i<s;++i)a.push(t),a.push(l.generateExpression(n.specifiers[i],r.Sequence,7)),i+1<s&&a.push(","+d)}),E(T(a).toString())||a.push(d),a.push(s+"}"+p)))),a=M(a,["from"+p,this.generateExpression(n.source,r.Sequence,7),this.semicolon(i)]))},VariableDeclarator:function(t,n){var i=1&n?7:6;return t.init?[this.generateExpression(t.id,r.Assignment,i),p,"=",p,this.generateExpression(t.init,r.Assignment,i)]:this.generatePattern(t.id,r.Assignment,i)},VariableDeclaration:function(t,r){var n,i,s,a,o,l=this;function u(){for(a=t.declarations[0],v.comment&&a.leadingComments?(n.push("\n"),n.push(I(l.generateStatement(a,o)))):(n.push(F()),n.push(l.generateStatement(a,o))),i=1,s=t.declarations.length;i<s;++i)a=t.declarations[i],v.comment&&a.leadingComments?(n.push(","+d),n.push(I(l.generateStatement(a,o)))):(n.push(","+p),n.push(l.generateStatement(a,o)))}return n=[t.kind],o=1&r?1:0,t.declarations.length>1?B(u):u(),n.push(this.semicolon(r)),n},ThrowStatement:function(t,n){return[M("throw",this.generateExpression(t.argument,r.Sequence,7)),this.semicolon(n)]},TryStatement:function(t,r){var n,i,s,a;if(n=["try",this.maybeBlock(t.block,1)],n=this.maybeBlockSuffix(t.block,n),t.handlers)for(i=0,s=t.handlers.length;i<s;++i)n=M(n,this.generateStatement(t.handlers[i],1)),(t.finalizer||i+1!==s)&&(n=this.maybeBlockSuffix(t.handlers[i].body,n));else{for(i=0,s=(a=t.guardedHandlers||[]).length;i<s;++i)n=M(n,this.generateStatement(a[i],1)),(t.finalizer||i+1!==s)&&(n=this.maybeBlockSuffix(a[i].body,n));if(t.handler)if(Array.isArray(t.handler))for(i=0,s=t.handler.length;i<s;++i)n=M(n,this.generateStatement(t.handler[i],1)),(t.finalizer||i+1!==s)&&(n=this.maybeBlockSuffix(t.handler[i].body,n));else n=M(n,this.generateStatement(t.handler,1)),t.finalizer&&(n=this.maybeBlockSuffix(t.handler.body,n))}return t.finalizer&&(n=M(n,["finally",this.maybeBlock(t.finalizer,1)])),n},SwitchStatement:function(t,n){var i,s,a,o,l,u=this;if(B(function(){i=["switch"+p+"(",u.generateExpression(t.discriminant,r.Sequence,7),")"+p+"{"+d]}),t.cases)for(l=1,a=0,o=t.cases.length;a<o;++a)a===o-1&&(l|=32),s=I(this.generateStatement(t.cases[a],l)),i.push(s),E(T(s).toString())||i.push(d);return i.push(I("}")),i},SwitchCase:function(n,i){var s,a,o,l,u,h=this;return B(function(){for(s=n.test?[M("case",h.generateExpression(n.test,r.Sequence,7)),":"]:["default:"],o=0,(l=n.consequent.length)&&n.consequent[0].type===t.BlockStatement&&(a=h.maybeBlock(n.consequent[0],1),s.push(a),o=1),o===l||E(T(s).toString())||s.push(d),u=1;o<l;++o)o===l-1&&32&i&&(u|=32),a=I(h.generateStatement(n.consequent[o],u)),s.push(a),o+1===l||E(T(a).toString())||s.push(d)}),s},IfStatement:function(n,i){var s,a,o=this;return B(function(){s=["if"+p+"(",o.generateExpression(n.test,r.Sequence,7),")"]}),a=1,32&i&&(a|=32),n.alternate?(s.push(this.maybeBlock(n.consequent,1)),s=this.maybeBlockSuffix(n.consequent,s),s=n.alternate.type===t.IfStatement?M(s,["else ",this.generateStatement(n.alternate,a)]):M(s,M("else",this.maybeBlock(n.alternate,a)))):s.push(this.maybeBlock(n.consequent,a)),s},ForStatement:function(n,i){var s,a=this;return B(function(){s=["for"+p+"("],n.init?n.init.type===t.VariableDeclaration?s.push(a.generateStatement(n.init,0)):(s.push(a.generateExpression(n.init,r.Sequence,6)),s.push(";")):s.push(";"),n.test&&(s.push(p),s.push(a.generateExpression(n.test,r.Sequence,7))),s.push(";"),n.update&&(s.push(p),s.push(a.generateExpression(n.update,r.Sequence,7))),s.push(")")}),s.push(this.maybeBlock(n.body,32&i?33:1)),s},ForInStatement:function(t,r){return this.generateIterationForStatement("in",t,32&r?33:1)},ForOfStatement:function(t,r){return this.generateIterationForStatement("of",t,32&r?33:1)},LabeledStatement:function(t,r){return[t.label.name+":",this.maybeBlock(t.body,32&r?33:1)]},Program:function(t,r){var n,i,s,a,o;for(a=t.body.length,n=[g&&a>0?"\n":""],o=17,s=0;s<a;++s)g||s!==a-1||(o|=32),_&&(0===s&&(t.body[0].leadingComments||N(t.range[0],t.body[s].range[0],n)),s>0&&(t.body[s-1].trailingComments||t.body[s].leadingComments||N(t.body[s-1].range[1],t.body[s].range[0],n))),i=I(this.generateStatement(t.body[s],o)),n.push(i),s+1<a&&!E(T(i).toString())&&(_&&t.body[s+1].leadingComments||n.push(d)),_&&s===a-1&&(t.body[s].trailingComments||N(t.body[s].range[1],t.range[1],n));return n},FunctionDeclaration:function(t,r){return[U(t,!0),"function",j(t)||F(),t.id?z(t.id):"",this.generateFunctionBody(t)]},ReturnStatement:function(t,n){return t.argument?[M("return",this.generateExpression(t.argument,r.Sequence,7)),this.semicolon(n)]:["return"+this.semicolon(n)]},WhileStatement:function(t,n){var i,s=this;return B(function(){i=["while"+p+"(",s.generateExpression(t.test,r.Sequence,7),")"]}),i.push(this.maybeBlock(t.body,32&n?33:1)),i},WithStatement:function(t,n){var i,s=this;return B(function(){i=["with"+p+"(",s.generateExpression(t.object,r.Sequence,7),")"]}),i.push(this.maybeBlock(t.body,32&n?33:1)),i}},D(V.prototype,V.Statement),V.Expression={SequenceExpression:function(t,n,i){var s,a,o;for(r.Sequence<n&&(i|=1),s=[],a=0,o=t.expressions.length;a<o;++a)s.push(this.generateExpression(t.expressions[a],r.Assignment,i)),a+1<o&&s.push(","+p);return O(s,r.Sequence,n)},AssignmentExpression:function(t,r,n){return this.generateAssignment(t.left,t.right,t.operator,r,n)},ArrowFunctionExpression:function(t,n,i){return O(this.generateFunctionBody(t),r.ArrowFunction,n)},ConditionalExpression:function(t,n,i){return r.Conditional<n&&(i|=1),O([this.generateExpression(t.test,r.Coalesce,i),p+"?"+p,this.generateExpression(t.consequent,r.Assignment,i),p+":"+p,this.generateExpression(t.alternate,r.Assignment,i)],r.Conditional,n)},LogicalExpression:function(t,r,n){return"??"===t.operator&&(n|=64),this.BinaryExpression(t,r,n)},BinaryExpression:function(t,i,s){var a,o,l,u,h,c;return u=n[t.operator],o="**"===t.operator?r.Postfix:u,l="**"===t.operator?u:u+1,u<i&&(s|=1),a=47===(c=(h=this.generateExpression(t.left,o,s)).toString()).charCodeAt(c.length-1)&&l7.code.isIdentifierPartES5(t.operator.charCodeAt(0))?[h,F(),t.operator]:M(h,t.operator),h=this.generateExpression(t.right,l,s),"/"===t.operator&&"/"===h.toString().charAt(0)||"<"===t.operator.slice(-1)&&"!--"===h.toString().slice(0,3)?(a.push(F()),a.push(h)):a=M(a,h),"in"!==t.operator||1&s?("||"===t.operator||"&&"===t.operator)&&64&s?["(",a,")"]:O(a,u,i):["(",a,")"]},CallExpression:function(t,n,i){var s,a,o;for(s=[this.generateExpression(t.callee,r.Call,3)],t.optional&&s.push("?."),s.push("("),a=0,o=t.arguments.length;a<o;++a)s.push(this.generateExpression(t.arguments[a],r.Assignment,7)),a+1<o&&s.push(","+p);return s.push(")"),2&i?O(s,r.Call,n):["(",s,")"]},ChainExpression:function(t,n,i){return r.OptionalChaining<n&&(i|=2),O(this.generateExpression(t.expression,r.OptionalChaining,i),r.OptionalChaining,n)},NewExpression:function(t,n,i){var s,a,o,l;if(a=t.arguments.length,l=4&i&&!f&&0===a?5:1,s=M("new",this.generateExpression(t.callee,r.New,l)),!(4&i)||f||a>0){for(s.push("("),o=0;o<a;++o)s.push(this.generateExpression(t.arguments[o],r.Assignment,7)),o+1<a&&s.push(","+p);s.push(")")}return O(s,r.New,n)},MemberExpression:function(n,i,s){var a,o;return a=[this.generateExpression(n.object,r.Call,2&s?3:1)],n.computed?(n.optional&&a.push("?."),a.push("["),a.push(this.generateExpression(n.property,r.Sequence,2&s?7:5)),a.push("]")):(n.optional||n.object.type!==t.Literal||"number"!=typeof n.object.value||0>(o=T(a).toString()).indexOf(".")&&!/[eExX]/.test(o)&&l7.code.isDecimalDigit(o.charCodeAt(o.length-1))&&!(o.length>=2&&48===o.charCodeAt(0))&&a.push(" "),a.push(n.optional?"?.":"."),a.push(z(n.property))),O(a,r.Member,i)},MetaProperty:function(t,n,i){var s;return(s=[]).push("string"==typeof t.meta?t.meta:z(t.meta)),s.push("."),s.push("string"==typeof t.property?t.property:z(t.property)),O(s,r.Member,n)},UnaryExpression:function(t,n,i){var s,a,o,l,u;return a=this.generateExpression(t.argument,r.Unary,7),""===p?s=M(t.operator,a):(s=[t.operator],t.operator.length>2?s=M(s,a):(u=(l=T(s).toString()).charCodeAt(l.length-1),o=a.toString().charCodeAt(0),((43===u||45===u)&&u===o||l7.code.isIdentifierPartES5(u)&&l7.code.isIdentifierPartES5(o))&&s.push(F()),s.push(a))),O(s,r.Unary,n)},YieldExpression:function(t,n,i){var s;return s=t.delegate?"yield*":"yield",t.argument&&(s=M(s,this.generateExpression(t.argument,r.Yield,7))),O(s,r.Yield,n)},AwaitExpression:function(t,n,i){return O(M(t.all?"await*":"await",this.generateExpression(t.argument,r.Await,7)),r.Await,n)},UpdateExpression:function(t,n,i){return t.prefix?O([t.operator,this.generateExpression(t.argument,r.Unary,7)],r.Unary,n):O([this.generateExpression(t.argument,r.Postfix,7),t.operator],r.Postfix,n)},FunctionExpression:function(t,r,n){var i=[U(t,!0),"function"];return t.id?(i.push(j(t)||F()),i.push(z(t.id))):i.push(j(t)||p),i.push(this.generateFunctionBody(t)),i},ArrayPattern:function(t,r,n){return this.ArrayExpression(t,r,n,!0)},ArrayExpression:function(t,n,i,a){var o,l,u=this;return t.elements.length?(o=["[",(l=!a&&t.elements.length>1)?d:""],B(function(n){var i,s;for(i=0,s=t.elements.length;i<s;++i)t.elements[i]?(o.push(l?n:""),o.push(u.generateExpression(t.elements[i],r.Assignment,7))):(l&&o.push(n),i+1===s&&o.push(",")),i+1<s&&o.push(","+(l?d:p))}),l&&!E(T(o).toString())&&o.push(d),o.push(l?s:""),o.push("]"),o):"[]"},RestElement:function(t,r,n){return"..."+this.generatePattern(t.argument)},ClassExpression:function(t,n,i){var s,a;return s=["class"],t.id&&(s=M(s,this.generateExpression(t.id,r.Sequence,7))),t.superClass&&(a=M("extends",this.generateExpression(t.superClass,r.Unary,7)),s=M(s,a)),s.push(p),s.push(this.generateStatement(t.body,33)),s},MethodDefinition:function(t,r,n){var i,s;return i=t.static?["static"+p]:[],s="get"===t.kind||"set"===t.kind?[M(t.kind,this.generatePropertyKey(t.key,t.computed)),this.generateFunctionBody(t.value)]:[G(t),this.generatePropertyKey(t.key,t.computed),this.generateFunctionBody(t.value)],M(i,s)},Property:function(t,n,i){return"get"===t.kind||"set"===t.kind?[t.kind,F(),this.generatePropertyKey(t.key,t.computed),this.generateFunctionBody(t.value)]:t.shorthand?"AssignmentPattern"===t.value.type?this.AssignmentPattern(t.value,r.Sequence,7):this.generatePropertyKey(t.key,t.computed):t.method?[G(t),this.generatePropertyKey(t.key,t.computed),this.generateFunctionBody(t.value)]:[this.generatePropertyKey(t.key,t.computed),":"+p,this.generateExpression(t.value,r.Assignment,7)]},ObjectExpression:function(t,n,i){var a,o,l,u,h=this;return t.properties.length?(a=t.properties.length>1,B(function(){l=h.generateExpression(t.properties[0],r.Sequence,7)}),a||(u=T(l).toString(),/[\r\n]/g.test(u))?(B(function(n){var i,s;if(o=["{",d,n,l],a)for(o.push(","+d),i=1,s=t.properties.length;i<s;++i)o.push(n),o.push(h.generateExpression(t.properties[i],r.Sequence,7)),i+1<s&&o.push(","+d)}),E(T(o).toString())||o.push(d),o.push(s),o.push("}"),o):["{",p,l,p,"}"]):"{}"},AssignmentPattern:function(t,r,n){return this.generateAssignment(t.left,t.right,"=",r,n)},ObjectPattern:function(n,i,a){var o,l,u,h,c,f=this;if(!n.properties.length)return"{}";if(h=!1,1===n.properties.length)(c=n.properties[0]).type===t.Property&&c.value.type!==t.Identifier&&(h=!0);else for(l=0,u=n.properties.length;l<u;++l)if((c=n.properties[l]).type===t.Property&&!c.shorthand){h=!0;break}return o=["{",h?d:""],B(function(t){var i,s;for(i=0,s=n.properties.length;i<s;++i)o.push(h?t:""),o.push(f.generateExpression(n.properties[i],r.Sequence,7)),i+1<s&&o.push(","+(h?d:p))}),h&&!E(T(o).toString())&&o.push(d),o.push(h?s:""),o.push("}"),o},ThisExpression:function(t,r,n){return"this"},Super:function(t,r,n){return"super"},Identifier:function(t,r,n){return z(t)},ImportDefaultSpecifier:function(t,r,n){return z(t.id||t.local)},ImportNamespaceSpecifier:function(t,r,n){var i=["*"],s=t.id||t.local;return s&&i.push(p+"as"+F()+z(s)),i},ImportSpecifier:function(t,r,n){var i=t.imported,s=[i.name],a=t.local;return a&&a.name!==i.name&&s.push(F()+"as"+F()+z(a)),s},ExportSpecifier:function(t,r,n){var i=t.local,s=[i.name],a=t.exported;return a&&a.name!==i.name&&s.push(F()+"as"+F()+z(a)),s},Literal:function(r,n,i){var s;if(r.hasOwnProperty("raw")&&x&&v.raw)try{if((s=x(r.raw).body[0].expression).type===t.Literal&&s.value===r.value)return r.raw}catch(t){}return r.regex?"/"+r.regex.pattern+"/"+r.regex.flags:"bigint"==typeof r.value?r.value.toString()+"n":r.bigint?r.bigint+"n":null===r.value?"null":"string"==typeof r.value?function(t){var r,n,i,s,a,l="",u=0,d=0;for(r=0,n=t.length;r<n;++r){if(39===(i=t.charCodeAt(r)))++u;else if(34===i)++d;else if(47===i&&o)l+="\\";else{if(l7.code.isLineTerminator(i)||92===i){l+=function(t){if(92===t)return"\\\\";if(10===t)return"\\n";if(13===t)return"\\r";if(8232===t)return"\\u2028";if(8233===t)return"\\u2029";throw Error("Incorrectly classified character")}(i);continue}if(!l7.code.isIdentifierPartES5(i)&&(o&&i<32||!o&&!c&&(i<32||i>126))){l+=function(t,r){var n;return 8===t?"\\b":12===t?"\\f":9===t?"\\t":(n=t.toString(16).toUpperCase(),o||t>255?"\\u"+"0000".slice(n.length)+n:0!==t||l7.code.isDecimalDigit(r)?11===t?"\\x0B":"\\x"+"00".slice(n.length)+n:"\\0")}(i,t.charCodeAt(r+1));continue}}l+=String.fromCharCode(i)}if(a=(s=!("double"===h||"auto"===h&&d<u))?"'":'"',!(s?u:d))return a+l+a;for(t=l,l=a,r=0,n=t.length;r<n;++r)(39===(i=t.charCodeAt(r))&&s||34===i&&!s)&&(l+="\\"),l+=String.fromCharCode(i);return l+a}(r.value):"number"==typeof r.value?function(t){var r,n,i,s,a;if(t!=t)throw Error("Numeric literal whose value is NaN");if(t<0||0===t&&1/t<0)throw Error("Numeric literal whose value is negative");if(t===1/0)return o?"null":l?"1e400":"1e+400";if(r=""+t,!l||r.length<3)return r;for(n=r.indexOf("."),o||48!==r.charCodeAt(0)||1!==n||(n=0,r=r.slice(1)),i=r,r=r.replace("e+","e"),s=0,(a=i.indexOf("e"))>0&&(s=+i.slice(a+1),i=i.slice(0,a)),n>=0&&(s-=i.length-n-1,i=+(i.slice(0,n)+i.slice(n+1))+""),a=0;48===i.charCodeAt(i.length+a-1);)--a;return 0!==a&&(s-=a,i=i.slice(0,a)),0!==s&&(i+="e"+s),(i.length<r.length||u&&t>1e12&&Math.floor(t)===t&&(i="0x"+t.toString(16)).length<r.length)&&+i===t&&(r=i),r}(r.value):"boolean"==typeof r.value?r.value?"true":"false":function(t){var r,n,i,s,a,o,l,u;if(n=t.toString(),t.source){if(!(r=n.match(/\/([^/]*)$/)))return n;for(i=r[1],n="",l=!1,u=!1,s=0,a=t.source.length;s<a;++s)o=t.source.charCodeAt(s),u?(n+=k(o,u),u=!1):(l?93===o&&(l=!1):47===o?n+="\\":91===o&&(l=!0),n+=k(o,u),u=92===o);return"/"+n+"/"+i}return n}(r.value)},GeneratorExpression:function(t,r,n){return this.ComprehensionExpression(t,r,n)},ComprehensionExpression:function(n,i,s){var a,o,l,u,h=this;return a=n.type===t.GeneratorExpression?["("]:["["],v.moz.comprehensionExpressionStartsWithAssignment&&(u=this.generateExpression(n.body,r.Assignment,7),a.push(u)),n.blocks&&B(function(){for(o=0,l=n.blocks.length;o<l;++o)u=h.generateExpression(n.blocks[o],r.Sequence,7),o>0||v.moz.comprehensionExpressionStartsWithAssignment?a=M(a,u):a.push(u)}),n.filter&&(a=M(a,"if"+p),u=this.generateExpression(n.filter,r.Sequence,7),a=M(a,["(",u,")"])),v.moz.comprehensionExpressionStartsWithAssignment||(u=this.generateExpression(n.body,r.Assignment,7),a=M(a,u)),a.push(n.type===t.GeneratorExpression?")":"]"),a},ComprehensionBlock:function(n,i,s){var a;return a=M(a=n.left.type===t.VariableDeclaration?[n.left.kind,F(),this.generateStatement(n.left.declarations[0],0)]:this.generateExpression(n.left,r.Call,7),n.of?"of":"in"),a=M(a,this.generateExpression(n.right,r.Sequence,7)),["for"+p+"(",a,")"]},SpreadElement:function(t,n,i){return["...",this.generateExpression(t.argument,r.Assignment,7)]},TaggedTemplateExpression:function(t,n,i){var s=3;return 2&i||(s=1),O([this.generateExpression(t.tag,r.Call,s),this.generateExpression(t.quasi,r.Primary,4)],r.TaggedTemplate,n)},TemplateElement:function(t,r,n){return t.value.raw},TemplateLiteral:function(t,n,i){var s,a,o;for(s=["`"],a=0,o=t.quasis.length;a<o;++a)s.push(this.generateExpression(t.quasis[a],r.Primary,7)),a+1<o&&(s.push("${"+p),s.push(this.generateExpression(t.expressions[a],r.Sequence,7)),s.push(p+"}"));return s.push("`"),s},ModuleSpecifier:function(t,r,n){return this.Literal(t,r,n)},ImportExpression:function(t,n,i){return O(["import(",this.generateExpression(t.source,r.Assignment,7),")"],r.Call,n)}},D(V.prototype,V.Expression),V.prototype.generateExpression=function(n,i,s){var a,o,l;return o=n.type||t.Property,v.verbatim&&n.hasOwnProperty(v.verbatim)?T("string"==typeof(l=n[v.verbatim])?O(R(l),r.Sequence,i):O(R(l.content),null!=l.precedence?l.precedence:r.Sequence,i),n):(a=this[o](n,i,s),v.comment&&(a=L(n,a)),T(a,n))},V.prototype.generateStatement=function(r,n){var i,s;return i=this[r.type](r,n),v.comment&&(i=L(r,i)),s=T(i).toString(),r.type!==t.Program||g||""!==d||"\n"!==s.charAt(s.length-1)||(i=b?T(i).replaceRight(/\s+$/,""):s.replace(/\s+$/,"")),T(i,r)},l8.version="2.1.0",l8.generate=function(t,n){var E,D,k={indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:"\n",space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null};return null!=n?("string"==typeof n.indent&&(k.format.indent.style=n.indent),"number"==typeof n.base&&(k.format.indent.base=n.base),a=(n=A(k,n)).format.indent.style,s="string"==typeof n.base?n.base:S(a,n.format.indent.base)):s=S(a=(n=k).format.indent.style,n.format.indent.base),o=n.format.json,l=n.format.renumber,u=!o&&n.format.hexadecimal,h=o?"double":n.format.quotes,c=n.format.escapeless,d=n.format.newline,p=n.format.space,n.format.compact&&(d=p=a=s=""),f=n.format.parentheses,m=n.format.semicolons,g=n.format.safeConcatenation,y=n.directive,x=o?null:n.parse,b=n.sourceMap,w=n.sourceCode,_=n.format.preserveBlankLines&&null!==w,v=n,b&&(i=l8.browser?r0.sourceMap.SourceNode:(uM||(uM=1,ud.SourceMapGenerator=uD().SourceMapGenerator,ud.SourceMapConsumer=function(){if(uT)return uI;uT=1;var t=ux(),r=(uA||(uA=1,uB.GREATEST_LOWER_BOUND=1,uB.LEAST_UPPER_BOUND=2,uB.search=function(t,r,n,i){if(0===r.length)return -1;var s=function t(r,n,i,s,a,o){var l=Math.floor((n-r)/2)+r,u=a(i,s[l],!0);return 0===u?l:u>0?n-l>1?t(l,n,i,s,a,o):o==uB.LEAST_UPPER_BOUND?n<s.length?n:-1:l:l-r>1?t(r,l,i,s,a,o):o==uB.LEAST_UPPER_BOUND?l:r<0?-1:r}(-1,r.length,t,r,n,i||uB.GREATEST_LOWER_BOUND);if(s<0)return -1;for(;s-1>=0&&0===n(r[s],r[s-1],!0);)--s;return s}),uB),n=u_().ArraySet,i=ug(),s=function(){if(uk)return uP;function t(t,r,n){var i=t[r];t[r]=t[n],t[n]=i}return uk=1,uP.quickSort=function(r,n){!function r(n,i,s,a){if(s<a){var o=s-1;t(n,Math.round(s+Math.random()*(a-s)),a);for(var l=n[a],u=s;u<a;u++)0>=i(n[u],l)&&t(n,o+=1,u);t(n,o+1,u);var h=o+1;r(n,i,s,h-1),r(n,i,h+1,a)}}(r,n,0,r.length-1)},uP}().quickSort;function a(r,n){var i=r;return"string"==typeof r&&(i=t.parseSourceMapInput(r)),null!=i.sections?new u(i,n):new o(i,n)}function o(r,i){var s=r;"string"==typeof r&&(s=t.parseSourceMapInput(r));var a=t.getArg(s,"version"),o=t.getArg(s,"sources"),l=t.getArg(s,"names",[]),u=t.getArg(s,"sourceRoot",null),h=t.getArg(s,"sourcesContent",null),c=t.getArg(s,"mappings"),d=t.getArg(s,"file",null);if(a!=this._version)throw Error("Unsupported version: "+a);u&&(u=t.normalize(u)),o=o.map(String).map(t.normalize).map(function(r){return u&&t.isAbsolute(u)&&t.isAbsolute(r)?t.relative(u,r):r}),this._names=n.fromArray(l.map(String),!0),this._sources=n.fromArray(o,!0),this._absoluteSources=this._sources.toArray().map(function(r){return t.computeSourceURL(u,r,i)}),this.sourceRoot=u,this.sourcesContent=h,this._mappings=c,this._sourceMapURL=i,this.file=d}function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function u(r,i){var s=r;"string"==typeof r&&(s=t.parseSourceMapInput(r));var o=t.getArg(s,"version"),l=t.getArg(s,"sections");if(o!=this._version)throw Error("Unsupported version: "+o);this._sources=new n,this._names=new n;var u={line:-1,column:0};this._sections=l.map(function(r){if(r.url)throw Error("Support for url field in sections not implemented.");var n=t.getArg(r,"offset"),s=t.getArg(n,"line"),o=t.getArg(n,"column");if(s<u.line||s===u.line&&o<u.column)throw Error("Section offsets must be ordered and non-overlapping.");return u=n,{generatedOffset:{generatedLine:s+1,generatedColumn:o+1},consumer:new a(t.getArg(r,"map"),i)}})}return a.fromSourceMap=function(t,r){return o.fromSourceMap(t,r)},a.prototype._version=3,a.prototype.__generatedMappings=null,Object.defineProperty(a.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),a.prototype.__originalMappings=null,Object.defineProperty(a.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),a.prototype._charIsMappingSeparator=function(t,r){var n=t.charAt(r);return";"===n||","===n},a.prototype._parseMappings=function(t,r){throw Error("Subclasses must implement _parseMappings")},a.GENERATED_ORDER=1,a.ORIGINAL_ORDER=2,a.GREATEST_LOWER_BOUND=1,a.LEAST_UPPER_BOUND=2,a.prototype.eachMapping=function(r,n,i){switch(i||a.GENERATED_ORDER){case a.GENERATED_ORDER:s=this._generatedMappings;break;case a.ORIGINAL_ORDER:s=this._originalMappings;break;default:throw Error("Unknown order of iteration.")}var s,o=this.sourceRoot;s.map(function(r){var n=null===r.source?null:this._sources.at(r.source);return{source:n=t.computeSourceURL(o,n,this._sourceMapURL),generatedLine:r.generatedLine,generatedColumn:r.generatedColumn,originalLine:r.originalLine,originalColumn:r.originalColumn,name:null===r.name?null:this._names.at(r.name)}},this).forEach(r,n||null)},a.prototype.allGeneratedPositionsFor=function(n){var i=t.getArg(n,"line"),s={source:t.getArg(n,"source"),originalLine:i,originalColumn:t.getArg(n,"column",0)};if(s.source=this._findSourceIndex(s.source),s.source<0)return[];var a=[],o=this._findMapping(s,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,r.LEAST_UPPER_BOUND);if(o>=0){var l=this._originalMappings[o];if(void 0===n.column)for(var u=l.originalLine;l&&l.originalLine===u;)a.push({line:t.getArg(l,"generatedLine",null),column:t.getArg(l,"generatedColumn",null),lastColumn:t.getArg(l,"lastGeneratedColumn",null)}),l=this._originalMappings[++o];else for(var h=l.originalColumn;l&&l.originalLine===i&&l.originalColumn==h;)a.push({line:t.getArg(l,"generatedLine",null),column:t.getArg(l,"generatedColumn",null),lastColumn:t.getArg(l,"lastGeneratedColumn",null)}),l=this._originalMappings[++o]}return a},uI.SourceMapConsumer=a,o.prototype=Object.create(a.prototype),o.prototype.consumer=a,o.prototype._findSourceIndex=function(r){var n,i=r;if(null!=this.sourceRoot&&(i=t.relative(this.sourceRoot,i)),this._sources.has(i))return this._sources.indexOf(i);for(n=0;n<this._absoluteSources.length;++n)if(this._absoluteSources[n]==r)return n;return -1},o.fromSourceMap=function(r,i){var a=Object.create(o.prototype),u=a._names=n.fromArray(r._names.toArray(),!0),h=a._sources=n.fromArray(r._sources.toArray(),!0);a.sourceRoot=r._sourceRoot,a.sourcesContent=r._generateSourcesContent(a._sources.toArray(),a.sourceRoot),a.file=r._file,a._sourceMapURL=i,a._absoluteSources=a._sources.toArray().map(function(r){return t.computeSourceURL(a.sourceRoot,r,i)});for(var c=r._mappings.toArray().slice(),d=a.__generatedMappings=[],p=a.__originalMappings=[],f=0,m=c.length;f<m;f++){var g=c[f],y=new l;y.generatedLine=g.generatedLine,y.generatedColumn=g.generatedColumn,g.source&&(y.source=h.indexOf(g.source),y.originalLine=g.originalLine,y.originalColumn=g.originalColumn,g.name&&(y.name=u.indexOf(g.name)),p.push(y)),d.push(y)}return s(a.__originalMappings,t.compareByOriginalPositions),a},o.prototype._version=3,Object.defineProperty(o.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),o.prototype._parseMappings=function(r,n){for(var a,o,u,h,c,d=1,p=0,f=0,m=0,g=0,y=0,v=r.length,x=0,b={},w={},_=[],C=[];x<v;)if(";"===r.charAt(x))d++,x++,p=0;else if(","===r.charAt(x))x++;else{for((a=new l).generatedLine=d,h=x;h<v&&!this._charIsMappingSeparator(r,h);h++);if(u=b[o=r.slice(x,h)])x+=o.length;else{for(u=[];x<h;)i.decode(r,x,w),c=w.value,x=w.rest,u.push(c);if(2===u.length)throw Error("Found a source, but no line and column");if(3===u.length)throw Error("Found a source and line, but no column");b[o]=u}a.generatedColumn=p+u[0],p=a.generatedColumn,u.length>1&&(a.source=g+u[1],g+=u[1],a.originalLine=f+u[2],f=a.originalLine,a.originalLine+=1,a.originalColumn=m+u[3],m=a.originalColumn,u.length>4&&(a.name=y+u[4],y+=u[4])),C.push(a),"number"==typeof a.originalLine&&_.push(a)}s(C,t.compareByGeneratedPositionsDeflated),this.__generatedMappings=C,s(_,t.compareByOriginalPositions),this.__originalMappings=_},o.prototype._findMapping=function(t,n,i,s,a,o){if(t[i]<=0)throw TypeError("Line must be greater than or equal to 1, got "+t[i]);if(t[s]<0)throw TypeError("Column must be greater than or equal to 0, got "+t[s]);return r.search(t,n,a,o)},o.prototype.computeColumnSpans=function(){for(var t=0;t<this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var n=this._generatedMappings[t+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}},o.prototype.originalPositionFor=function(r){var n={generatedLine:t.getArg(r,"line"),generatedColumn:t.getArg(r,"column")},i=this._findMapping(n,this._generatedMappings,"generatedLine","generatedColumn",t.compareByGeneratedPositionsDeflated,t.getArg(r,"bias",a.GREATEST_LOWER_BOUND));if(i>=0){var s=this._generatedMappings[i];if(s.generatedLine===n.generatedLine){var o=t.getArg(s,"source",null);null!==o&&(o=this._sources.at(o),o=t.computeSourceURL(this.sourceRoot,o,this._sourceMapURL));var l=t.getArg(s,"name",null);return null!==l&&(l=this._names.at(l)),{source:o,line:t.getArg(s,"originalLine",null),column:t.getArg(s,"originalColumn",null),name:l}}}return{source:null,line:null,column:null,name:null}},o.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return null==t})},o.prototype.sourceContentFor=function(r,n){if(!this.sourcesContent)return null;var i=this._findSourceIndex(r);if(i>=0)return this.sourcesContent[i];var s,a=r;if(null!=this.sourceRoot&&(a=t.relative(this.sourceRoot,a)),null!=this.sourceRoot&&(s=t.urlParse(this.sourceRoot))){var o=a.replace(/^file:\/\//,"");if("file"==s.scheme&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!s.path||"/"==s.path)&&this._sources.has("/"+a))return this.sourcesContent[this._sources.indexOf("/"+a)]}if(n)return null;throw Error('"'+a+'" is not in the SourceMap.')},o.prototype.generatedPositionFor=function(r){var n=t.getArg(r,"source");if((n=this._findSourceIndex(n))<0)return{line:null,column:null,lastColumn:null};var i={source:n,originalLine:t.getArg(r,"line"),originalColumn:t.getArg(r,"column")},s=this._findMapping(i,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,t.getArg(r,"bias",a.GREATEST_LOWER_BOUND));if(s>=0){var o=this._originalMappings[s];if(o.source===i.source)return{line:t.getArg(o,"generatedLine",null),column:t.getArg(o,"generatedColumn",null),lastColumn:t.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},uI.BasicSourceMapConsumer=o,u.prototype=Object.create(a.prototype),u.prototype.constructor=a,u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){for(var t=[],r=0;r<this._sections.length;r++)for(var n=0;n<this._sections[r].consumer.sources.length;n++)t.push(this._sections[r].consumer.sources[n]);return t}}),u.prototype.originalPositionFor=function(n){var i={generatedLine:t.getArg(n,"line"),generatedColumn:t.getArg(n,"column")},s=r.search(i,this._sections,function(t,r){return t.generatedLine-r.generatedOffset.generatedLine||t.generatedColumn-r.generatedOffset.generatedColumn}),a=this._sections[s];return a?a.consumer.originalPositionFor({line:i.generatedLine-(a.generatedOffset.generatedLine-1),column:i.generatedColumn-(a.generatedOffset.generatedLine===i.generatedLine?a.generatedOffset.generatedColumn-1:0),bias:n.bias}):{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})},u.prototype.sourceContentFor=function(t,r){for(var n=0;n<this._sections.length;n++){var i=this._sections[n].consumer.sourceContentFor(t,!0);if(i)return i}if(r)return null;throw Error('"'+t+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(r){for(var n=0;n<this._sections.length;n++){var i=this._sections[n];if(-1!==i.consumer._findSourceIndex(t.getArg(r,"source"))){var s=i.consumer.generatedPositionFor(r);if(s)return{line:s.line+(i.generatedOffset.generatedLine-1),column:s.column+(i.generatedOffset.generatedLine===s.line?i.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},u.prototype._parseMappings=function(r,n){this.__generatedMappings=[],this.__originalMappings=[];for(var i=0;i<this._sections.length;i++)for(var a=this._sections[i],o=a.consumer._generatedMappings,l=0;l<o.length;l++){var u=o[l],h=a.consumer._sources.at(u.source);h=t.computeSourceURL(a.consumer.sourceRoot,h,this._sourceMapURL),this._sources.add(h),h=this._sources.indexOf(h);var c=null;u.name&&(c=a.consumer._names.at(u.name),this._names.add(c),c=this._names.indexOf(c));var d={source:h,generatedLine:u.generatedLine+(a.generatedOffset.generatedLine-1),generatedColumn:u.generatedColumn+(a.generatedOffset.generatedLine===u.generatedLine?a.generatedOffset.generatedColumn-1:0),originalLine:u.originalLine,originalColumn:u.originalColumn,name:c};this.__generatedMappings.push(d),"number"==typeof d.originalLine&&this.__originalMappings.push(d)}s(this.__generatedMappings,t.compareByGeneratedPositionsDeflated),s(this.__originalMappings,t.compareByOriginalPositions)},uI.IndexedSourceMapConsumer=u,uI}().SourceMapConsumer,ud.SourceNode=function(){if(uF)return uL;uF=1;var t=uD().SourceMapGenerator,r=ux(),n=/(\r?\n)/,i="$$$isSourceNode$$$";function s(t,r,n,s,a){this.children=[],this.sourceContents={},this.line=null==t?null:t,this.column=null==r?null:r,this.source=null==n?null:n,this.name=null==a?null:a,this[i]=!0,null!=s&&this.add(s)}return s.fromStringWithSourceMap=function(t,i,a){var o=new s,l=t.split(n),u=0,h=function(){return t()+(t()||"");function t(){return u<l.length?l[u++]:void 0}},c=1,d=0,p=null;return i.eachMapping(function(t){if(null!==p){if(!(c<t.generatedLine)){var r=(n=l[u]||"").substr(0,t.generatedColumn-d);return l[u]=n.substr(t.generatedColumn-d),d=t.generatedColumn,f(p,r),void(p=t)}f(p,h()),c++,d=0}for(;c<t.generatedLine;)o.add(h()),c++;if(d<t.generatedColumn){var n=l[u]||"";o.add(n.substr(0,t.generatedColumn)),l[u]=n.substr(t.generatedColumn),d=t.generatedColumn}p=t},this),u<l.length&&(p&&f(p,h()),o.add(l.splice(u).join(""))),i.sources.forEach(function(t){var n=i.sourceContentFor(t);null!=n&&(null!=a&&(t=r.join(a,t)),o.setSourceContent(t,n))}),o;function f(t,n){if(null===t||void 0===t.source)o.add(n);else{var i=a?r.join(a,t.source):t.source;o.add(new s(t.originalLine,t.originalColumn,i,n,t.name))}}},s.prototype.add=function(t){if(Array.isArray(t))t.forEach(function(t){this.add(t)},this);else{if(!t[i]&&"string"!=typeof t)throw TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);t&&this.children.push(t)}return this},s.prototype.prepend=function(t){if(Array.isArray(t))for(var r=t.length-1;r>=0;r--)this.prepend(t[r]);else{if(!t[i]&&"string"!=typeof t)throw TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);this.children.unshift(t)}return this},s.prototype.walk=function(t){for(var r,n=0,s=this.children.length;n<s;n++)(r=this.children[n])[i]?r.walk(t):""!==r&&t(r,{source:this.source,line:this.line,column:this.column,name:this.name})},s.prototype.join=function(t){var r,n,i=this.children.length;if(i>0){for(r=[],n=0;n<i-1;n++)r.push(this.children[n]),r.push(t);r.push(this.children[n]),this.children=r}return this},s.prototype.replaceRight=function(t,r){var n=this.children[this.children.length-1];return n[i]?n.replaceRight(t,r):"string"==typeof n?this.children[this.children.length-1]=n.replace(t,r):this.children.push("".replace(t,r)),this},s.prototype.setSourceContent=function(t,n){this.sourceContents[r.toSetString(t)]=n},s.prototype.walkSourceContents=function(t){for(var n=0,s=this.children.length;n<s;n++)this.children[n][i]&&this.children[n].walkSourceContents(t);var a=Object.keys(this.sourceContents);for(n=0,s=a.length;n<s;n++)t(r.fromSetString(a[n]),this.sourceContents[a[n]])},s.prototype.toString=function(){var t="";return this.walk(function(r){t+=r}),t},s.prototype.toStringWithSourceMap=function(r){var n={code:"",line:1,column:0},i=new t(r),s=!1,a=null,o=null,l=null,u=null;return this.walk(function(t,r){n.code+=t,null!==r.source&&null!==r.line&&null!==r.column?(a===r.source&&o===r.line&&l===r.column&&u===r.name||i.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:n.line,column:n.column},name:r.name}),a=r.source,o=r.line,l=r.column,u=r.name,s=!0):s&&(i.addMapping({generated:{line:n.line,column:n.column}}),a=null,s=!1);for(var h=0,c=t.length;h<c;h++)10===t.charCodeAt(h)?(n.line++,n.column=0,h+1===c?(a=null,s=!1):s&&i.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:n.line,column:n.column},name:r.name})):n.column++}),this.walkSourceContents(function(t,r){i.setSourceContent(t,r)}),{code:n.code,map:i}},uL.SourceNode=s,uL}().SourceNode),ud).SourceNode),E=function(t){var n;if(n=new V,C(t))return n.generateStatement(t,1);if(V.Expression.hasOwnProperty(t.type))return n.generateExpression(t,r.Sequence,7);throw Error("Unknown node type: "+t.type)}(t),b?(D=E.toStringWithSourceMap({file:n.file,sourceRoot:n.sourceMapRoot}),n.sourceContent&&D.map.setSourceContent(n.sourceMap,n.sourceContent),n.sourceMapWithCode?D:D.map.toString()):(D={code:E.toString(),map:null},n.sourceMapWithCode?D:D.code)},l8.attachComments=l9.attachComments,l8.Precedence=A({},r),l8.browser=!1,l8.FORMAT_MINIFY={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},l8.FORMAT_DEFAULTS={indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:"\n",space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1}})();var uN=r1(l8);let uO=0,uR=0;function uV(t){switch(t){case"+":return"add";case"-":return"sub";case"*":return"mult";case"/":return"div";case"%":return"mod";case"==":case"===":return"equalTo";case"!=":case"!==":return"notEqual";case">":return"greaterThan";case">=":return"greaterEqual";case"<":return"lessThan";case"<=":return"lessEqual";case"&&":return"and";case"||":return"or"}}function uz(t){return"CallExpression"===t.type&&("Identifier"===t.callee?.type&&t.callee?.name.startsWith("uniform")||"MemberExpression"===t.callee?.type&&t.callee?.property.name.startsWith("uniform"))}function uU(t){return"VariableDeclaration"===t.type&&t.declarations.some(t=>"CallExpression"===t.init?.type&&("MemberExpression"===t.init?.callee?.type&&"Identifier"===t.init?.callee?.object?.type&&"__p5"===t.init?.callee?.object?.name&&("strandsFor"===t.init?.callee?.property?.name||"strandsIf"===t.init?.callee?.property?.name)||"Identifier"===t.init?.callee?.type&&("__p5.strandsFor"===t.init?.callee?.name||"__p5.strandsIf"===t.init?.callee?.name)))}function uj(t){return!!t&&"string"==typeof t&&[["x","y","z","w"],["r","g","b","a"],["s","t","p","q"]].some(r=>[...t].every(t=>r.includes(t)))}function uG(t){let r=[],n=t;for(;"MemberExpression"===n.type;){if(n.computed)return null;let t=n.property.name||n.property.value;if(uj(t)){n=n.object;break}r.unshift(t),n=n.object}return"Identifier"!==n.type?null:(r.unshift(n.name),r.join("."))}function u$(t,r){let n=t=>{if(t&&"object"==typeof t){if("MemberExpression"===t.type){if(uj(t.property.name||t.property.value))return void n(t.object);let i=uG(t);if(i&&r.has(i))return void Object.assign(t,{type:"Identifier",name:r.get(i)})}if("Identifier"===t.type&&r.has(t.name)&&(t.name=r.get(t.name)),"AssignmentExpression"===t.type){let n=null;"Identifier"===t.left.type?n=t.left.name:"MemberExpression"===t.left.type&&(n=uG(t.left)),n&&r.has(n)&&("Literal"===t.right.type||"ArrayExpression"===t.right.type)&&(t.right={type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsNode"},arguments:[t.right]})}for(let r in t)if(t.hasOwnProperty(r)&&"parent"!==r){if("MemberExpression"===t.type&&"property"===r&&!t.computed)continue;Array.isArray(t[r])?t[r].forEach(n):"object"==typeof t[r]&&n(t[r])}}};n(t)}let uH={UnaryExpression(t,r,n){if(n.some(uz))return;let i=sx[t.operator],s=t=>{t.type="CallExpression",t.callee={type:"Identifier",name:`__p5.${i}`},t.arguments=[t.argument]};if("MemberExpression"===t.type){let r=t.argument.property.name;[["x","y","z","w"],["r","g","b","a"],["s","t","p","q"]].some(t=>[...r].every(r=>t.includes(r)))&&"MemberExpression"===t.argument.type?(t.type="MemberExpression",t.object={type:"CallExpression",callee:{type:"Identifier",name:`__p5.${i}`},arguments:[t.argument.object]},t.property={type:"Identifier",name:r}):s(t)}else s(t);delete t.argument,delete t.operator},BreakStatement(t,r,n){n.some(uz)||(t.callee={type:"Identifier",name:"__p5.break"},t.arguments=[],t.type="CallExpression")},VariableDeclarator(t,r,n){if(!n.some(uz)){var i;if(uz(t.init)&&(0===t.init.arguments.length||"Literal"!==t.init.arguments[0].type||"string"!=typeof t.init.arguments[0].value)){let r={type:"Literal",value:t.id.name};t.init.arguments.unshift(r)}if(i=t.init,"CallExpression"===i?.type&&("Identifier"===i.callee?.type&&(i.callee?.name.startsWith("varying")||i.callee?.name.startsWith("shared"))||"MemberExpression"===i.callee?.type&&(i.callee?.property.name.startsWith("varying")||i.callee?.property.name.startsWith("shared"))))if(0===t.init.arguments.length||"Literal"!==t.init.arguments[0].type||"string"!=typeof t.init.arguments[0].value){let n={type:"Literal",value:t.id.name};t.init.arguments.unshift(n),r.varyings[t.id.name]=n}else r.varyings[t.id.name]=t.init.arguments[0]}},Identifier(t,r,n){n.some(uz)||r.varyings[t.name]&&!n.some(r=>"AssignmentExpression"===r.type&&r.left===t)&&(t.type="CallExpression",t.callee={type:"MemberExpression",object:{type:"Identifier",name:t.name},property:{type:"Identifier",name:"getValue"}},t.arguments=[])},ArrayExpression(t,r,n){if(n.some(uz))return;let i=JSON.parse(JSON.stringify(t));t.type="CallExpression",t.callee={type:"Identifier",name:"__p5.strandsNode"},t.arguments=[i]},AssignmentExpression(t,r,n){if(!n.some(uz)){if("="!==t.operator){let r=uV(t.operator.replace("=","")),n={type:"CallExpression",callee:{type:"MemberExpression",object:["Literal","ArrayExpression","Identifier"].includes(t.left.type)?{type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsNode"},arguments:[t.left]}:t.left,property:{type:"Identifier",name:r}},arguments:[t.right]};t.operator="=",t.right=n}if(r.varyings[t.left.name])t.type="ExpressionStatement",t.expression={type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:t.left.name},property:{type:"Identifier",name:"bridge"}},arguments:[t.right]};else if("MemberExpression"===t.left.type){let n=null;if("Identifier"===t.left.object.type&&r.varyings[t.left.object.name]?n=t.left.object.name:"CallExpression"===t.left.object.type&&"MemberExpression"===t.left.object.callee?.type&&"getValue"===t.left.object.callee.property?.name&&"Identifier"===t.left.object.callee.object?.type&&r.varyings[t.left.object.callee.object.name]&&(n=t.left.object.callee.object.name),n){let r=t.left.property.name;t.type="ExpressionStatement",t.expression={type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:n},property:{type:"Identifier",name:"bridgeSwizzle"}},arguments:[{type:"Literal",value:r},t.right]}}}}},BinaryExpression(t,r,n){if(!n.some(uz)){if(["Literal","ArrayExpression","Identifier"].includes(t.left.type)){let r={type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsNode"},arguments:[t.left]};t.left=r}t.type="CallExpression",t.callee={type:"MemberExpression",object:t.left,property:{type:"Identifier",name:uV(t.operator)}},t.arguments=[t.right]}},LogicalExpression(t,r,n){if(!n.some(uz)){if(["Literal","ArrayExpression","Identifier"].includes(t.left.type)){let r={type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsNode"},arguments:[t.left]};t.left=r}t.type="CallExpression",t.callee={type:"MemberExpression",object:t.left,property:{type:"Identifier",name:uV(t.operator)}},t.arguments=[t.right]}},IfStatement(t,r,n){if(n.some(uz))return;let i=t.test,s={type:"ArrowFunctionExpression",params:[],body:"BlockStatement"===t.consequent.type?t.consequent:{type:"BlockStatement",body:[t.consequent]}},a,o={type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsIf"},arguments:[i,s]};o={type:"CallExpression",callee:{type:"MemberExpression",object:o,property:{type:"Identifier",name:"Else"}},arguments:[a=t.alternate?{type:"ArrowFunctionExpression",params:[],body:"BlockStatement"===t.alternate.type?t.alternate:{type:"BlockStatement",body:[t.alternate]}}:{type:"ArrowFunctionExpression",params:[],body:{type:"BlockStatement",body:[]}}]};let l=new Set,u=t=>{let r=new Set;l5(t,{VariableDeclarator(t,n){n.some(uU)||"Identifier"===t.id.type&&r.add(t.id.name)}}),l5(t,{AssignmentExpression(t,n){if(n.some(uU))return;let i=t.left;if("Identifier"===i.type)r.has(i.name)||l.add(i.name);else if("MemberExpression"===i.type){let t=uG(i);if(t){let n=t.split(".")[0];r.has(n)||l.add(t)}}}})};if(u(s.body),u(a.body),l.size>0){let r=(t,r)=>{if("BlockStatement"===t.type){let n=new Map,i=[];for(let t of r){let r=t.split("."),s=`__copy_${r.join("_")}_${uO++}`;n.set(t,s);let a={type:"Identifier",name:r[0]};for(let t=1;t<r.length;t++)a={type:"MemberExpression",object:a,property:{type:"Identifier",name:r[t]},computed:!1};i.push({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:s},init:{type:"CallExpression",callee:{type:"MemberExpression",object:a,property:{type:"Identifier",name:"copy"},computed:!1},arguments:[]}}],kind:"let"})}t.body.forEach(t=>u$(t,n)),t.body.unshift(...i);let s={type:"ObjectExpression",properties:Array.from(r).map(t=>({type:"Property",key:{type:"Literal",value:t},value:{type:"Identifier",name:n.get(t)},kind:"init",computed:!1,shorthand:!1}))};t.body.push({type:"ReturnStatement",argument:s})}};r(s.body,l),r(a.body,l);let n="__block_"+uO++,i=[];for(let t of l){let r=t.split("."),n={type:"Identifier",name:r[0]};for(let t=1;t<r.length;t++)n={type:"MemberExpression",object:n,property:{type:"Identifier",name:r[t]},computed:!1};let s={type:"Identifier",name:r[0]};for(let t=1;t<r.length;t++)s={type:"MemberExpression",object:s,property:{type:"Identifier",name:r[t]},computed:!1};i.push({type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:n,right:{type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsNode"},arguments:[s]}}})}for(let t of(i.push({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:n},init:o}],kind:"const"}),l)){let r=t.split("."),s={type:"Identifier",name:r[0]};for(let t=1;t<r.length;t++)s={type:"MemberExpression",object:s,property:{type:"Identifier",name:r[t]},computed:!1};let a={type:"MemberExpression",object:{type:"Identifier",name:n},property:{type:"Literal",value:t},computed:!0};i.push({type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:s,right:a}})}t.type="BlockStatement",t.body=i}else t.type="ExpressionStatement",t.expression=o;delete t.test,delete t.consequent,delete t.alternate},UpdateExpression(t,r,n){let i;if(n.some(uz))return;if("++"===t.operator)i="+";else{if("--"!==t.operator)return;i="-"}let s={type:"AssignmentExpression",operator:"=",left:t.argument,right:{type:"BinaryExpression",operator:i,left:t.argument,right:{type:"Literal",value:1}}};Object.assign(t,s),delete t.prefix,this.BinaryExpression(t.right,r,[...n,t]),this.AssignmentExpression(t,r,n)},ForStatement(t,r,n){let i,s;if(n.some(uz))return;let a="loopVar"+uR++;if(t.init&&"VariableDeclaration"===t.init.type){let r=t.init.declarations[0].init;i={type:"ArrowFunctionExpression",params:[],body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:r}]}}}else i={type:"ArrowFunctionExpression",params:[],body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:{type:"Literal",value:0}}]}};let o=t.test||{type:"Literal",value:!0};if("VariableDeclaration"===t.init?.type){let r=t.init.declarations[0].id.name;o=this.replaceIdentifierReferences(o,r,a)}let l={type:"ArrowFunctionExpression",params:[{type:"Identifier",name:a}],body:o};if(t.update){let r=t.update;if("VariableDeclaration"===t.init?.type){let n=t.init.declarations[0].id.name;r=this.replaceIdentifierReferences(r,n,a)}s={type:"ArrowFunctionExpression",params:[{type:"Identifier",name:a}],body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:r}]}}}else s={type:"ArrowFunctionExpression",params:[{type:"Identifier",name:a}],body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:{type:"Identifier",name:a}}]}};let u="BlockStatement"===t.body.type?t.body:{type:"BlockStatement",body:[t.body]};if("VariableDeclaration"===t.init?.type){let r=t.init.declarations[0].id.name;u=this.replaceIdentifierReferences(u,r,a)}let h={type:"ArrowFunctionExpression",params:[{type:"Identifier",name:a},{type:"Identifier",name:"vars"}],body:u},c=new Set,d=new Set;if(l5(h.body,{VariableDeclarator(t,r){r.some(uU)||"Identifier"===t.id.type&&d.add(t.id.name)}}),l5(h.body,{AssignmentExpression(t,r){if(r.some(uU))return;let n=t.left;if("Identifier"===n.type)d.has(n.name)||c.add(n.name);else if("MemberExpression"===n.type){let t=uG(n);if(t){let r=t.split(".")[0];d.has(r)||c.add(t)}}}}),c.size>0){((t,r)=>{if("BlockStatement"===t.type){let n=new Map,i=[];for(let t of r){let r=t.split("."),s=`__copy_${r.join("_")}_${uO++}`;n.set(t,s);let a={type:"Identifier",name:"vars"};for(let t of r)a={type:"MemberExpression",object:a,property:{type:"Identifier",name:t},computed:!1};i.push({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:s},init:{type:"CallExpression",callee:{type:"MemberExpression",object:a,property:{type:"Identifier",name:"copy"},computed:!1},arguments:[]}}],kind:"let"})}t.body.forEach(t=>u$(t,n)),t.body.unshift(...i);let s={type:"ObjectExpression",properties:Array.from(r).map(t=>({type:"Property",key:{type:"Literal",value:t},value:{type:"Identifier",name:n.get(t)},kind:"init",computed:!1,shorthand:!1}))};t.body.push({type:"ReturnStatement",argument:s})}})(h.body,c);let r="__block_"+uO++,n=[],a={type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsFor"},arguments:[i,l,s,h,{type:"ObjectExpression",properties:Array.from(c).map(t=>{let r=t.split("."),n={type:"Identifier",name:r[0]};for(let t=1;t<r.length;t++)n={type:"MemberExpression",object:n,property:{type:"Identifier",name:r[t]},computed:!1};return{type:"Property",key:{type:"Literal",value:t},value:{type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsNode"},arguments:[n]},kind:"init",computed:!1,shorthand:!1}})}]};for(let t of(n.push({type:"VariableDeclaration",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:r},init:a}],kind:"const"}),c)){let i=t.split("."),s={type:"Identifier",name:i[0]};for(let t=1;t<i.length;t++)s={type:"MemberExpression",object:s,property:{type:"Identifier",name:i[t]},computed:!1};let a={type:"Identifier",name:r};for(let t of i)a={type:"MemberExpression",object:a,property:{type:"Identifier",name:t},computed:!1};n.push({type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:s,right:a}})}t.type="BlockStatement",t.body=n}else t.type="ExpressionStatement",t.expression={type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsFor"},arguments:[i,l,s,h,{type:"ObjectExpression",properties:[]}]};delete t.init,delete t.test,delete t.update},replaceIdentifierReferences(t,r,n){if(!t||"object"!=typeof t)return t;let i=t=>{if(!t||"object"!=typeof t)return t;if("Identifier"===t.type&&t.name===r)return{...t,name:n};let s={...t};for(let r in t)t.hasOwnProperty(r)&&"parent"!==r&&(Array.isArray(t[r])?s[r]=t[r].map(i):"object"==typeof t[r]&&(s[r]=i(t[r])));return s};return i(t)}};function uW(t,r,n){let i=r.filter(t=>null!==t.value.id);if(0===i.length)throw Error(`No valid inputs for phi node for variable ${n}`);let s=i.map(r=>sD(t.dag,r.value.id)).find(t=>t.dimension)??sD(t.dag,i[0].value.id),a=s.dimension,o=s.baseType,l={nodeType:i6.PHI,dimension:a,baseType:o,dependsOn:r.map(t=>t.value.id).filter(t=>null!==t),phiBlocks:r.map(t=>t.blockId)},u=sS(t.dag,l);return sB(t.cfg,t.cfg.currentBlock,u),{id:u,dimension:a,baseType:o}}class uq{constructor(t,r,n){this.branches=[{condition:r,branchCallback:n,blockType:sb.IF_BODY}],this.ctx=t}ElseIf(t,r){return this.branches.push({condition:t,branchCallback:r,blockType:sb.IF_BODY}),this}Else(t=()=>({})){this.branches.push({condition:null,branchCallback:t,blockType:sb.IF_BODY});let r=function(t,r){let n=t.cfg,i=r.branches,s=sM(n,sb.MERGE),a=[],o=[],l={},u={},h=sM(n,sb.BRANCH);sI(n,n.currentBlock,h),sI(n,h,s);let c=h;for(let r=0;r<i.length;r++){let{condition:l,branchCallback:h,blockType:d}=i[r];if(null!==l){let t=sM(n,sb.IF_COND);sI(n,c,t),sk(n,t),n.blockConditions[t]=l.id,c=t,sT(n)}else{let t=sM(n,sb.ELSE_COND);sI(n,c,t),c=t}let p=sM(n,sb.SCOPE_START);sI(n,c,p);let f=sM(n,d);sI(n,p,f),sk(n,f);let m=h();for(let r in m)m[r]=t.p5.strandsNode(m[r]);for(let t in m)u[t]?u[t].push({value:m[t],blockId:f}):u[t]=[{value:m[t],blockId:f}];a.push(m);let g=sM(n,sb.DEFAULT);sI(n,n.currentBlock,g),o.push(g),sT(n);let y=sM(n,sb.SCOPE_END);sI(n,g,y),sI(n,y,s),c=p}for(let r in sF(n,h),u)l[r]=uW(t,u[r],r);sT(n);for(let r=0;r<a.length;r++){let i=a[r],s=o[r];for(let r in sF(n,s),i)if(l[r]){let a=l[r].id,o=i[r].id,u={nodeType:i6.ASSIGNMENT,dependsOn:[a,o],phiBlocks:[]};sB(n,s,sS(t.dag,u))}sT(n)}return sk(n,s),l}(this.ctx,this),n={};for(let[t,i]of Object.entries(r))n[t]=sL(i.id,i.dimension,this.ctx);return n}}class uY{constructor(t,r,n,i,s,a){this.strandsContext=t,this.initialCb=r,this.conditionCb=n,this.updateCb=i,this.bodyCb=s,this.initialVars=a}build(){let t=this.strandsContext.cfg,r=sM(t,sb.MERGE),n=sM(t,sb.BRANCH);sI(t,t.currentBlock,n),sI(t,n,r);let{initialVar:i,phiNode:s}=this.initializeLoopVariable(t,n);sk(t,t.currentBlock);let a=sL(s.id,s.dimension,this.strandsContext),o=this.conditionCb(a),l=this.updateCb(a);sT(t),this.loopIsBounded(i,o,l)?this.buildBoundedLoop(t,n,r,i,s,o,l):this.buildUnboundedLoop(t,n,r,i,s,o,l);let u=this.phiNodesForBody;for(let[r,i]of(sF(t,n),Object.entries(this.bodyResults)))if("loopVar"!==r&&u[r]){let t=u[r].id,n=sD(this.strandsContext.dag,t);n.dependsOn.length>1&&(n.dependsOn[1]=i.id),n.phiInputs&&n.phiInputs.length>1&&(n.phiInputs[1].value=i)}for(let[r,i]of(sT(t),sF(t,n),Object.entries(this.initialVars)))if("loopVar"!==r&&u[r]){let s=u[r].id,a=i.id,o=sE({nodeType:i6.ASSIGNMENT,dependsOn:[s,a],phiBlocks:[]});sB(t,n,sS(this.strandsContext.dag,o))}for(let[r,n]of(sT(t),sF(t,this.finalBodyBlock),Object.entries(this.bodyResults)))if("loopVar"!==r&&u[r]){let i=u[r].id,s=n.id,a=sE({nodeType:i6.ASSIGNMENT,dependsOn:[i,s],phiBlocks:[]}),o=sS(this.strandsContext.dag,a);sB(t,this.finalBodyBlock,o)}sT(t);let h={};for(let[t,r]of Object.entries(u))h[t]=sL(r.id,r.dimension,this.strandsContext);return sk(t,r),h}buildBoundedLoop(t,r,n,i,s,a,o){let l=sM(t,sb.FOR);if(sI(t,r,l),sk(t,l),i){let r=sE({nodeType:i6.ASSIGNMENT,dependsOn:[s.id,i.id],phiBlocks:[]});sB(t,l,sS(this.strandsContext.dag,r))}let u=sE({nodeType:i6.STATEMENT,statementType:sr,dependsOn:[a.id],phiBlocks:[]});sB(t,l,sS(this.strandsContext.dag,u));let h=sE({nodeType:i6.ASSIGNMENT,dependsOn:[s.id,o.id],phiBlocks:[]});sB(t,l,sS(this.strandsContext.dag,h)),sT(t);let c=t.blockInstructions[l]||[],d=i?3:2;if(c.length!==d)throw Error(`FOR block must have exactly ${d} statements, got ${c.length}`);let p=sM(t,sb.SCOPE_START);sI(t,l,p);let f=sM(t,sb.DEFAULT);this.bodyBlock=f,sI(t,p,f),this.executeBodyCallback(t,r,f,s);let m=sM(t,sb.SCOPE_END);sI(t,f,m),sI(t,m,n)}buildUnboundedLoop(t,r,n,i,s,a,o){let l=sM(t,sb.FOR);if(sI(t,r,l),sk(t,l),i){let r=sE({nodeType:i6.ASSIGNMENT,dependsOn:[s.id,i.id],phiBlocks:[]});sB(t,l,sS(this.strandsContext.dag,r))}else{let r=sE({nodeType:i6.STATEMENT,statementType:sn,dependsOn:[],phiBlocks:[]});sB(t,l,sS(this.strandsContext.dag,r))}let u=sE({nodeType:i6.STATEMENT,statementType:sn,dependsOn:[],phiBlocks:[]});sB(t,l,sS(this.strandsContext.dag,u));let h=sE({nodeType:i6.STATEMENT,statementType:sn,dependsOn:[],phiBlocks:[]});sB(t,l,sS(this.strandsContext.dag,h)),sT(t);let c=sM(t,sb.SCOPE_START);sI(t,l,c);let d=sM(t,sb.DEFAULT);sI(t,c,d),sk(t,d);let p=this.createLogicalNotNode(a),f=sM(t,sb.IF_COND);sI(t,d,f),t.blockConditions[f]=p.id;let m=sM(t,sb.SCOPE_START);sI(t,f,m);let g=sM(t,sb.DEFAULT);sI(t,m,g),sk(t,g);let y=sE({nodeType:i6.STATEMENT,statementType:se,dependsOn:[],phiBlocks:[]});sB(t,g,sS(this.strandsContext.dag,y)),sT(t);let v=sM(t,sb.SCOPE_END);sI(t,g,v),sI(t,v,n),sT(t);let x=sM(t,sb.DEFAULT);this.bodyBlock=x,sI(t,d,x),this.executeBodyCallback(t,r,x,s);let b=sM(t,sb.DEFAULT);sI(t,x,b),sk(t,b);let w=sE({nodeType:i6.ASSIGNMENT,dependsOn:[s.id,o.id],phiBlocks:[]});sB(t,b,sS(this.strandsContext.dag,w)),sT(t);let _=sM(t,sb.SCOPE_END);sI(t,b,_),sI(t,_,n),sI(t,d,n)}initializeLoopVariable(t,r){sk(t,r);let n=this.initialCb();if(!(n instanceof sP)){let{id:t,dimension:r}=sU(this.strandsContext,{baseType:si,dimension:1},n);n=sL(t,r,this.strandsContext)}let i=uW(this.strandsContext,[{value:n,blockId:r},{value:n,blockId:r}],"loopVar");return sT(t),{initialVar:n,phiNode:i}}createLogicalNotNode(t){let r=sE({nodeType:i6.OPERATION,opCode:100,baseType:ss,dimension:1,dependsOn:[t.id],phiBlocks:[],usedBy:[]});return sL(sS(this.strandsContext.dag,r),1,this.strandsContext)}executeBodyCallback(t,r,n,i){sk(t,n);let s={},a={};for(let[i,o]of(sF(t,r),Object.entries(this.initialVars)))if("loopVar"!==i){let t=uW(this.strandsContext,[{value:o,blockId:r},{value:o,blockId:n}],i);a[i]=t,s[i]=sL(t.id,t.dimension,this.strandsContext)}sT(t);let o=sL(i.id,i.dimension,this.strandsContext);for(let t in this.bodyResults=this.bodyCb(o,s)||{},this.bodyResults)this.bodyResults[t]=this.strandsContext.p5.strandsNode(this.bodyResults[t]);this.phiNodesForBody=a,this.finalBodyBlock=t.currentBlock,sT(t)}loopIsBounded(t,r,n){if(!r)return!1;let i=sD(this.strandsContext.dag,r.id);if(i.nodeType!==i6.OPERATION||!i.dependsOn||2!==i.dependsOn.length)return!1;let s=sL(i.dependsOn[0],1,this.strandsContext),a=sL(i.dependsOn[1],1,this.strandsContext),o=this.nodeUsesOnlyLiterals(s),l=this.nodeUsesOnlyLiterals(a);return o||l}nodeUsesOnlyLiterals(t){let r=sD(this.strandsContext.dag,t.id);switch(r.nodeType){case i6.LITERAL:return!0;case i6.VARIABLE:case i6.PHI:return!1;case i6.OPERATION:if(r.dependsOn)for(let t of r.dependsOn){let r=sL(t,1,this.strandsContext);if(!this.nodeUsesOnlyLiterals(r))return!1}return!0;default:return!1}}}function uX(t,r,n,i){if(!(n instanceof sP))return sU(t,r,n).id;let s=t.dag,a=n.id,o=s.baseTypes[a],l=s.dimensions[a];return l!==r.dimension?1!==l?s_("type error",`You have returned a vector with ${l} components in ${i} when a ${r.baseType+r.dimension} was expected!`):a=sU(t,r,n).id:o!==r.baseType&&(a=sU(t,r,n).id),a}function uK(t,r){function n(r,i,{active:s=!1,renderer:a=null,baseShader:o=null}={}){r.dag=sC(),r.cfg={blockTypes:[],incomingEdges:[],outgoingEdges:[],blockInstructions:[],nextID:0,blockStack:[],blockOrder:[],blockConditions:{},currentBlock:-1},r.uniforms=[],r.vertexDeclarations=new Set,r.fragmentDeclarations=new Set,r.hooks=[],r.globalAssignments=[],r.backend=i,r.active=s,r.renderer=a,r.baseShader=o,r.previousFES=t.disableFriendlyErrors,r.windowOverrides={},r.fnOverrides={},s&&(t.disableFriendlyErrors=!0),r.p5=t}let i={};n(i),function(t,r,n){for(let{name:r,arity:i,opCode:s}of sy)"binary"===i&&(sP.prototype[r]=function(...t){let{id:r,dimension:i}=function(t,r,n,i){let s,{dag:a,cfg:o}=t;if(n[0]instanceof sP&&1===n.length)s=n[0];else{let{id:r,dimension:i}=sU(t,{baseType:si,dimension:null},n);s=sL(r,i,t)}let l=r.id,u=s.id,h=sA(a,r.id),c=sA(a,s.id),d={node:null,toType:h};if(h.baseType===c.baseType&&h.baseType===sa){d.toType.baseType=si,h.dimension===c.dimension?d.toType.dimension=h.dimension:1===h.dimension&&c.dimension>1?d.toType.dimension=c.dimension:1===c.dimension&&h.dimension>1?d.toType.dimension=h.dimension:s_("type error",`You have tried to perform a binary operation:
${h.baseType+h.dimension} ${sv[i]} ${c.baseType+c.dimension}
It's only possible to operate on two nodes with the same dimension, or a scalar value and a vector.`);let n=sU(t,d.toType,r),a=sU(t,d.toType,s);l=n.id,u=a.id}else if(h.baseType!==c.baseType||h.dimension!==c.dimension){1===h.dimension&&c.dimension>1?(d.node=r,d.toType=c):1===c.dimension&&h.dimension>1||h.priority>c.priority?(d.node=s,d.toType=h):c.priority>h.priority?(d.node=r,d.toType=c):s_("type error",`A vector of length ${h.dimension} operated with a vector of length ${c.dimension} is not allowed.`);let n=sU(t,d.toType,d.node);d.node===r?l=(r=sL(n.id,n.dimension,t)).id:u=(s=sL(n.id,n.dimension,t)).id}let p=sE({nodeType:i6.OPERATION,opCode:i,dependsOn:[l,u],baseType:d.toType.baseType,dimension:d.toType.dimension}),f=sS(a,p);return sB(o,o.currentBlock,f),{id:f,dimension:p.dimension}}(n,this,t,s);return sL(r,i,n)}),"unary"===i&&(t[r]=function(t){let{id:r,dimension:i}=function(t,r,n){let i,s,{dag:a,cfg:o}=t;if(r instanceof sP)s=r;else{let{id:n,dimension:i}=sU(t,{baseType:si,dimension:null},r);s=sL(n,i,t)}i=[s.id];let l=sS(a,sE({nodeType:i6.OPERATION,opCode:n,dependsOn:i,baseType:a.baseTypes[s.id],dimension:s.dimension}));return sB(o,o.currentBlock,l),{id:l,dimension:s.dimension}}(n,t,s);return sL(r,i,n)});for(let[i,s]of(r.discard=function(){sG(n,i7)},r.break=function(){sG(n,se)},t.break=r.break,r.instanceID=function(){let t=sO(n,{baseType:"int",dimension:1},n.backend.instanceIdReference());return sL(t.id,t.dimension,n)},t.strandsIf=function(t,r){return new uq(n,t,r)},r.strandsIf=t.strandsIf,t.strandsFor=function(t,r,i,s,a){return new uY(n,t,r,i,s,a).build()},r.strandsFor=t.strandsFor,t.strandsEarlyReturn=function(r){let{dag:i,cfg:s}=n;if(!n.activeHook)throw Error("strandsEarlyReturn can only be used inside a hook callback");let a=r instanceof sP?r:t.strandsNode(r),o=sM(s,sb.DEFAULT);sI(s,s.currentBlock,o),sk(s,o);let l=sS(i,sE({nodeType:i6.STATEMENT,statementType:st,dependsOn:[a.id]}));return sB(s,s.currentBlock,l),n.activeHook.earlyReturns.push({earlyReturnID:l,valueNode:a}),sT(s),a},r.strandsEarlyReturn=t.strandsEarlyReturn,t.strandsNode=function(...t){if(1===t.length&&t[0]instanceof sP)return t[0];t.length>4&&s_("type error","It looks like you've tried to construct a p5.strands node implicitly, with more than 4 components. This is currently not supported.");let{id:r,dimension:i}=sU(n,{baseType:si,dimension:null},t.flat());return sL(r,i,n)},Object.entries(sN)))if(s[0].isp5Function){let t=r[i];r[i]=function(...r){if(n.active){let{id:t,dimension:s}=sj(n,i,r);return sL(t,s,n)}return t.apply(this,r)}}else r[i]=function(...r){if(n.active){let{id:t,dimension:s}=sj(n,i,r);return sL(t,s,n)}t._friendlyError(`It looks like you've called ${i} outside of a shader's modify() function.`)};r.getTexture=function(...r){if(n.active){let{id:t,dimension:i}=n.backend.createGetTextureCall(n,r);return sL(t,i,n)}t._friendlyError("It looks like you've called getTexture outside of a shader's modify() function.")};let i=r.texture;r.texture=function(...t){return n.active?this.getTexture(...t):i.apply(this,t)};let s=r.noise,a=r.noiseDetail;for(let i in n._noiseOctaves=null,n._noiseAmpFalloff=null,r.noiseDetail=function(t,r){if(!n.active)return a.apply(this,arguments);n._noiseOctaves=t,n._noiseAmpFalloff=r},r.noise=function(...i){let a;if(!n.active)return s.apply(this,i);let o=this._renderer.getNoiseShaderSnippet();n.vertexDeclarations.add(o),n.fragmentDeclarations.add(o);let l=i.flat().map(r=>t.strandsNode(r));3===l.length?a=[r.vec3(l[0],l[1],l[2])]:2===l.length?a=[r.vec3(l[0],l[1],0)]:1===l.length&&l[0].dimension<=3?a=3===l[0].dimension?l:2===l[0].dimension?[r.vec3(l[0],0)]:[r.vec3(l[0],0,0)]:t._friendlyError(`It looks like you've called noise() with ${i.length} arguments. It only supports 1D to 3D input.`);let u=null!==n._noiseOctaves?n._noiseOctaves:r._getNoiseOctaves(),h=null!==n._noiseAmpFalloff?n._noiseAmpFalloff:r._getNoiseAmpFalloff();a.push(u),a.push(h);let{id:c,dimension:d}=sj(n,"noise",a,{overloads:[{params:[sh.float3,sh.int1,sh.float1],returnType:sh.float1}]});return sL(c,d,n)},sh){let s;if(i===sa||"sampler"===i)continue;let a=sh[i],o=[];for(let t of(/^[ib]vec/.test(a.fnName)?o.push((s=a.fnName.slice(0,2).toUpperCase()+a.fnName.slice(2).toLowerCase()).replace("Vec","Vector")):"Sampler2D"===(s=a.fnName.charAt(0).toUpperCase()+a.fnName.slice(1))?o.push("Texture"):/^vec/.test(a.fnName)&&o.push(s.replace("Vec","Vector")),r[`uniform${s}`]=function(t,r){let{id:i,dimension:s}=sO(n,a,t);return n.uniforms.push({name:t,typeInfo:a,defaultValue:r}),sL(i,s,n)},r[`shared${s}`]=function(t){let{id:r,dimension:i}=sO(n,a,t);return n.sharedVariables||(n.sharedVariables=new Map),n.sharedVariables.set(t,{typeInfo:a,usedInVertex:!1,usedInFragment:!1,declared:!1}),sL(r,i,n)},r[`varying${s}`]=r[`shared${s}`],o))r[`uniform${t}`]=r[`uniform${s}`],r[`varying${t}`]=r[`varying${s}`],r[`shared${t}`]=r[`shared${s}`];let l=r[a.fnName];r[a.fnName]=function(...r){if(n.active){if(1===r.length&&r[0].dimension&&r[0].dimension===a.dimension){let{id:t,dimension:i}=sj(n,a.fnName,r,{overloads:[{params:[r[0].typeInfo()],returnType:a}]});return sL(t,i,n)}{!(a.dimension>1&&1===r.length)||Array.isArray(r[0])||r[0]instanceof sP&&r[0].dimension>1||a.baseType!==si&&"int"!==a.baseType&&a.baseType!==ss||(r=Array(a.dimension).fill(r[0]));let{id:t,dimension:i}=sU(n,a,r);return sL(t,i,n)}}if(l)return l.apply(this,r);t._friendlyError(`It looks like you've called ${a.fnName} outside of a shader's modify() function.`)}}}(t,r,i);let s=t.Shader.prototype.modify;t.Shader.prototype.modify=function(a,o={}){try{if(a instanceof Function||"string"==typeof a){let l;n(i,this._renderer.strandsBackend,{active:!0,renderer:this._renderer,baseShader:this}),function(t,r,n){let i={...Object.fromEntries(Object.entries(n.hooks.vertex).map(([t,r])=>[t,{...r,shaderContext:"vertex"}])),...Object.fromEntries(Object.entries(n.hooks.fragment).map(([t,r])=>[t,{...r,shaderContext:"fragment"}]))},s=Object.keys(i).map(t=>n.hookTypes(t)),{cfg:a,dag:o}=t;for(let n of s){let s=function(r){let l=sM(a,sb.FUNCTION);sI(a,a.currentBlock,l),sk(a,l);let u=function(t,r){let n=[],i=t.dag;for(let s of r)if(sd(s.type)){let r=sc(s),{id:a,dimension:o}=sR(t,r,s.name,[]),l=sL(a,o,t);for(let n=0;n<r.properties.length;n++){let a=r.properties[n];Object.defineProperty(l,a.name,{get(){let a=sD(i,i.dependsOn[l.id][n]);return sL(a.id,a.dimension,t,a=>{let o=i.dependsOn[l.id].slice();o[n]=a,l.id=sR(t,r,s.name,o).id})},set(o){let u,h=[...i.dependsOn[l.id]];u=o instanceof sP?o.id:sU(t,a.dataType,o).id,h[n]=u,l.id=sR(t,r,s.name,h).id}})}n.push(l)}else{if("sampler"===s.type.typeName)continue;if(!s.type.dataType)throw Error(`Missing dataType for parameter ${s.name} of type ${s.type.typeName}`);let{id:r,dimension:i}=sO(t,s.type.dataType,s.name),a=sL(r,i,t);n.push(a)}return n}(t,n.parameters);t.activeHook=s;let h=r(...u);t.activeHook=void 0;let c=n.returnType,d=null,p=r=>{if(sd(c)){let i=sc(c);if(r instanceof sP){let s=sD(t.dag,r.id);s.baseType!==i.typeName&&s_("type error",`You have returned a ${r.baseType} from ${n.name} when a ${i.typeName} was expected.`);let a=s.dependsOn.slice();for(let l=0;l<i.properties.length;l++){let u=i.properties[l].dataType,h=sL(s.dependsOn[l],o.dependsOn[r.id],t);a[l]=uX(t,u,h,n.name)}return o.dependsOn[r.id]=a,r.id}{let s=i.properties,a=[];for(let i=0;i<s.length;i++){let o=s[i],l=r[o.name];void 0===l&&s_("type error",`You've returned an incomplete struct from ${n.name}.
Expected: { ${c.properties.map(t=>t.name).join(", ")} }
Received: { ${Object.keys(r).join(", ")} }
All of the properties are required!`);let u=o.dataType,h=uX(t,u,l,n.name);a.push(h)}return function(t,r,n){let{cfg:i,dag:s}=t,{properties:a}=r;n.length!==a.length&&s_("type error",`You've tried to construct a ${r.typeName} struct with ${n.length} properties, but it expects ${a.length} properties.
The properties it expects are:
${a.map(t=>t.name+" "+t.DataType.baseType+t.DataType.dimension)}`);let o=[];for(let r=0;r<a.length;r++){let i=a[r],{originalNodeID:s,mappedDependencies:l}=sV(t,i.dataType,n[r]);s?o.push(s):o.push(sz(t,i.dataType,l))}let l=sS(s,sE({nodeType:i6.OPERATION,opCode:201,dimension:a.length,baseType:r.typeName,dependsOn:o}));return sB(i,i.currentBlock,l),{id:l,dimension:a.length,components:r.components}}(t,i,a).id}}{if(!c.dataType)throw Error(`Missing dataType for return type ${c.typeName}`);let i=c.dataType;return uX(t,i,r,n.name)}};for(let{valueNode:t,earlyReturnID:r}of s.earlyReturns){let n=p(t);o.dependsOn[r]=[n]}d=h?p(h):void 0;let f=i[`${n.returnType.typeName} ${n.name}`];t.hooks.push({hookType:n,entryBlockID:l,rootNodeID:d,shaderContext:f?.shaderContext}),sT(a)};s.earlyReturns=[],t.windowOverrides[n.name]=window[n.name],t.fnOverrides[n.name]=r[n.name],window[n.name]=s,r[n.name]=s}}(i,r,this);{let r="string"==typeof a?`(${a})`:`(${a.toString()})`;l=function(t,r,n,i){var s,a;let o,l;uO=0,uR=0;let u=(s={ecmaVersion:2021,locations:n},li.parse(r,s)),h={...uH};delete h.IfStatement,delete h.ForStatement,l5(u,h,void 0,{varyings:{}}),a=function(t){var r=Object.create(l6);for(var n in t)r[n]=t[n];return r}({IfStatement(t,r,n){r.inControlFlow++,t.test&&n(t.test,r),t.consequent&&n(t.consequent,r),t.alternate&&n(t.alternate,r),uH.IfStatement(t,r,[]),r.inControlFlow--},ForStatement(t,r,n){r.inControlFlow++,t.init&&n(t.init,r),t.test&&n(t.test,r),t.update&&n(t.update,r),t.body&&n(t.body,r),uH.ForStatement(t,r,[]),r.inControlFlow--},ReturnStatement(t,r,n){r.inControlFlow&&(t.type="ExpressionStatement",t.expression={type:"CallExpression",callee:{type:"Identifier",name:"__p5.strandsEarlyReturn"},arguments:t.argument?[t.argument]:[]},delete t.argument)}}),function t(r,n,i){a[i||r.type](r,n,t)}(u,{varyings:{},inControlFlow:0},void 0);let c=uN.generate(u),d=Object.keys(i),p=/\(?\s*(?:function)?\s*\w*\s*\(([^)]*)\)\s*(?:=>)?\s*{((?:.|\n)*)}\s*;?\s*\)?/.exec(c);if(!p)throw console.log(c),Error("Could not parse p5.strands function!");let f=p[1].split(/,\s*/).filter(t=>!!t.trim());f.length>0?(l=f,o=[i]):(l=d,o=d.map(t=>i[t]));let m=p[2];try{let r=Function("__p5",...l,m);return()=>r(t,...o)}catch(t){throw console.error(t),console.log(l),console.log(m),Error("Error transpiling p5.strands callback!")}}(t,r,!1,o)}let u=sM(i.cfg,sb.GLOBAL);sk(i.cfg,u),l(),sT(i.cfg);let h=function(t){let{cfg:r,backend:n,vertexDeclarations:i,fragmentDeclarations:s}=t,a={uniforms:{},varyingVariables:[]};for(let{name:r,typeInfo:i,defaultValue:s}of t.uniforms){let t=n.generateHookUniformKey(r,i);null!==t&&(a.uniforms[t]=s)}for(let{hookType:i,rootNodeID:s,entryBlockID:o,shaderContext:l}of(n.addTextureBindingsToDeclarations&&n.addTextureBindingsToDeclarations(t),t.hooks)){let u,h={indent:1,codeLines:[],write(t){this.codeLines.push("  ".repeat(this.indent)+t)},tempNames:{},declarations:[],nextTempID:0,visitedNodes:new Set,shaderContext:l,strandsContext:t};for(let i of function(t,r){let n=new Set,i=[];return function r(s){if(!n.has(s)){for(let i of(n.add(s),t[s].sort((t,r)=>r-t)||[]))r(i);i.push(s)}}(r),i.reverse()}(r.outgoingEdges,o))n.generateBlock(i,t,h);for(let r of t.globalAssignments)h.visitedNodes.has(r)||(n.generateAssignment(h,t.dag,r),h.visitedNodes.add(r));t.globalAssignments=[];let c=n.hookEntry(i);if(i.returnType.properties)u=sc(i.returnType);else{if(!i.returnType.dataType)throw Error(`Missing dataType for return type ${i.returnType.typeName}`);u=i.returnType.dataType}s&&n.generateReturnStatement(t,h,s,u),a[`${i.returnType.typeName} ${i.name}`]=[c,...h.codeLines,"}"].join("\n")}if(t.sharedVariables)for(let[r,o]of t.sharedVariables)o.usedInVertex&&o.usedInFragment?a.varyingVariables.push(n.generateVaryingVariable(r,o.typeInfo)):o.usedInVertex?i.add(n.generateLocalDeclaration(r,o.typeInfo)):o.usedInFragment&&s.add(n.generateLocalDeclaration(r,o.typeInfo));return a.vertexDeclarations=[...i].join("\n"),a.fragmentDeclarations=[...s].join("\n"),a}(i);return s.call(this,h)}return s.call(this,a)}finally{for(let r in i.dag=sC(),i.cfg={blockTypes:[],incomingEdges:[],outgoingEdges:[],blockInstructions:[],nextID:0,blockStack:[],blockOrder:[],blockConditions:{},currentBlock:-1},i.uniforms=[],i.vertexDeclarations=new Set,i.fragmentDeclarations=new Set,i.hooks=[],i.globalAssignments=[],i.active=!1,t.disableFriendlyErrors=i.previousFES,i.windowOverrides)window[r]=i.windowOverrides[r];for(let t in i.fnOverrides)r[t]=i.fnOverrides[t]}}}function uZ(t){return(uZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uQ(t){var r=function(t,r){if("object"!=uZ(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,r);if("object"!=uZ(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==uZ(r)?r:r+""}function uJ(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?Object(arguments[r]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&i.push.apply(i,Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),i.forEach(function(r){var i,s;i=r,s=n[r],(i=uQ(i))in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return t}function u0(t,r){if(!(t instanceof r))throw TypeError("Cannot call a class as a function")}function u1(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,uQ(i.key),i)}}function u2(t,r,n){return r&&u1(t.prototype,r),n&&u1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u5(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u3(t,r){if(r&&("object"==uZ(r)||"function"==typeof r))return r;if(void 0!==r)throw TypeError("Derived constructors may only return object or undefined");return u5(t)}function u4(t){return(u4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u6(t,r){return(u6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(t,r)}function u8(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&u6(t,r)}void 0!==m&&m.registerAddon(uK);var u9={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,r){console&&console[t]&&console[t].apply(console,r)}},u7=new(function(){function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u0(this,t),this.init(r,n)}return u2(t,[{key:"init",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=t||u9,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,r,n,i){return i&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(n).concat(this.prefix," ").concat(t[0])),this.logger[r](t))}},{key:"create",value:function(r){return new t(this.logger,uJ({},{prefix:"".concat(this.prefix,":").concat(r,":")},this.options))}}]),t}()),he=function(){function t(){u0(this,t),this.observers={}}return u2(t,[{key:"on",value:function(t,r){var n=this;return t.split(" ").forEach(function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(r)}),this}},{key:"off",value:function(t,r){this.observers[t]&&(r?this.observers[t]=this.observers[t].filter(function(t){return t!==r}):delete this.observers[t])}},{key:"emit",value:function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this.observers[t]&&[].concat(this.observers[t]).forEach(function(t){t.apply(void 0,n)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(r){r.apply(r,[t].concat(n))})}}]),t}();function ht(){var t,r,n=new Promise(function(n,i){t=n,r=i});return n.resolve=t,n.reject=r,n}function hr(t){return null==t?"":""+t}function hn(t,r,n){function i(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function s(){return!t||"string"==typeof t}for(var a="string"!=typeof r?[].concat(r):r.split(".");a.length>1;){if(s())return{};var o=i(a.shift());!t[o]&&n&&(t[o]=new n),t=Object.prototype.hasOwnProperty.call(t,o)?t[o]:{}}return s()?{}:{obj:t,k:i(a.shift())}}function hi(t,r,n){var i=hn(t,r,Object);i.obj[i.k]=n}function hs(t,r){var n=hn(t,r),i=n.obj,s=n.k;if(i)return i[s]}function ha(t,r,n){var i=hs(t,n);return void 0!==i?i:hs(r,n)}function ho(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var hl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function hu(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,function(t){return hl[t]}):t}var hh="u">typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,hc=function(t){function r(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return u0(this,r),n=u3(this,u4(r).call(this)),hh&&he.call(u5(n)),n.data=t||{},n.options=i,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n}return u8(r,t),u2(r,[{key:"addNamespaces",value:function(t){0>this.options.ns.indexOf(t)&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){var r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}},{key:"getResource",value:function(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,a=[t,r];return n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(s?n.split(s):n)),t.indexOf(".")>-1&&(a=t.split(".")),hs(this.data,a)}},{key:"addResource",value:function(t,r,n,i){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=this.options.keySeparator;void 0===a&&(a=".");var o=[t,r];n&&(o=o.concat(a?n.split(a):n)),t.indexOf(".")>-1&&(i=r,r=(o=t.split("."))[1]),this.addNamespaces(r),hi(this.data,o,i),s.silent||this.emit("added",t,r,n,i)}},{key:"addResources",value:function(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var s in n)"string"!=typeof n[s]&&"[object Array]"!==Object.prototype.toString.apply(n[s])||this.addResource(t,r,s,n[s],{silent:!0});i.silent||this.emit("added",t,r,n)}},{key:"addResourceBundle",value:function(t,r,n,i,s){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},o=[t,r];t.indexOf(".")>-1&&(i=n,n=r,r=(o=t.split("."))[1]),this.addNamespaces(r);var l=hs(this.data,o)||{};i?function t(r,n,i){for(var s in n)"__proto__"!==s&&"constructor"!==s&&(s in r?"string"==typeof r[s]||r[s]instanceof String||"string"==typeof n[s]||n[s]instanceof String?i&&(r[s]=n[s]):t(r[s],n[s],i):r[s]=n[s]);return r}(l,n,s):l=uJ({},l,n),hi(this.data,o,l),a.silent||this.emit("added",t,r,n)}},{key:"removeResourceBundle",value:function(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}},{key:"hasResourceBundle",value:function(t,r){return void 0!==this.getResource(t,r)}},{key:"getResourceBundle",value:function(t,r){return r||(r=this.options.defaultNS),"v1"===this.options.compatibilityAPI?uJ({},{},this.getResource(t,r)):this.getResource(t,r)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"toJSON",value:function(){return this.data}}]),r}(he),hd={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,r,n,i,s){var a=this;return t.forEach(function(t){a.processors[t]&&(r=a.processors[t].process(r,n,i,s))}),r}},hp={},hf=function(t){function r(t){var n,i,s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u0(this,r),n=u3(this,u4(r).call(this)),hh&&he.call(u5(n)),i=["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],s=u5(n),i.forEach(function(r){t[r]&&(s[r]=t[r])}),n.options=a,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=u7.create("translator"),n}return u8(r,t),u2(r,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(t,r);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(t,r){var n=void 0!==r.nsSeparator?r.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,s=r.ns||this.options.defaultNS;if(n&&t.indexOf(n)>-1){var a=t.match(this.interpolator.nestingRegexp);if(a&&a.length>0)return{key:t,namespaces:s};var o=t.split(n);(n!==i||n===i&&this.options.ns.indexOf(o[0])>-1)&&(s=o.shift()),t=o.join(i)}return"string"==typeof s&&(s=[s]),{key:t,namespaces:s}}},{key:"translate",value:function(t,n,i){var s=this;if("object"!==uZ(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n||(n={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);var a=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,o=this.extractFromKey(t[t.length-1],n),l=o.key,u=o.namespaces,h=u[u.length-1],c=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase())return d?h+(n.nsSeparator||this.options.nsSeparator)+l:l;var p=this.resolve(t,n),f=p&&p.res,m=p&&p.usedKey||l,g=p&&p.exactUsedKey||l,y=Object.prototype.toString.apply(f),v=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject;if(x&&f&&"string"!=typeof f&&"boolean"!=typeof f&&"number"!=typeof f&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(y)&&("string"!=typeof v||"[object Array]"!==y)){if(!n.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,f,n):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");if(a){var b="[object Array]"===y,w=b?[]:{},_=b?g:m;for(var C in f)if(Object.prototype.hasOwnProperty.call(f,C)){var S="".concat(_).concat(a).concat(C);w[C]=this.translate(S,uJ({},n,{joinArrays:!1,ns:u})),w[C]===S&&(w[C]=f[C])}f=w}}else if(x&&"string"==typeof v&&"[object Array]"===y)(f=f.join(v))&&(f=this.extendTranslation(f,t,n,i));else{var E=!1,D=!1,A=void 0!==n.count&&"string"!=typeof n.count,k=r.hasDefaultValue(n),T=A?this.pluralResolver.getSuffix(c,n.count):"",F=n["defaultValue".concat(T)]||n.defaultValue;!this.isValidLookup(f)&&k&&(E=!0,f=F),this.isValidLookup(f)||(D=!0,f=l);var M=k&&F!==f&&this.options.updateMissing;if(D||E||M){if(this.logger.log(M?"updateKey":"missingKey",c,h,l,M?F:f),a){var I=this.resolve(l,uJ({},n,{keySeparator:!1}));I&&I.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var B=[],P=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&P&&P[0])for(var L=0;L<P.length;L++)B.push(P[L]);else"all"===this.options.saveMissingTo?B=this.languageUtils.toResolveHierarchy(n.lng||this.language):B.push(n.lng||this.language);var N=function(t,r,i){s.options.missingKeyHandler?s.options.missingKeyHandler(t,h,r,M?i:f,M,n):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(t,h,r,M?i:f,M,n),s.emit("missingKey",t,h,r,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?B.forEach(function(t){s.pluralResolver.getSuffixes(t).forEach(function(r){N([t],l+r,n["defaultValue".concat(r)]||F)})}):N(B,l,F))}f=this.extendTranslation(f,t,n,p,i),D&&f===l&&this.options.appendNamespaceToMissingKey&&(f="".concat(h,":").concat(l)),D&&this.options.parseMissingKeyHandler&&(f=this.options.parseMissingKeyHandler(f))}return f}},{key:"extendTranslation",value:function(t,r,n,i,s){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,n,i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(uJ({},n,{interpolation:uJ({},this.options.interpolation,n.interpolation)}));var o,l=n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(l){var u=t.match(this.interpolator.nestingRegexp);o=u&&u.length}var h=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(h=uJ({},this.options.interpolation.defaultVariables,h)),t=this.interpolator.interpolate(t,h,n.lng||this.language,n),l){var c=t.match(this.interpolator.nestingRegexp);o<(c&&c.length)&&(n.nest=!1)}!1!==n.nest&&(t=this.interpolator.nest(t,function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];return s&&s[0]===i[0]&&!n.context?(a.logger.warn("It seems you are nesting recursively key: ".concat(i[0]," in key: ").concat(r[0])),null):a.translate.apply(a,i.concat([r]))},n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,p="string"==typeof d?[d]:d;return null!=t&&p&&p.length&&!1!==n.applyPostProcessor&&(t=hd.handle(p,t,r,this.options&&this.options.postProcessPassResolved?uJ({i18nResolved:i},n):n,this)),t}},{key:"resolve",value:function(t){var r,n,i,s,a,o=this,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t&&(t=[t]),t.forEach(function(t){if(!o.isValidLookup(r)){var u=o.extractFromKey(t,l),h=u.key;n=h;var c=u.namespaces;o.options.fallbackNS&&(c=c.concat(o.options.fallbackNS));var d=void 0!==l.count&&"string"!=typeof l.count,p=void 0!==l.context&&"string"==typeof l.context&&""!==l.context,f=l.lngs?l.lngs:o.languageUtils.toResolveHierarchy(l.lng||o.language,l.fallbackLng);c.forEach(function(t){o.isValidLookup(r)||(a=t,!hp["".concat(f[0],"-").concat(t)]&&o.utils&&o.utils.hasLoadedNamespace&&!o.utils.hasLoadedNamespace(a)&&(hp["".concat(f[0],"-").concat(t)]=!0,o.logger.warn('key "'.concat(n,'" for languages "').concat(f.join(", "),'" won\'t get resolved as namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach(function(n){if(!o.isValidLookup(r)){s=n;var a,u,c=h,f=[c];for(o.i18nFormat&&o.i18nFormat.addLookupKeys?o.i18nFormat.addLookupKeys(f,h,n,t,l):(d&&(a=o.pluralResolver.getSuffix(n,l.count)),d&&p&&f.push(c+a),p&&f.push(c+="".concat(o.options.contextSeparator).concat(l.context)),d&&f.push(c+=a));u=f.pop();)o.isValidLookup(r)||(i=u,r=o.getResource(n,t,u,l))}}))})}}),{res:r,usedKey:n,exactUsedKey:i,usedLng:s,usedNS:a}}},{key:"isValidLookup",value:function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}},{key:"getResource",value:function(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,r,n,i):this.resourceStore.getResource(t,r,n,i)}}],[{key:"hasDefaultValue",value:function(t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&"defaultValue"===r.substring(0,12)&&void 0!==t[r])return!0;return!1}}]),r}(he);function hm(t){return t.charAt(0).toUpperCase()+t.slice(1)}var hg=function(){function t(r){u0(this,t),this.options=r,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=u7.create("languageUtils")}return u2(t,[{key:"getScriptPartFromCode",value:function(t){if(!t||0>t.indexOf("-"))return null;var r=t.split("-");return 2===r.length?null:(r.pop(),"x"===r[r.length-1].toLowerCase()?null:this.formatLanguageCode(r.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||0>t.indexOf("-"))return t;var r=t.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(t){if("string"==typeof t&&t.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map(function(t){return t.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=hm(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=hm(n[1].toLowerCase())),r.indexOf(n[2].toLowerCase())>-1&&(n[2]=hm(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isWhitelisted",value:function(t){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(t)}},{key:"isSupportedCode",value:function(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}},{key:"getBestMatchFromCodes",value:function(t){var r,n=this;return t?(t.forEach(function(t){if(!r){var i=n.formatLanguageCode(t);n.options.supportedLngs&&!n.isSupportedCode(i)||(r=i)}}),!r&&this.options.supportedLngs&&t.forEach(function(t){if(!r){var i=n.getLanguagePartFromCode(t);if(n.isSupportedCode(i))return r=i;r=n.options.supportedLngs.find(function(t){if(0===t.indexOf(i))return t})}}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r):null}},{key:"getFallbackCodes",value:function(t,r){if(!t)return[];if("function"==typeof t&&(t=t(r)),"string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!r)return t.default||[];var n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}},{key:"toResolveHierarchy",value:function(t,r){var n=this,i=this.getFallbackCodes(r||this.options.fallbackLng||[],t),s=[],a=function(t){t&&(n.isSupportedCode(t)?s.push(t):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(t)))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(t))):"string"==typeof t&&a(this.formatLanguageCode(t)),i.forEach(function(t){0>s.indexOf(t)&&a(n.formatLanguageCode(t))}),s}}]),t}(),hy=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],hv={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(+(1!=t&&(t%10!=1||t%100==11)))},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0==t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0==t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:3*(t%100==3||t%100==4))},22:function(t){return Number(1==t?0:2==t?1:(t<0||t>10)&&t%10==0?2:3)}},hx=function(){function t(r){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u0(this,t),this.languageUtils=r,this.options=i,this.logger=u7.create("pluralResolver"),this.rules=(n={},hy.forEach(function(t){t.lngs.forEach(function(r){n[r]={numbers:t.nr,plurals:hv[t.fc]}})}),n)}return u2(t,[{key:"addRule",value:function(t,r){this.rules[t]=r}},{key:"getRule",value:function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var r=this.getRule(t);return r&&r.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,r){return this.getSuffixes(t).map(function(t){return r+t})}},{key:"getSuffixes",value:function(t){var r=this,n=this.getRule(t);return n?n.numbers.map(function(n){return r.getSuffix(t,n)}):[]}},{key:"getSuffix",value:function(t,r){var n=this,i=this.getRule(t);if(i){var s=i.noAbs?i.plurals(r):i.plurals(Math.abs(r)),a=i.numbers[s];this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]&&(2===a?a="plural":1===a&&(a=""));var o=function(){return n.options.prepend&&a.toString()?n.options.prepend+a.toString():a.toString()};return"v1"===this.options.compatibilityJSON?1===a?"":"number"==typeof a?"_plural_".concat(a.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]?o():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}return this.logger.warn("no plural rule found for: ".concat(t)),""}}]),t}(),hb=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u0(this,t),this.logger=u7.create("interpolator"),this.options=r,this.format=r.interpolation&&r.interpolation.format||function(t){return t},this.init(r)}return u2(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var r=t.interpolation;this.escape=void 0!==r.escape?r.escape:hu,this.escapeValue=void 0===r.escapeValue||r.escapeValue,this.useRawValueToEscape=void 0!==r.useRawValueToEscape&&r.useRawValueToEscape,this.prefix=r.prefix?ho(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?ho(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?ho(r.nestingPrefix):r.nestingPrefixEscaped||ho("$t("),this.nestingSuffix=r.nestingSuffix?ho(r.nestingSuffix):r.nestingSuffixEscaped||ho(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=void 0!==r.alwaysFormat&&r.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=RegExp(t,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=RegExp(r,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=RegExp(n,"g")}},{key:"interpolate",value:function(t,r,n,i){var s,a,o,l=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function h(t){return t.replace(/\$/g,"$$$$")}var c=function(t){if(0>t.indexOf(l.formatSeparator)){var s=ha(r,u,t);return l.alwaysFormat?l.format(s,void 0,n):s}var a=t.split(l.formatSeparator),o=a.shift().trim(),h=a.join(l.formatSeparator).trim();return l.format(ha(r,u,o),h,n,i)};this.resetRegExp();var d=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,p=i&&i.interpolation&&i.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(t){return h(t)}},{regex:this.regexp,safeValue:function(t){return l.escapeValue?h(l.escape(t)):h(t)}}].forEach(function(r){for(o=0;s=r.regex.exec(t);){if(void 0===(a=c(s[1].trim())))if("function"==typeof d){var n=d(t,s,i);a="string"==typeof n?n:""}else{if(p){a=s[0];continue}l.logger.warn("missed to pass in variable ".concat(s[1]," for interpolating ").concat(t)),a=""}else"string"==typeof a||l.useRawValueToEscape||(a=hr(a));if(t=t.replace(s[0],r.safeValue(a)),r.regex.lastIndex=0,++o>=l.maxReplaces)break}}),t}},{key:"nest",value:function(t,r){var n,i,s=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=uJ({},a);function l(t,r){var n=this.nestingOptionsSeparator;if(0>t.indexOf(n))return t;var i=t.split(new RegExp("".concat(n,"[ ]*{"))),s="{".concat(i[1]);t=i[0],s=(s=this.interpolate(s,o)).replace(/'/g,'"');try{o=JSON.parse(s),r&&(o=uJ({},r,o))}catch(r){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),r),"".concat(t).concat(n).concat(s)}return delete o.defaultValue,t}for(o.applyPostProcessor=!1,delete o.defaultValue;n=this.nestingRegexp.exec(t);){var u=[],h=!1;if(n[0].includes(this.formatSeparator)&&!/{.*}/.test(n[1])){var c=n[1].split(this.formatSeparator).map(function(t){return t.trim()});n[1]=c.shift(),u=c,h=!0}if((i=r(l.call(this,n[1].trim(),o),o))&&n[0]===t&&"string"!=typeof i)return i;"string"!=typeof i&&(i=hr(i)),i||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(t)),i=""),h&&(i=u.reduce(function(t,r){return s.format(t,r,a.lng,a)},i.trim())),t=t.replace(n[0],i),this.regexp.lastIndex=0}return t}}]),t}(),hw=function(t){function r(t,n,i){var s,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return u0(this,r),s=u3(this,u4(r).call(this)),hh&&he.call(u5(s)),s.backend=t,s.store=n,s.services=i,s.languageUtils=i.languageUtils,s.options=a,s.logger=u7.create("backendConnector"),s.state={},s.queue=[],s.backend&&s.backend.init&&s.backend.init(i,a.backend,a),s}return u8(r,t),u2(r,[{key:"queueLoad",value:function(t,r,n,i){var s=this,a=[],o=[],l=[],u=[];return t.forEach(function(t){var i=!0;r.forEach(function(r){var l="".concat(t,"|").concat(r);!n.reload&&s.store.hasResourceBundle(t,r)?s.state[l]=2:s.state[l]<0||(1===s.state[l]?0>o.indexOf(l)&&o.push(l):(s.state[l]=1,i=!1,0>o.indexOf(l)&&o.push(l),0>a.indexOf(l)&&a.push(l),0>u.indexOf(r)&&u.push(r)))}),i||l.push(t)}),(a.length||o.length)&&this.queue.push({pending:o,loaded:{},errors:[],callback:i}),{toLoad:a,pending:o,toLoadLanguages:l,toLoadNamespaces:u}}},{key:"loaded",value:function(t,r,n){var i=t.split("|"),s=i[0],a=i[1];r&&this.emit("failedLoading",s,a,r),n&&this.store.addResourceBundle(s,a,n),this.state[t]=r?-1:2;var o={};this.queue.forEach(function(n){var i,l,u,h;i=n.loaded,(u=(l=hn(i,[s],Object)).obj)[h=l.k]=u[h]||[],u[h].push(a),function(t,r){for(var n=t.indexOf(r);-1!==n;)t.splice(n,1),n=t.indexOf(r)}(n.pending,t),r&&n.errors.push(r),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach(function(t){o[t]||(o[t]=[]),n.loaded[t].length&&n.loaded[t].forEach(function(r){0>o[t].indexOf(r)&&o[t].push(r)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(function(t){return!t.done})}},{key:"read",value:function(t,r,n){var i=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,o=arguments.length>5?arguments[5]:void 0;return t.length?this.backend[n](t,r,function(l,u){l&&u&&s<5?setTimeout(function(){i.read.call(i,t,r,n,s+1,2*a,o)},a):o(l,u)}):o(null,{})}},{key:"prepareLoading",value:function(t,r){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof r&&(r=[r]);var a=this.queueLoad(t,r,i,s);if(!a.toLoad.length)return a.pending.length||s(),null;a.toLoad.forEach(function(t){n.loadOne(t)})}},{key:"load",value:function(t,r,n){this.prepareLoading(t,r,{},n)}},{key:"reload",value:function(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}},{key:"loadOne",value:function(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=t.split("|"),s=i[0],a=i[1];this.read(s,a,"read",void 0,void 0,function(i,o){i&&r.logger.warn("".concat(n,"loading namespace ").concat(a," for language ").concat(s," failed"),i),!i&&o&&r.logger.log("".concat(n,"loaded namespace ").concat(a," for language ").concat(s),o),r.loaded(t,i,o)})}},{key:"saveMissing",value:function(t,r,n,i,s){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(r,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(t,r,n,i,null,uJ({},a,{isUpdate:s})),t&&t[0]&&this.store.addResource(t[0],r,n,i))}}]),r}(he);function h_(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&(t.whitelist&&0>t.whitelist.indexOf("cimode")&&(t.whitelist=t.whitelist.concat(["cimode"])),t.supportedLngs=t.whitelist),t.nonExplicitWhitelist&&(t.nonExplicitSupportedLngs=t.nonExplicitWhitelist),t.supportedLngs&&0>t.supportedLngs.indexOf("cimode")&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function hC(){}var hS,hE=(new(function(t){function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(u0(this,r),t=u3(this,u4(r).call(this)),hh&&he.call(u5(t)),t.options=h_(n),t.services={},t.logger=u7,t.modules={external:[]},i&&!t.isInitialized&&!n.isClone){if(!t.options.initImmediate)return t.init(n,i),u3(t,u5(t));setTimeout(function(){t.init(n,i)},0)}return t}return u8(r,t),u2(r,[{key:"init",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function i(t){return t?"function"==typeof t?new t:t:null}if("function"==typeof r&&(n=r,r={}),r.whitelist&&!r.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),r.nonExplicitWhitelist&&!r.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=uJ({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var r={};if("object"===uZ(t[1])&&(r=t[1]),"string"==typeof t[1]&&(r.defaultValue=t[1]),"string"==typeof t[2]&&(r.tDescription=t[2]),"object"===uZ(t[2])||"object"===uZ(t[3])){var n=t[3]||t[2];Object.keys(n).forEach(function(t){r[t]=n[t]})}return r},interpolation:{escapeValue:!0,format:function(t,r,n,i){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}},this.options,h_(r)),this.format=this.options.interpolation.format,n||(n=hC),!this.options.isClone){this.modules.logger?u7.init(i(this.modules.logger),this.options):u7.init(null,this.options);var s=new hg(this.options);this.store=new hc(this.options.resources,this.options);var a=this.services;a.logger=u7,a.resourceStore=this.store,a.languageUtils=s,a.pluralResolver=new hx(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),a.interpolator=new hb(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new hw(i(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",function(r){for(var n=arguments.length,i=Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];t.emit.apply(t,[r].concat(i))}),this.modules.languageDetector&&(a.languageDetector=i(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=i(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new hf(this.services,this.options),this.translator.on("*",function(r){for(var n=arguments.length,i=Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];t.emit.apply(t,[r].concat(i))}),this.modules.external.forEach(function(r){r.init&&r.init(t)})}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var o=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);o.length>0&&"dev"!==o[0]&&(this.options.lng=o[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(function(r){t[r]=function(){var n;return(n=t.store)[r].apply(n,arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(function(r){t[r]=function(){var n;return(n=t.store)[r].apply(n,arguments),t}});var l=ht(),u=function(){var r=function(r,i){t.isInitialized&&t.logger.warn("init: i18next is already initialized. You should call init just once!"),t.isInitialized=!0,t.options.isClone||t.logger.log("initialized",t.options),t.emit("initialized",t.options),l.resolve(i),n(r,i)};if(t.languages&&"v1"!==t.options.compatibilityAPI&&!t.isInitialized)return r(null,t.t.bind(t));t.changeLanguage(t.options.lng,r)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}},{key:"loadResources",value:function(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hC,i="string"==typeof t?t:this.language;if("function"==typeof t&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return n();var s=[],a=function(t){t&&r.services.languageUtils.toResolveHierarchy(t).forEach(function(t){0>s.indexOf(t)&&s.push(t)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(t){return a(t)}),this.options.preload&&this.options.preload.forEach(function(t){return a(t)}),this.services.backendConnector.load(s,this.options.ns,n)}else n(null)}},{key:"reloadResources",value:function(t,r,n){var i=ht();return t||(t=this.languages),r||(r=this.options.ns),n||(n=hC),this.services.backendConnector.reload(t,r,function(t){i.resolve(),n(t)}),i}},{key:"use",value:function(t){if(!t)throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&hd.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"changeLanguage",value:function(t,r){var n=this;this.isLanguageChangingTo=t;var i=ht();this.emit("languageChanging",t);var s=function(t){var s="string"==typeof t?t:n.services.languageUtils.getBestMatchFromCodes(t);s&&(n.language||(n.language=s,n.languages=n.services.languageUtils.toResolveHierarchy(s)),n.translator.language||n.translator.changeLanguage(s),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(s)),n.loadResources(s,function(t){s?(n.language=s,n.languages=n.services.languageUtils.toResolveHierarchy(s),n.translator.changeLanguage(s),n.isLanguageChangingTo=void 0,n.emit("languageChanged",s),n.logger.log("languageChanged",s)):n.isLanguageChangingTo=void 0,i.resolve(function(){return n.t.apply(n,arguments)}),r&&r(t,function(){return n.t.apply(n,arguments)})})};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(s):s(t):s(this.services.languageDetector.detect()),i}},{key:"getFixedT",value:function(t,r){var n=this,i=function t(r,i){var s;if("object"!==uZ(i)){for(var a=arguments.length,o=Array(a>2?a-2:0),l=2;l<a;l++)o[l-2]=arguments[l];s=n.options.overloadTranslationOptionHandler([r,i].concat(o))}else s=uJ({},i);return s.lng=s.lng||t.lng,s.lngs=s.lngs||t.lngs,s.ns=s.ns||t.ns,n.t(r,s)};return"string"==typeof t?i.lng=t:i.lngs=t,i.ns=r,i}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var i=this.languages[0],s=!!this.options&&this.options.fallbackLng,a=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;var o=function(t,n){var i=r.services.backendConnector.state["".concat(t,"|").concat(n)];return -1===i||2===i};if(n.precheck){var l=n.precheck(this,o);if(void 0!==l)return l}return!!this.hasResourceBundle(i,t)||!this.services.backendConnector.backend||!(!o(i,t)||s&&!o(a,t))}},{key:"loadNamespaces",value:function(t,r){var n=this,i=ht();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach(function(t){0>n.options.ns.indexOf(t)&&n.options.ns.push(t)}),this.loadResources(function(t){i.resolve(),r&&r(t)}),i):(r&&r(),Promise.resolve())}},{key:"loadLanguages",value:function(t,r){var n=ht();"string"==typeof t&&(t=[t]);var i=this.options.preload||[],s=t.filter(function(t){return 0>i.indexOf(t)});return s.length?(this.options.preload=i.concat(s),this.loadResources(function(t){n.resolve(),r&&r(t)}),n):(r&&r(),Promise.resolve())}},{key:"dir",value:function(t){return(t||(t=this.languages&&this.languages.length>0?this.languages[0]:this.language),t)?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr":"rtl"}},{key:"createInstance",value:function(){return new r(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}},{key:"cloneInstance",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hC,s=uJ({},this.options,n,{isClone:!0}),a=new r(s);return["store","services","language"].forEach(function(r){a[r]=t[r]}),a.services=uJ({},this.services),a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a.translator=new hf(a.services,a.options),a.translator.on("*",function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];a.emit.apply(a,[t].concat(n))}),a.init(s,i),a.translator.options=a.options,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}}]),r}(he)),[]),hD=hE.forEach,hA=hE.slice,hk=function(t,r,n,i){var s,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/"};if(n){var o=new Date;o.setTime(o.getTime()+60*n*1e3),s="; expires="+o.toUTCString()}else s="";i=i?"domain="+i+";":"",a=Object.keys(a).reduce(function(t,r){return t+";"+r.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})+"="+a[r]},""),document.cookie=t+"="+encodeURIComponent(r)+s+";"+i+a},hT=function(t){for(var r=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var s=n[i];" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(r))return s.substring(r.length,s.length)}return null},hF={name:"cookie",lookup:function(t){var r;if(t.lookupCookie&&"u">typeof document){var n=hT(t.lookupCookie);n&&(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupCookie&&"u">typeof document&&hk(r.lookupCookie,t,r.cookieMinutes,r.cookieDomain,r.cookieOptions)}},hM={name:"querystring",lookup:function(t){var r;if("u">typeof window)for(var n=window.location.search.substring(1).split("&"),i=0;i<n.length;i++){var s=n[i].indexOf("=");s>0&&n[i].substring(0,s)===t.lookupQuerystring&&(r=n[i].substring(s+1))}return r}};try{hS="undefined"!==window&&null!==window.localStorage;var hI="i18next.translate.boo";window.localStorage.setItem(hI,"foo"),window.localStorage.removeItem(hI)}catch(t){hS=!1}var hB,hP={name:"localStorage",lookup:function(t){var r;if(t.lookupLocalStorage&&hS){var n=window.localStorage.getItem(t.lookupLocalStorage);n&&(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupLocalStorage&&hS&&window.localStorage.setItem(r.lookupLocalStorage,t)}};try{hB="undefined"!==window&&null!==window.sessionStorage;var hL="i18next.translate.boo";window.sessionStorage.setItem(hL,"foo"),window.sessionStorage.removeItem(hL)}catch(t){hB=!1}var hN={name:"sessionStorage",lookup:function(t){var r;if(t.lookupsessionStorage&&hB){var n=window.sessionStorage.getItem(t.lookupsessionStorage);n&&(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupsessionStorage&&hB&&window.sessionStorage.setItem(r.lookupsessionStorage,t)}},hO={name:"navigator",lookup:function(t){var r=[];if("u">typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)r.push(navigator.languages[n]);navigator.userLanguage&&r.push(navigator.userLanguage),navigator.language&&r.push(navigator.language)}return r.length>0?r:void 0}},hR={name:"htmlTag",lookup:function(t){var r,n=t.htmlTag||("u">typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(r=n.getAttribute("lang")),r}},hV={name:"path",lookup:function(t){var r;if("u">typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof t.lookupFromPathIndex){if("string"!=typeof n[t.lookupFromPathIndex])return;r=n[t.lookupFromPathIndex].replace("/","")}else r=n[0].replace("/","")}return r}},hz={name:"subdomain",lookup:function(t){var r;if("u">typeof window){var n=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);n instanceof Array&&(r="number"==typeof t.lookupFromSubdomainIndex?n[t.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):n[0].replace("http://","").replace("https://","").replace(".",""))}return r}};(function(){function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u0(this,t),this.type="languageDetector",this.detectors={},this.init(r,n)}return u2(t,[{key:"init",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=t,this.options=function(t){return hD.call(hA.call(arguments,1),function(r){if(r)for(var n in r)void 0===t[n]&&(t[n]=r[n])}),t}(r,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],checkWhitelist:!0,checkForSimilarInWhitelist:!1}),this.options.checkForSimilarInWhitelist&&(this.options.checkWhitelist=!0),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(hF),this.addDetector(hM),this.addDetector(hP),this.addDetector(hN),this.addDetector(hO),this.addDetector(hR),this.addDetector(hV),this.addDetector(hz)}},{key:"addDetector",value:function(t){this.detectors[t.name]=t}},{key:"detect",value:function(t){var r=this;t||(t=this.options.order);var n,i=[];if(t.forEach(function(t){if(r.detectors[t]){var n=r.detectors[t].lookup(r.options);n&&"string"==typeof n&&(n=[n]),n&&(i=i.concat(n))}}),i.forEach(function(t){if(!n){var i=r.services.languageUtils.formatLanguageCode(t);r.options.checkWhitelist&&!r.services.languageUtils.isWhitelisted(i)||(n=i),!n&&r.options.checkForSimilarInWhitelist&&(n=r.getSimilarInWhitelist(i))}}),!n){var s=this.i18nOptions.fallbackLng;"string"==typeof s&&(s=[s]),s||(s=[]),n="[object Array]"===Object.prototype.toString.apply(s)?s[0]:s[0]||s.default&&s.default[0]}return n}},{key:"cacheUserLanguage",value:function(t,r){var n=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||r.forEach(function(r){n.detectors[r]&&n.detectors[r].cacheUserLanguage(t,n.options)}))}},{key:"getSimilarInWhitelist",value:function(t){var r=this;if(this.i18nOptions.whitelist){if(t.includes("-")){var n=t.split("-")[0],i=this.services.languageUtils.formatLanguageCode(n);if(this.services.languageUtils.isWhitelisted(i))return i;t=i}return this.i18nOptions.whitelist.find(function(n){var i=r.services.languageUtils.formatLanguageCode(n);if(i.startsWith(t))return i})||void 0}}}]),t})().type="languageDetector";let hU=Promise.resolve();return s0.registerAddon(nN),s0.registerAddon(nO),s0.registerAddon(nR),s0.registerAddon(nV),s0.registerAddon(nS),s0.registerAddon(s1),s0.registerAddon(s2),s0.registerAddon(s5),s0.registerAddon(s3),s0.registerAddon(s6),s0.registerAddon(rW),s0.registerAddon(rL),s0.registerAddon(nz),s0._friendlyError=()=>{},s0._checkForUserDefinedFunctions=()=>{},s0._fesErrorMonitor=()=>{},s0.registerAddon(s8),s0.registerAddon(s9),s0.registerAddon(rQ),s0.registerAddon(nI),s0.registerAddon(rK),s0.registerAddon(s7),s0.registerAddon(ae),s0.registerAddon(at),s0.registerAddon(nj),s0.registerAddon(n3),s0.registerAddon(r8),s0.registerAddon(n4),s0.registerAddon(iL),s0.registerAddon(iU),s0.registerAddon(nY),s0.registerAddon(an),s0.registerAddon(as),s0.registerAddon(rY),s0.registerAddon(aa),s0.registerAddon(ao),s0.registerAddon(al),s0.registerAddon(iO),s0.registerAddon(au),s0.registerAddon(nt),s0.registerAddon(ah),s0.registerAddon(ac),s0.registerAddon(ad),s0.registerAddon(iM),s0.registerAddon(oA),s0.registerAddon(iI),s0.registerAddon(ap),s0.registerAddon(iB),s0.registerAddon(am),s0.registerAddon(iN),s0.registerAddon(function(t,r){iF.prototype.maxCachedGlyphs=function(){return 200},ox.prototype._getFontInfo=function(t){this._fontInfos=this._fontInfos||{};let r=JSON.stringify(t);if(this._fontInfos[r])return this._fontInfos[r];{let n=new a(this,{axs:t});return this._fontInfos[r]=n,n}};class n{constructor(t,r){this.width=t,this.height=r,this.infos=[]}findImage(t){let r,n,i=this.width*this.height;if(t>i)throw Error("font is too complex to render in 3D");for(let s=this.infos.length-1;s>=0;--s){let a=this.infos[s];if(a.index+t<i){r=a,n=a.imageData;break}}if(!r){try{n=new ImageData(this.width,this.height)}catch(s){let t=document.getElementsByTagName("canvas")[0],r=!t;t||((t=document.createElement("canvas")).style.display="none",document.body.appendChild(t));let i=t.getContext("2d");i&&(n=i.createImageData(this.width,this.height)),r&&document.body.removeChild(t)}r={index:0,imageData:n},this.infos.push(r)}let s=r.index;return r.index+=t,n._dirty=!0,{imageData:n,index:s}}}function i(t,r,n,i,s){let a=t.imageData.data,o=4*t.index++;a[o++]=r,a[o++]=n,a[o++]=i,a[o++]=s}let s=Math.sqrt(3);class a{constructor(t,{axs:r}={}){this.font=t,this.axs=r,this.strokeImageInfos=new n(64,64),this.colDimImageInfos=new n(64,64),this.rowDimImageInfos=new n(64,64),this.colCellImageInfos=new n(64,64),this.rowCellImageInfos=new n(64,64),this.glyphInfos={}}getGlyphInfo(t){let r,n,a,o,l,u=this.glyphInfos[t.index];if(u)return u;let h=this.axs,{glyph:{path:{commands:c}}}=this.font._singleShapeToPath(t.shape,{axs:h}),d=1/0,p=-1/0,f=1/0,m=-1/0;for(let t of c)for(let r=1;r<t.length;r+=2)d=Math.min(d,t[r]),p=Math.max(p,t[r]),f=Math.min(f,t[r+1]),m=Math.max(m,t[r+1]);if(d>=p||f>=m||!c.length)return this.glyphInfos[t.index]={};let g=p-d,y=m-f,v=o_(c),x=[],b=[],w=[];for(r=8;r>=0;--r)w.push([]);for(r=8;r>=0;--r)b.push([]);function _(t,r,n){let i=x.length;function s(t,r,n){for(let i=t.length;i-- >0;){let s=t[i];r>s&&(r=s),n<s&&(n=s)}return{min:r,max:n}}x.push(n);let a=s(t,1,0),o=Math.max(Math.floor(9*a.min-.5),0),l=Math.min(Math.ceil(9*a.max+.5),9);for(let t=o;t<l;++t)w[t].push(i);let u=s(r,1,0),h=Math.max(Math.floor(9*u.min-.5),0),c=Math.min(Math.ceil(9*u.max+.5),9);for(let t=h;t<c;++t)b[t].push(i)}function C(t){var r;return(r=255*t)<0?0:r>255?255:r}class S{constructor(t,r,n,i){this.p0=t,this.c0=r,this.c1=n,this.p1=i}toQuadratic(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}quadError(){return ne.sub(ne.sub(this.p1,this.p0),ne.mult(ne.sub(this.c1,this.c0),3)).mag()/2}split(t){let r=ne.lerp(this.p0,this.c0,t),n=ne.lerp(this.c0,this.c1,t),i=ne.lerp(r,n,t);this.c1=ne.lerp(this.c1,this.p1,t),this.c0=ne.lerp(n,this.c1,t);let s=ne.lerp(i,this.c0,t),a=new S(this.p0,r,i,s);return this.p0=s,a}splitInflections(){let t=ne.sub(this.c0,this.p0),r=ne.sub(ne.sub(this.c1,this.c0),t),n=ne.sub(ne.sub(ne.sub(this.p1,this.c1),t),ne.mult(r,2)),i=[],s=r.x*n.y-r.y*n.x;if(0!==s){let a=t.x*n.y-t.y*n.x,o=t.x*r.y-t.y*r.x,l=a*a-4*s*o;if(l>=0){s<0&&(s=-s,a=-a,o=-o);let t=Math.sqrt(l),r=(-a-t)/(2*s),n=(-a+t)/(2*s);r>0&&r<1&&(i.push(this.split(r)),n=1-(1-n)/(1-r)),n>0&&n<1&&i.push(this.split(n))}}return i.push(this),i}}function E(t,r,n,i){_([t,n],[r,i],{x:t,y:r,cx:(t+n)/2,cy:(r+i)/2})}function D(t,r,n,i){return 1e-5>Math.abs(n-t)&&1e-5>Math.abs(i-r)}for(let t of v){let r=(t.x-d)/g,i=(t.y-f)/y;if(!D(n,a,r,i)){switch(t.type){case"M":o=r,l=i;break;case"L":E(n,a,r,i);break;case"Q":{let s=(t.x1-d)/g,o=(t.y1-f)/y;_([n,r,s],[a,i,o],{x:n,y:a,cx:s,cy:o});break}case"Z":D(n,a,o,l)?x.push({x:n,y:a}):(E(n,a,o,l),x.push({x:o,y:l}));break;case"C":{let o=function(t,r,n,i,a,o,l,u){let h=new S(new ne(t,r),new ne(n,i),new ne(a,o),new ne(l,u)).splitInflections(),c=[],d=30/s;for(let t of h){let r,n=[];for(;!((r=d/t.quadError())>=.125);){let i=Math.pow(r,1/3),s=t.split(i),a=t.split(1-i/(1-i));c.push(s),n.push(t),t=a}r<1&&c.push(t.split(.5)),c.push(t),Array.prototype.push.apply(c,n.reverse())}return c}(n,a,(t.x1-d)/g,(t.y1-f)/y,(t.x2-d)/g,(t.y2-f)/y,r,i);for(let t=0;t<o.length;t++){let r=o[t].toQuadratic();_([r.x,r.x1,r.cx],[r.y,r.y1,r.cy],r)}break}default:throw Error(`unknown command type: ${t.type}`)}n=r,a=i}}let A=x.length,k=this.strokeImageInfos.findImage(A),T=k.index;for(let t=0;t<A;++t){let r=x[t];i(k,C(r.x),C(r.y),C(r.cx),C(r.cy))}function F(t,r,n){let s=t.length,a=r.findImage(s),o=a.index,l=0;for(let r=0;r<s;++r)l+=t[r].length;let u=n.findImage(l);for(let r=0;r<s;++r){let n=t[r],s=n.length,o=u.index;i(a,o>>7,127&o,s>>7,127&s);for(let t=0;t<s;++t){let r=n[t]+T;i(u,r>>7,127&r,0,0)}}return{cellImageInfo:u,dimOffset:o,dimImageInfo:a}}return(u=this.glyphInfos[t.index]={glyph:t,uGlyphRect:[d,f,p,m],strokeImageInfo:k,strokes:x,colInfo:F(w,this.colDimImageInfos,this.colCellImageInfos),rowInfo:F(b,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[u.colInfo.dimOffset,u.rowInfo.dimOffset],u}}iF.prototype._renderText=function(r,n,i,s,a){if(!this.states.textFont||"string"==typeof this.states.textFont)return void console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.");if(i>=s||!this.states.fillColor)return;if(!t.Font.hasGlyphData(this.states.textFont))return void console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts with glyph data are supported");this.push();let o=this.states.strokeColor,l=this.states.drawMode;this.states.setValue("strokeColor",null),this.states.setValue("drawMode",eg);let{font:u}=this.states.textFont;if(!u)throw Error("In WebGL mode, textFont() needs to be given the result of loadFont() instead of a font family name.");let h=u._currentAxes(this),c=u._getFontInfo(h),d=this.states.textSize/(u.data?.head?.unitsPerEm||1e3);this.translate(n,i,0),this.scale(d,d,1);let p=!this._defaultFontShader,f=this._getFontShader();f.init(),f.bindShader("text"),p&&(f.setUniform("uGridImageSize",[64,64]),f.setUniform("uCellsImageSize",[64,64]),f.setUniform("uStrokeImageSize",[64,64]),f.setUniform("uGridSize",[9,9]));let m=this.states.fillSet?this.states.curFillColor:[0,0,0,1];this._setGlobalUniforms(f),this._applyColorBlend(m);let g=this.geometryBufferCache.getGeometryByID("glyph");for(let t of(g||((g=this._textGeom=new is(1,1,function(){for(let t=0;t<=1;t++)for(let r=0;r<=1;r++)this.vertices.push(new ne(r,t,0)),this.uvs.push(r,t)},this)).gid="glyph",g.computeFaces().computeNormals(),this.geometryBufferCache.ensureCached(g)),this.buffers.text))t._prepareBuffer(g,f);f.setUniform("uMaterialColor",m),this._disableRemainingAttributes(f),this._beforeDrawText(),this.glyphDataCache=this.glyphDataCache||new Set;try{for(let t of u._positionGlyphs(r)){let r=c.getGlyphInfo(t);if(r.uGlyphRect){let n=r.rowInfo,i=r.colInfo;for(let t of[r.strokeImageInfo.imageData,n.cellImageInfo.imageData,n.dimImageInfo.imageData,i.cellImageInfo.imageData,i.dimImageInfo.imageData])this.glyphDataCache.delete(t),this.glyphDataCache.add(t);for(;this.glyphDataCache.size>this.maxCachedGlyphs();){let t=this.glyphDataCache.values().next().value;this.glyphDataCache.delete(t);let r=this.textures.get(t);r&&(r.remove(),this.textures.delete(t))}f.setUniform("uSamplerStrokes",r.strokeImageInfo.imageData),f.setUniform("uSamplerRowStrokes",n.cellImageInfo.imageData),f.setUniform("uSamplerRows",n.dimImageInfo.imageData),f.setUniform("uSamplerColStrokes",i.cellImageInfo.imageData),f.setUniform("uSamplerCols",i.dimImageInfo.imageData),f.setUniform("uGridOffset",r.uGridOffset),f.setUniform("uGlyphRect",r.uGlyphRect),f.setUniform("uGlyphOffset",t.x),f.bindTextures(),this._drawBuffers(g,{mode:4,count:1})}}}finally{f.unbindShader(),this.states.setValue("strokeColor",o),this.states.setValue("drawMode",l),this._afterDrawText(),this.pop()}}}),s0.registerAddon(ig),s0.registerAddon(iu),s0.registerAddon(it),s0.registerAddon(ia),s0.registerAddon(ic),s0.registerAddon(i1),s0.registerAddon(ii),s0.registerAddon(iU),s0.registerAddon(iE),s0.registerAddon(ow),s0.registerAddon(iL),s0.registerAddon(uK),Promise.all([new Promise((t,r)=>{"complete"===document.readyState?t():window.addEventListener("load",t,!1)}),hU]).then(()=>{if(void 0===window._setupDone){if(!window.mocha){let t=new Event("p5Ready");window.dispatchEvent(t),(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!s0.instance&&new s0}}else console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import")}),s0}();let g=({isRolling:t,winner:r})=>{let n=(0,d.useRef)(null),i=(0,d.useRef)(null);return(0,d.useEffect)(()=>n.current?(i.current&&i.current.remove(),i.current=new(s(f))(t=>{let r=[],i=0,a=[];class o{constructor(){this.pos=t.createVector(t.random(t.width),t.random(t.height)),this.vel=t.createVector(t.random(-.5,.5),t.random(-.5,.5)),this.size=t.random(2,5),this.color=t.color(t.random(100,255),t.random(100,255),255,50)}update(r){this.pos.add(s(f).Vector.mult(this.vel,r)),this.pos.x<0&&(this.pos.x=t.width),this.pos.x>t.width&&(this.pos.x=0),this.pos.y<0&&(this.pos.y=t.height),this.pos.y>t.height&&(this.pos.y=0)}display(){t.noStroke(),t.fill(this.color),t.circle(this.pos.x,this.pos.y,this.size)}}class l{constructor(){this.pos=t.createVector(t.width/2,t.height/2),this.vel=s(f).Vector.random2D().mult(t.random(5,15)),this.color=t.color(t.random(100,255),t.random(50,255),t.random(200,255)),this.size=t.random(5,10)}update(){this.vel.y+=.2,this.vel.mult(.98),this.pos.add(this.vel)}display(){t.fill(this.color),t.square(this.pos.x,this.pos.y,this.size)}}t.setup=()=>{t.createCanvas(t.windowWidth,t.windowHeight).parent(n.current);for(let t=0;t<100;t++)r.push(new o)},t.draw=()=>{t.background(15,23,42),t.stroke(30,41,59),t.strokeWeight(1)},t.windowResized=()=>{t.resizeCanvas(t.windowWidth,t.windowHeight)},t.updateState=(t,r)=>{if(t?i+=5:i+=.5,r&&0===a.length)for(let t=0;t<200;t++)a.push(new l)},t.draw=()=>{t.background(15,23,42);let n=t.rolling?5:.5;i+=n,t.stroke(56,189,248,50),t.strokeWeight(1),t.noFill();for(let r=0;r<t.height;r+=40){t.beginShape();for(let n=0;n<=t.width;n+=20){let s=r+20*t.sin((n+i)*.01);t.vertex(n,s)}t.endShape()}r.forEach(r=>{r.update(t.rolling?2:.5),r.display()}),a.forEach((t,r)=>{t.update(),t.display()}),a=a.filter(r=>r.pos.y<t.height)},t.triggerBurst=()=>{for(let t=0;t<300;t++)a.push(new l)}}),()=>{i.current?.remove()}):void 0,[]),(0,d.useEffect)(()=>{if(i.current){let n=i.current;n.rolling=t,r&&n.triggerBurst&&n.triggerBurst(),n.winner=r}},[t,r]),(0,c.jsx)("div",{ref:n,className:"fixed top-0 left-0 w-full h-full -z-10 pointer-events-none"})};var d=(u("fYo6y"),u("fYo6y"),u("fYo6y"),u("fYo6y"));function y(t,r){if("function"==typeof t)return t(r);null!=t&&(t.current=r)}var v=Symbol.for("react.lazy"),x=d[" use ".trim().toString()];function b(t){var r;return null!=t&&"object"==typeof t&&"$$typeof"in t&&t.$$typeof===v&&"_payload"in t&&"object"==typeof(r=t._payload)&&null!==r&&"then"in r}var w=((n=d.forwardRef((t,r)=>{let{children:n,...i}=t;if(b(n)&&"function"==typeof x&&(n=x(n._payload)),d.isValidElement(n)){var s;let t,a,o=(s=n,(a=(t=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?s.ref:(a=(t=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?s.props.ref:s.props.ref||s.ref),l=function(t,r){let n={...r};for(let i in r){let s=t[i],a=r[i];/^on[A-Z]/.test(i)?s&&a?n[i]=(...t)=>{let r=a(...t);return s(...t),r}:s&&(n[i]=s):"style"===i?n[i]={...s,...a}:"className"===i&&(n[i]=[s,a].filter(Boolean).join(" "))}return{...t,...n}}(i,n.props);return n.type!==d.Fragment&&(l.ref=r?function(...t){return r=>{let n=!1,i=t.map(t=>{let i=y(t,r);return n||"function"!=typeof i||(n=!0),i});if(n)return()=>{for(let r=0;r<i.length;r++){let n=i[r];"function"==typeof n?n():y(t[r],null)}}}}(r,o):o),d.cloneElement(n,l)}return d.Children.count(n)>1?d.Children.only(null):null})).displayName="Slot.SlotClone",t=n,(r=d.forwardRef((r,n)=>{let{children:i,...s}=r;b(i)&&"function"==typeof x&&(i=x(i._payload));let a=d.Children.toArray(i),o=a.find(C);if(o){let r=o.props.children,i=a.map(t=>t!==o?t:d.Children.count(r)>1?d.Children.only(null):d.isValidElement(r)?r.props.children:null);return(0,c.jsx)(t,{...s,ref:n,children:d.isValidElement(r)?d.cloneElement(r,void 0,i):null})}return(0,c.jsx)(t,{...s,ref:n,children:i})})).displayName="Slot.Slot",r),_=Symbol("radix.slottable");function C(t){return d.isValidElement(t)&&"function"==typeof t.type&&"__radixId"in t.type&&t.type.__radixId===_}function S(){for(var t,r,n=0,i="",s=arguments.length;n<s;n++)(t=arguments[n])&&(r=function t(r){var n,i,s="";if("string"==typeof r||"number"==typeof r)s+=r;else if("object"==typeof r)if(Array.isArray(r)){var a=r.length;for(n=0;n<a;n++)r[n]&&(i=t(r[n]))&&(s&&(s+=" "),s+=i)}else for(i in r)r[i]&&(s&&(s+=" "),s+=i);return s}(t))&&(i&&(i+=" "),i+=r);return i}let E=t=>"boolean"==typeof t?`${t}`:0===t?"0":t,D=(t,r)=>n=>{var i;if((null==r?void 0:r.variants)==null)return S(t,null==n?void 0:n.class,null==n?void 0:n.className);let{variants:s,defaultVariants:a}=r,o=Object.keys(s).map(t=>{let r=null==n?void 0:n[t],i=null==a?void 0:a[t];if(null===r)return null;let o=E(r)||E(i);return s[t][o]}),l=n&&Object.entries(n).reduce((t,r)=>{let[n,i]=r;return void 0===i||(t[n]=i),t},{});return S(t,o,null==r||null==(i=r.compoundVariants)?void 0:i.reduce((t,r)=>{let{class:n,className:i,...s}=r;return Object.entries(s).every(t=>{let[r,n]=t;return Array.isArray(n)?n.includes({...a,...l}[r]):({...a,...l})[r]===n})?[...t,n,i]:t},[]),null==n?void 0:n.class,null==n?void 0:n.className)};var A={};Object.defineProperty(A,Symbol.toStringTag,{value:"Module"});let k=(t=new Map,r=null,n)=>({nextPart:t,validators:r,classGroupId:n}),T=[],F=(t,r,n)=>{if(0==t.length-r)return n.classGroupId;let i=t[r],s=n.nextPart.get(i);if(s){let n=F(t,r+1,s);if(n)return n}let a=n.validators;if(null===a)return;let o=0===r?t.join("-"):t.slice(r).join("-"),l=a.length;for(let t=0;t<l;t++){let r=a[t];if(r.validator(o))return r.classGroupId}},M=(t,r)=>{let n=k();for(let i in t)I(t[i],n,i,r);return n},I=(t,r,n,i)=>{let s=t.length;for(let a=0;a<s;a++)B(t[a],r,n,i)},B=(t,r,n,i)=>{"string"==typeof t?P(t,r,n):"function"==typeof t?L(t,r,n,i):N(t,r,n,i)},P=(t,r,n)=>{(""===t?r:O(r,t)).classGroupId=n},L=(t,r,n,i)=>{R(t)?I(t(i),r,n,i):(null===r.validators&&(r.validators=[]),r.validators.push({classGroupId:n,validator:t}))},N=(t,r,n,i)=>{let s=Object.entries(t),a=s.length;for(let t=0;t<a;t++){let[a,o]=s[t];I(o,O(r,a),n,i)}},O=(t,r)=>{let n=t,i=r.split("-"),s=i.length;for(let t=0;t<s;t++){let r=i[t],s=n.nextPart.get(r);s||(s=k(),n.nextPart.set(r,s)),n=s}return n},R=t=>"isThemeGetter"in t&&!0===t.isThemeGetter,V=[],z=(t,r,n,i,s)=>({modifiers:t,hasImportantModifier:r,baseClassName:n,maybePostfixModifierPosition:i,isExternal:s}),U=/\s+/,j=(...t)=>{let r,n,i=0,s="";for(;i<t.length;)(r=t[i++])&&(n=G(r))&&(s&&(s+=" "),s+=n);return s},G=t=>{let r;if("string"==typeof t)return t;let n="";for(let i=0;i<t.length;i++)t[i]&&(r=G(t[i]))&&(n&&(n+=" "),n+=r);return n},$=(t,...r)=>{let n,i,s,a,o=t=>{let r=i(t);if(r)return r;let a=((t,r)=>{let{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:s,sortModifiers:a}=r,o=[],l=t.trim().split(U),u="";for(let t=l.length-1;t>=0;t-=1){let r=l[t],{isExternal:h,modifiers:c,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:f}=n(r);if(h){u=r+(u.length>0?" "+u:u);continue}let m=!!f,g=i(m?p.substring(0,f):p);if(!g){if(!m||!(g=i(p))){u=r+(u.length>0?" "+u:u);continue}m=!1}let y=0===c.length?"":1===c.length?c[0]:a(c).join(":"),v=d?y+"!":y,x=v+g;if(o.indexOf(x)>-1)continue;o.push(x);let b=s(g,m);for(let t=0;t<b.length;++t){let r=b[t];o.push(v+r)}u=r+(u.length>0?" "+u:u)}return u})(t,n);return s(t,a),a};return a=l=>{var u;let h;return i=(n={cache:(t=>{if(t<1)return{get:()=>void 0,set:()=>{}};let r=0,n=Object.create(null),i=Object.create(null),s=(s,a)=>{n[s]=a,++r>t&&(r=0,i=n,n=Object.create(null))};return{get(t){let r=n[t];return void 0!==r?r:void 0!==(r=i[t])?(s(t,r),r):void 0},set(t,r){t in n?n[t]=r:s(t,r)}}})((u=r.reduce((t,r)=>r(t),t())).cacheSize),parseClassName:(t=>{let{prefix:r,experimentalParseClassName:n}=t,i=t=>{let r,n=[],i=0,s=0,a=0,o=t.length;for(let l=0;l<o;l++){let o=t[l];if(0===i&&0===s){if(":"===o){n.push(t.slice(a,l)),a=l+1;continue}if("/"===o){r=l;continue}}"["===o?i++:"]"===o?i--:"("===o?s++:")"===o&&s--}let l=0===n.length?t:t.slice(a),u=l,h=!1;return l.endsWith("!")?(u=l.slice(0,-1),h=!0):l.startsWith("!")&&(u=l.slice(1),h=!0),z(n,h,u,r&&r>a?r-a:void 0)};if(r){let t=r+":",n=i;i=r=>r.startsWith(t)?n(r.slice(t.length)):z(V,!1,r,void 0,!0)}if(n){let t=i;i=r=>n({className:r,parseClassName:t})}return i})(u),sortModifiers:(h=new Map,u.orderSensitiveModifiers.forEach((t,r)=>{h.set(t,1e6+r)}),t=>{let r=[],n=[];for(let i=0;i<t.length;i++){let s=t[i],a="["===s[0],o=h.has(s);a||o?(n.length>0&&(n.sort(),r.push(...n),n=[]),r.push(s)):n.push(s)}return n.length>0&&(n.sort(),r.push(...n)),r}),...(t=>{let r=(t=>{let{theme:r,classGroups:n}=t;return M(n,r)})(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:t=>{if(t.startsWith("[")&&t.endsWith("]")){var n;let r,i,s;return -1===(n=t).slice(1,-1).indexOf(":")?void 0:(i=(r=n.slice(1,-1)).indexOf(":"),(s=r.slice(0,i))?"arbitrary.."+s:void 0)}let i=t.split("-"),s=+(""===i[0]&&i.length>1);return F(i,s,r)},getConflictingClassGroupIds:(t,r)=>{if(r){let r=i[t],s=n[t];if(r){if(s){let t=Array(s.length+r.length);for(let r=0;r<s.length;r++)t[r]=s[r];for(let n=0;n<r.length;n++)t[s.length+n]=r[n];return t}return r}return s||T}return n[t]||T}}})(u)}).cache.get,s=n.cache.set,a=o,o(l)},(...t)=>a(j(...t))},H=[],W=t=>{let r=r=>r[t]||H;return r.isThemeGetter=!0,r},q=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Y=/^\((?:(\w[\w-]*):)?(.+)\)$/i,X=/^\d+\/\d+$/,K=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Z=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Q=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,J=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,et=t=>X.test(t),er=t=>!!t&&!Number.isNaN(Number(t)),en=t=>!!t&&Number.isInteger(Number(t)),ei=t=>t.endsWith("%")&&er(t.slice(0,-1)),es=t=>K.test(t),ea=()=>!0,eo=t=>Z.test(t)&&!Q.test(t),el=()=>!1,eu=t=>J.test(t),eh=t=>ee.test(t),ec=t=>!ep(t)&&!ex(t),ed=t=>eD(t,eF,el),ep=t=>q.test(t),ef=t=>eD(t,eM,eo),em=t=>eD(t,eI,er),eg=t=>eD(t,ek,el),ey=t=>eD(t,eT,eh),ev=t=>eD(t,eP,eu),ex=t=>Y.test(t),eb=t=>eA(t,eM),ew=t=>eA(t,eB),e_=t=>eA(t,ek),eC=t=>eA(t,eF),eS=t=>eA(t,eT),eE=t=>eA(t,eP,!0),eD=(t,r,n)=>{let i=q.exec(t);return!!i&&(i[1]?r(i[1]):n(i[2]))},eA=(t,r,n=!1)=>{let i=Y.exec(t);return!!i&&(i[1]?r(i[1]):n)},ek=t=>"position"===t||"percentage"===t,eT=t=>"image"===t||"url"===t,eF=t=>"length"===t||"size"===t||"bg-size"===t,eM=t=>"length"===t,eI=t=>"number"===t,eB=t=>"family-name"===t,eP=t=>"shadow"===t,eL=Object.defineProperty({__proto__:null,isAny:ea,isAnyNonArbitrary:ec,isArbitraryImage:ey,isArbitraryLength:ef,isArbitraryNumber:em,isArbitraryPosition:eg,isArbitraryShadow:ev,isArbitrarySize:ed,isArbitraryValue:ep,isArbitraryVariable:ex,isArbitraryVariableFamilyName:ew,isArbitraryVariableImage:eS,isArbitraryVariableLength:eb,isArbitraryVariablePosition:e_,isArbitraryVariableShadow:eE,isArbitraryVariableSize:eC,isFraction:et,isInteger:en,isNumber:er,isPercent:ei,isTshirtSize:es},Symbol.toStringTag,{value:"Module"}),eN=()=>{let t=W("color"),r=W("font"),n=W("text"),i=W("font-weight"),s=W("tracking"),a=W("leading"),o=W("breakpoint"),l=W("container"),u=W("spacing"),h=W("radius"),c=W("shadow"),d=W("inset-shadow"),p=W("text-shadow"),f=W("drop-shadow"),m=W("blur"),g=W("perspective"),y=W("aspect"),v=W("ease"),x=W("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...w(),ex,ep],C=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],E=()=>[ex,ep,u],D=()=>[et,"full","auto",...E()],A=()=>[en,"none","subgrid",ex,ep],k=()=>["auto",{span:["full",en,ex,ep]},en,ex,ep],T=()=>[en,"auto",ex,ep],F=()=>["auto","min","max","fr",ex,ep],M=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],I=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...E()],P=()=>[et,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],L=()=>[t,ex,ep],N=()=>[...w(),e_,eg,{position:[ex,ep]}],O=()=>["no-repeat",{repeat:["","x","y","space","round"]}],R=()=>["auto","cover","contain",eC,ed,{size:[ex,ep]}],V=()=>[ei,eb,ef],z=()=>["","none","full",h,ex,ep],U=()=>["",er,eb,ef],j=()=>["solid","dashed","dotted","double"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>[er,ei,e_,eg],H=()=>["","none",m,ex,ep],q=()=>["none",er,ex,ep],Y=()=>["none",er,ex,ep],X=()=>[er,ex,ep],K=()=>[et,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[es],breakpoint:[es],color:[ea],container:[es],"drop-shadow":[es],ease:["in","out","in-out"],font:[ec],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[es],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[es],shadow:[es],spacing:["px",er],text:[es],"text-shadow":[es],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",et,ep,ex,y]}],container:["container"],columns:[{columns:[er,ep,ex,l]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[en,"auto",ex,ep]}],basis:[{basis:[et,"full","auto",l,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[er,et,"auto","initial","none",ep]}],grow:[{grow:["",er,ex,ep]}],shrink:[{shrink:["",er,ex,ep]}],order:[{order:[en,"first","last","none",ex,ep]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...M(),"normal"]}],"justify-items":[{"justify-items":[...I(),"normal"]}],"justify-self":[{"justify-self":["auto",...I()]}],"align-content":[{content:["normal",...M()]}],"align-items":[{items:[...I(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...I(),{baseline:["","last"]}]}],"place-content":[{"place-content":M()}],"place-items":[{"place-items":[...I(),"baseline"]}],"place-self":[{"place-self":["auto",...I()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:P()}],w:[{w:[l,"screen",...P()]}],"min-w":[{"min-w":[l,"screen","none",...P()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...P()]}],h:[{h:["screen","lh",...P()]}],"min-h":[{"min-h":["screen","lh","none",...P()]}],"max-h":[{"max-h":["screen","lh",...P()]}],"font-size":[{text:["base",n,eb,ef]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,ex,em]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ei,ep]}],"font-family":[{font:[ew,ep,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ex,ep]}],"line-clamp":[{"line-clamp":[er,"none",ex,em]}],leading:[{leading:[a,...E()]}],"list-image":[{"list-image":["none",ex,ep]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ex,ep]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:[er,"from-font","auto",ex,ef]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[er,"auto",ex,ep]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ex,ep]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ex,ep]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:N()}],"bg-repeat":[{bg:O()}],"bg-size":[{bg:R()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},en,ex,ep],radial:["",ex,ep],conic:[en,ex,ep]},eS,ey]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:U()}],"border-w-x":[{"border-x":U()}],"border-w-y":[{"border-y":U()}],"border-w-s":[{"border-s":U()}],"border-w-e":[{"border-e":U()}],"border-w-t":[{"border-t":U()}],"border-w-r":[{"border-r":U()}],"border-w-b":[{"border-b":U()}],"border-w-l":[{"border-l":U()}],"divide-x":[{"divide-x":U()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":U()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...j(),"hidden","none"]}],"divide-style":[{divide:[...j(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...j(),"none","hidden"]}],"outline-offset":[{"outline-offset":[er,ex,ep]}],"outline-w":[{outline:["",er,eb,ef]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",c,eE,ev]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",d,eE,ev]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[er,ef]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":U()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",p,eE,ev]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[er,ex,ep]}],"mix-blend":[{"mix-blend":[...G(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":G()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[er]}],"mask-image-linear-from-pos":[{"mask-linear-from":$()}],"mask-image-linear-to-pos":[{"mask-linear-to":$()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":$()}],"mask-image-t-to-pos":[{"mask-t-to":$()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":$()}],"mask-image-r-to-pos":[{"mask-r-to":$()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":$()}],"mask-image-b-to-pos":[{"mask-b-to":$()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":$()}],"mask-image-l-to-pos":[{"mask-l-to":$()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":$()}],"mask-image-x-to-pos":[{"mask-x-to":$()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":$()}],"mask-image-y-to-pos":[{"mask-y-to":$()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[ex,ep]}],"mask-image-radial-from-pos":[{"mask-radial-from":$()}],"mask-image-radial-to-pos":[{"mask-radial-to":$()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":w()}],"mask-image-conic-pos":[{"mask-conic":[er]}],"mask-image-conic-from-pos":[{"mask-conic-from":$()}],"mask-image-conic-to-pos":[{"mask-conic-to":$()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:N()}],"mask-repeat":[{mask:O()}],"mask-size":[{mask:R()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ex,ep]}],filter:[{filter:["","none",ex,ep]}],blur:[{blur:H()}],brightness:[{brightness:[er,ex,ep]}],contrast:[{contrast:[er,ex,ep]}],"drop-shadow":[{"drop-shadow":["","none",f,eE,ev]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",er,ex,ep]}],"hue-rotate":[{"hue-rotate":[er,ex,ep]}],invert:[{invert:["",er,ex,ep]}],saturate:[{saturate:[er,ex,ep]}],sepia:[{sepia:["",er,ex,ep]}],"backdrop-filter":[{"backdrop-filter":["","none",ex,ep]}],"backdrop-blur":[{"backdrop-blur":H()}],"backdrop-brightness":[{"backdrop-brightness":[er,ex,ep]}],"backdrop-contrast":[{"backdrop-contrast":[er,ex,ep]}],"backdrop-grayscale":[{"backdrop-grayscale":["",er,ex,ep]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[er,ex,ep]}],"backdrop-invert":[{"backdrop-invert":["",er,ex,ep]}],"backdrop-opacity":[{"backdrop-opacity":[er,ex,ep]}],"backdrop-saturate":[{"backdrop-saturate":[er,ex,ep]}],"backdrop-sepia":[{"backdrop-sepia":["",er,ex,ep]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ex,ep]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[er,"initial",ex,ep]}],ease:[{ease:["linear","initial",v,ex,ep]}],delay:[{delay:[er,ex,ep]}],animate:[{animate:["none",x,ex,ep]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,ex,ep]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:q()}],"rotate-x":[{"rotate-x":q()}],"rotate-y":[{"rotate-y":q()}],"rotate-z":[{"rotate-z":q()}],scale:[{scale:Y()}],"scale-x":[{"scale-x":Y()}],"scale-y":[{"scale-y":Y()}],"scale-z":[{"scale-z":Y()}],"scale-3d":["scale-3d"],skew:[{skew:X()}],"skew-x":[{"skew-x":X()}],"skew-y":[{"skew-y":X()}],transform:[{transform:[ex,ep,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:K()}],"translate-x":[{"translate-x":K()}],"translate-y":[{"translate-y":K()}],"translate-z":[{"translate-z":K()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ex,ep]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ex,ep]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[er,eb,ef,em]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},eO=(t,{cacheSize:r,prefix:n,experimentalParseClassName:i,extend:s={},override:a={}})=>(eR(t,"cacheSize",r),eR(t,"prefix",n),eR(t,"experimentalParseClassName",i),eV(t.theme,a.theme),eV(t.classGroups,a.classGroups),eV(t.conflictingClassGroups,a.conflictingClassGroups),eV(t.conflictingClassGroupModifiers,a.conflictingClassGroupModifiers),eR(t,"orderSensitiveModifiers",a.orderSensitiveModifiers),ez(t.theme,s.theme),ez(t.classGroups,s.classGroups),ez(t.conflictingClassGroups,s.conflictingClassGroups),ez(t.conflictingClassGroupModifiers,s.conflictingClassGroupModifiers),eU(t,s,"orderSensitiveModifiers"),t),eR=(t,r,n)=>{void 0!==n&&(t[r]=n)},eV=(t,r)=>{if(r)for(let n in r)eR(t,n,r[n])},ez=(t,r)=>{if(r)for(let n in r)eU(t,r,n)},eU=(t,r,n)=>{let i=r[n];void 0!==i&&(t[n]=t[n]?t[n].concat(i):i)},ej=$(eN);function eG(...t){return(0,A.twMerge)(S(t))}A.createTailwindMerge=$,A.extendTailwindMerge=(t,...r)=>"function"==typeof t?$(eN,t,...r):$(()=>eO(eN(),t),...r),A.fromTheme=W,A.getDefaultConfig=eN,A.mergeConfigs=eO,A.twJoin=j,A.twMerge=ej,A.validators=eL;let e$=D("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),eH=d.forwardRef(({className:t,variant:r,size:n,asChild:i=!1,...s},a)=>(0,c.jsx)(i?w:"button",{className:eG(e$({variant:r,size:n,className:t})),ref:a,...s}));eH.displayName="Button";var d=u("fYo6y");let eW=d.forwardRef(({className:t,...r},n)=>(0,c.jsx)("textarea",{className:eG("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));eW.displayName="Textarea";var d=u("fYo6y");let eq=d.forwardRef(({className:t,...r},n)=>(0,c.jsx)("div",{ref:n,className:eG("rounded-xl border bg-card text-card-foreground shadow",t),...r}));eq.displayName="Card";let eY=d.forwardRef(({className:t,...r},n)=>(0,c.jsx)("div",{ref:n,className:eG("flex flex-col space-y-1.5 p-6",t),...r}));eY.displayName="CardHeader";let eX=d.forwardRef(({className:t,...r},n)=>(0,c.jsx)("div",{ref:n,className:eG("font-semibold leading-none tracking-tight",t),...r}));eX.displayName="CardTitle";let eK=d.forwardRef(({className:t,...r},n)=>(0,c.jsx)("div",{ref:n,className:eG("text-sm text-muted-foreground",t),...r}));eK.displayName="CardDescription";let eZ=d.forwardRef(({className:t,...r},n)=>(0,c.jsx)("div",{ref:n,className:eG("p-6 pt-0",t),...r}));eZ.displayName="CardContent",d.forwardRef(({className:t,...r},n)=>(0,c.jsx)("div",{ref:n,className:eG("flex items-center p-6 pt-0",t),...r})).displayName="CardFooter",u("fYo6y");let eQ=D("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function eJ({className:t,variant:r,...n}){return(0,c.jsx)("div",{className:eG(eQ({variant:r}),t),...n})}let e0=({onDraw:t,onUpdateParticipants:r,participantCount:n,isRolling:i,participants:a,onSetNextWinner:o})=>{let[l,u]=(0,d.useState)(a.join("\n")),[h,p]=(0,d.useState)(!1);return s(d).useEffect(()=>{u(a.join("\n"))},[a]),(0,c.jsxs)(eq,{className:"w-full max-w-md backdrop-blur-xl bg-slate-900/50 border-slate-700 shadow-2xl overflow-hidden relative group",children:[(0,c.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-purple-500/10 opacity-50 group-hover:opacity-70 transition-opacity pointer-events-none"}),(0,c.jsxs)(eY,{children:[(0,c.jsx)(eX,{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-400",children:"Neural Raffle"}),(0,c.jsx)(eK,{className:"text-slate-400",children:"Edit names below (one per line). Auto-saved."})]}),(0,c.jsxs)(eZ,{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsx)(eW,{placeholder:"Alice * 10 Bob * 1 Charlie... (Name * Weight)",className:"min-h-[200px] bg-slate-950/50 border-slate-700 text-slate-200 focus:border-blue-500 focus:ring-blue-500/20 font-mono text-sm leading-relaxed",value:l,onChange:t=>u(t.target.value),disabled:i}),(0,c.jsx)(eH,{variant:"secondary",className:"w-full bg-slate-800 hover:bg-slate-700 text-slate-200 border border-slate-700",onClick:()=>{r(l)},disabled:i,children:"Save & Update Pool"})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-slate-950/30 border border-slate-800",children:[(0,c.jsx)("span",{className:"text-sm text-slate-400",children:"Pool Size"}),(0,c.jsx)(eJ,{variant:"outline",className:"border-blue-500/50 text-blue-400 font-mono text-lg",children:n})]}),(0,c.jsxs)("div",{className:"pt-2",children:[(0,c.jsx)("button",{onClick:()=>p(!h),className:"text-xs text-slate-600 hover:text-slate-400 w-full text-center pb-2",children:h?"Hide Advanced":"Advanced Settings"}),h&&(0,c.jsxs)("div",{className:"p-3 bg-red-950/20 border border-red-900/30 rounded-lg mb-4 space-y-2 animate-in slide-in-from-top-2",children:[(0,c.jsx)("label",{className:"text-xs text-red-400 font-bold block uppercase tracking-wider",children:" Force Next Winner (Cheat)"}),(0,c.jsxs)("select",{className:"w-full bg-slate-900 text-slate-300 border border-slate-700 rounded p-2 text-sm",onChange:t=>o(t.target.value||null),defaultValue:"",children:[(0,c.jsx)("option",{value:"",children:"-- Random (Fair) --"}),a.map((t,r)=>(0,c.jsx)("option",{value:t,children:t},r))]})]})]}),(0,c.jsx)(eH,{size:"lg",className:"w-full font-bold text-lg relative overflow-hidden bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white border-0 shadow-[0_0_20px_rgba(37,99,235,0.3)] hover:shadow-[0_0_30px_rgba(37,99,235,0.5)] transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98]",onClick:t,disabled:0===n||i,children:i?(0,c.jsxs)("span",{className:"flex items-center gap-2",children:[(0,c.jsx)("span",{className:"animate-spin",children:""})," Computing..."]}):"ENTER GAME MODE "})]})]})};var d=(u("fYo6y"),u("fYo6y"));let e1=["#0066cc","#ff9933","#009933","#ffcc00","#cc3333"],e2=({participants:t,winner:r,isSpinning:n,onSpinComplete:i})=>{let s=(0,d.useRef)(null),[a,o]=(0,d.useState)(0),l=(0,d.useRef)({startTime:0,startRotation:0,targetRotation:0,isAnimating:!1,duration:6e3});(0,d.useEffect)(()=>{if(n&&r&&!l.current.isAnimating){let n=t.indexOf(r);if(-1===n)return;let i=360/t.length,s=.8*i*(Math.random()-.5);l.current={startTime:performance.now(),startRotation:a%360,targetRotation:2160+(270-(n*i+i/2))+s,isAnimating:!0,duration:6e3+1e3*Math.random()},requestAnimationFrame(u)}},[n,r,t]);let u=t=>{if(!l.current.isAnimating)return;let{startTime:r,startRotation:n,targetRotation:s,duration:a}=l.current,h=Math.min((t-r)/a,1);o(n+(s-n)*(1-Math.pow(1-h,3))),h<1?requestAnimationFrame(u):(l.current.isAnimating=!1,i())};return(0,d.useEffect)(()=>{let r=s.current;if(!r)return;let n=r.getContext("2d");if(!n)return;let i=r.width,o=i/2,l=i/2-80,u=l-40,h=2*Math.PI/t.length;n.clearRect(0,0,i,i),n.lineJoin="round",n.save(),n.translate(o,o),n.rotate(a*Math.PI/180),n.beginPath(),n.arc(0,0,l,0,2*Math.PI),n.fillStyle="rgba(0,0,0,0.5)",n.shadowColor="rgba(0,0,0,0.8)",n.shadowBlur=40,n.shadowOffsetY=20,n.fill(),n.shadowBlur=0,n.shadowOffsetY=0,t.forEach((r,i)=>{let s=i*h;n.beginPath(),n.moveTo(0,0),n.arc(0,0,u+2,s,s+h),n.closePath(),n.fillStyle=e1[i%e1.length],n.fill();let a=n.createRadialGradient(0,0,0,0,0,u);a.addColorStop(0,"rgba(0,0,0,0.4)"),a.addColorStop(.4,"rgba(0,0,0,0.1)"),a.addColorStop(1,"rgba(0,0,0,0)"),n.fillStyle=a,n.fill(),n.lineWidth=2,n.strokeStyle="rgba(255,255,255,0.2)",n.stroke(),n.save(),n.rotate(s+h/2),n.textAlign="right",n.textBaseline="middle",n.shadowColor="rgba(0,0,0,0.8)",n.shadowBlur=4,n.shadowOffsetY=2;let o=t.length>20?16:28;n.font=`900 ${o}px "Inter", "Roboto", sans-serif`,n.fillStyle="#FFFFFF";let l=u-20,c=r.length>15?r.substring(0,15)+"...":r;n.fillText(c,l,0),n.restore()}),n.beginPath(),n.arc(0,0,l,0,2*Math.PI),n.arc(0,0,u,0,2*Math.PI,!0),n.closePath();let c=n.createLinearGradient(-l,-l,l,l);c.addColorStop(0,"#B45309"),c.addColorStop(.2,"#FCD34D"),c.addColorStop(.4,"#B45309"),c.addColorStop(.6,"#FDE047"),c.addColorStop(.8,"#D97706"),c.addColorStop(1,"#92400E"),n.fillStyle=c,n.fill(),n.lineWidth=1,n.strokeStyle="rgba(255,255,255,0.4)",n.beginPath(),n.arc(0,0,l-1,0,2*Math.PI),n.stroke(),n.strokeStyle="rgba(0,0,0,0.4)",n.beginPath(),n.arc(0,0,u+1,0,2*Math.PI),n.stroke();let d=2*Math.PI/12,p=u+20;n.shadowBlur=2,n.shadowColor="rgba(0,0,0,0.5)";for(let t=0;t<12;t++){let r=t*d,i=Math.cos(r)*p,s=Math.sin(r)*p;n.beginPath(),n.arc(i,s,5,0,2*Math.PI);let a=n.createRadialGradient(i-2,s-2,0,i,s,5);a.addColorStop(0,"#FFFFFF"),a.addColorStop(1,"#92400E"),n.fillStyle=a,n.fill(),n.strokeStyle="rgba(0,0,0,0.3)",n.lineWidth=1,n.stroke()}n.restore(),n.save(),n.translate(o,o),n.shadowColor="rgba(0,0,0,0.6)",n.shadowBlur=20,n.shadowOffsetY=15;let f=-l+15;n.translate(0,f),n.beginPath(),n.moveTo(0,0),n.lineTo(-40,-42),n.quadraticCurveTo(0,-84,40,-42),n.lineTo(0,0),n.closePath();let m=n.createLinearGradient(-40,-70,40,0);m.addColorStop(0,"#DC2626"),m.addColorStop(.5,"#EF4444"),m.addColorStop(1,"#991B1B"),n.fillStyle=m,n.fill(),n.lineWidth=4,n.strokeStyle="#F59E0B",n.stroke(),n.shadowBlur=0,n.fillStyle="#FFF",n.beginPath(),n.arc(0,-42,10,0,2*Math.PI),n.fill(),n.fillStyle="#D97706",n.beginPath(),n.arc(0,-42,6,0,2*Math.PI),n.fill(),n.restore()},[t,a]),(0,c.jsxs)("div",{className:"relative w-full max-w-[700px] aspect-square animate-in zoom-in spin-in-1 duration-700",children:[(0,c.jsx)("canvas",{ref:s,width:1e3,height:1e3,className:"w-full h-full object-contain drop-shadow-2xl"}),(0,c.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[90%] h-[90%] bg-blue-500/5 rounded-full blur-[100px] -z-10"})]})},e5=({participants:t,segments:r,decideWinner:n,finalizeWinner:i,onConfig:s})=>{let[a,o]=(0,d.useState)(!1),[l,u]=(0,d.useState)(null),[h,p]=(0,d.useState)(!1);return(0,c.jsxs)("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-slate-900/40 backdrop-blur-sm",children:[(0,c.jsx)("div",{className:"absolute top-6 right-6 z-50",children:(0,c.jsx)(eH,{variant:"ghost",size:"icon",className:"text-slate-500 hover:text-white hover:bg-white/10",onClick:s,children:(0,c.jsx)(e3,{className:"w-6 h-6"})})}),(0,c.jsxs)("div",{className:"relative transform scale-100 md:scale-125 transition-transform",children:[(0,c.jsx)(e2,{segments:r,winner:l,isSpinning:a,onSpinComplete:()=>{l&&(i(l),p(!0)),o(!1)}}),!a&&!h&&(0,c.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-20",children:(0,c.jsx)(eH,{className:"w-24 h-24 rounded-full text-2xl font-black bg-gradient-to-br from-red-500 to-pink-600 hover:scale-110 transition-transform shadow-[0_0_30px_rgba(239,68,68,0.6)] border-4 border-white",onClick:()=>{if(a)return;let t=n();t&&(u(t),o(!0),p(!1))},disabled:0===t.length,children:"SPIN"})})]}),h&&l&&(0,c.jsx)("div",{className:"absolute inset-0 z-40 flex items-center justify-center bg-black/60 animate-in fade-in duration-500",onClick:()=>p(!1),children:(0,c.jsxs)("div",{className:"bg-slate-900/90 border border-slate-700 p-12 rounded-2xl flex flex-col items-center gap-6 shadow-2xl scale-125 animate-in zoom-in-50 spin-in-2 duration-500 relative overflow-hidden",children:[(0,c.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-purple-500/20 animate-pulse"}),(0,c.jsx)("h2",{className:"text-3xl font-light text-slate-300 uppercase tracking-widest relative z-10",children:"Winner"}),(0,c.jsx)("h1",{className:"text-6xl font-black bg-clip-text text-transparent bg-gradient-to-r from-yellow-400 to-orange-500 relative z-10 drop-shadow-lg",children:l}),(0,c.jsx)("p",{className:"text-slate-500 mt-4 relative z-10",children:"Tap anywhere to close"})]})})]})};function e3(t){return(0,c.jsxs)("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,c.jsx)("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2-.3l-.15-.15a2 2 0 0 0-2.26.33l-.3.3a2 2 0 0 0 .33 2.26l.15.15a2 2 0 0 1 .3 2l-.25.43a2 2 0 0 1-1.73 1H2a2 2 0 0 0-2 2v.45l.03.05a2 2 0 0 0 .58-.45h.02a2 2 0 0 1 2-2 2 2 0 0 0 2-2 2 2 0 0 0-.58-1.75l-.3-.3a2 2 0 0 1 0-2.83l.3-.3a2 2 0 0 1 2.83 0l.3.3a2 2 0 0 0 1.75.58h.02a2 2 0 0 0 .6-1.55L9.67 2h2.55zm0 0h.44a2 2 0 0 1 2 2v.18a2 2 0 0 0 1 1.73l.43.25a2 2 0 0 0 2-.3l.15-.15a2 2 0 0 1 2.26.33l.3.3a2 2 0 0 1-.33 2.26l-.15.15a2 2 0 0 0-.3 2l.25.43a2 2 0 0 0 1.73 1H22a2 2 0 0 1 2 2v.45l-.03.05a2 2 0 0 1-.58-.45h-.02a2 2 0 0 0-2-2 2 2 0 0 1-2-2 2 2 0 0 1 .58-1.75l.3-.3a2 2 0 0 0 0-2.83l-.3-.3a2 2 0 0 0-2.83 0l-.3.3a2 2 0 0 1-1.75.58h-.02a2 2 0 0 1-.6-1.55L14.78 2h-2.56z"}),(0,c.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,c.jsx)("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})}var d=(u("fYo6y"),u("fYo6y")),e4=(t,r,n,i,s,a,o,l)=>{let u=document.documentElement,h=["light","dark"];function c(r){var n;(Array.isArray(t)?t:[t]).forEach(t=>{let n="class"===t,i=n&&a?s.map(t=>a[t]||t):s;n?(u.classList.remove(...i),u.classList.add(a&&a[r]?a[r]:r)):u.setAttribute(t,r)}),n=r,l&&h.includes(n)&&(u.style.colorScheme=n)}if(i)c(i);else try{let t=localStorage.getItem(r)||n,i=o&&"system"===t?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":t;c(i)}catch(t){}},e6=d.createContext(void 0),e8={setTheme:t=>{},themes:[]};d.memo(({forcedTheme:t,storageKey:r,attribute:n,enableSystem:i,enableColorScheme:s,defaultTheme:a,value:o,themes:l,nonce:u,scriptProps:h})=>{let c=JSON.stringify([n,r,a,t,l,o,i,s]).slice(1,-1);return d.createElement("script",{...h,suppressHydrationWarning:!0,nonce:"u"<typeof window?u:"",dangerouslySetInnerHTML:{__html:`(${e4.toString()})(${c})`}})});var e9={};Object.defineProperty(e9,"__esModule",{value:!0});var d=u("fYo6y"),e7=u("d2L2u");function te(t){return t&&t.__esModule?t:{default:t}}var tt=te(d),tr=te(e7);let tn=Array(12).fill(0),ti=({visible:t,className:r})=>tt.default.createElement("div",{className:["sonner-loading-wrapper",r].filter(Boolean).join(" "),"data-visible":t},tt.default.createElement("div",{className:"sonner-spinner"},tn.map((t,r)=>tt.default.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),ts=tt.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},tt.default.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ta=tt.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},tt.default.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),to=tt.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},tt.default.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),tl=tt.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},tt.default.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),tu=tt.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},tt.default.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),tt.default.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),th=1,tc=new class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:n,...i}=t,s="number"==typeof(null==t?void 0:t.id)||(null==(r=t.id)?void 0:r.length)>0?t.id:th++,a=this.toasts.find(t=>t.id===s),o=void 0===t.dismissible||t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(r=>r.id===s?(this.publish({...r,...t,id:s,title:n}),{...r,...t,id:s,dismissible:o,title:n}):r):this.addToast({title:n,...i,dismissible:o,id:s}),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{let n,i;if(!r)return;void 0!==r.loading&&(i=this.create({...r,promise:t,type:"loading",message:r.loading,description:"function"!=typeof r.description?r.description:void 0}));let s=Promise.resolve(t instanceof Function?t():t),a=void 0!==i,o=s.then(async t=>{if(n=["resolve",t],tt.default.isValidElement(t))a=!1,this.create({id:i,type:"default",message:t});else if(td(t)&&!t.ok){a=!1;let n="function"==typeof r.error?await r.error(`HTTP error! status: ${t.status}`):r.error,s="function"==typeof r.description?await r.description(`HTTP error! status: ${t.status}`):r.description,o="object"!=typeof n||tt.default.isValidElement(n)?{message:n}:n;this.create({id:i,type:"error",description:s,...o})}else if(t instanceof Error){a=!1;let n="function"==typeof r.error?await r.error(t):r.error,s="function"==typeof r.description?await r.description(t):r.description,o="object"!=typeof n||tt.default.isValidElement(n)?{message:n}:n;this.create({id:i,type:"error",description:s,...o})}else if(void 0!==r.success){a=!1;let n="function"==typeof r.success?await r.success(t):r.success,s="function"==typeof r.description?await r.description(t):r.description,o="object"!=typeof n||tt.default.isValidElement(n)?{message:n}:n;this.create({id:i,type:"success",description:s,...o})}}).catch(async t=>{if(n=["reject",t],void 0!==r.error){a=!1;let n="function"==typeof r.error?await r.error(t):r.error,s="function"==typeof r.description?await r.description(t):r.description,o="object"!=typeof n||tt.default.isValidElement(n)?{message:n}:n;this.create({id:i,type:"error",description:s,...o})}}).finally(()=>{a&&(this.dismiss(i),i=void 0),null==r.finally||r.finally.call(r)}),l=()=>new Promise((t,r)=>o.then(()=>"reject"===n[0]?r(n[1]):t(n[1])).catch(r));return"string"!=typeof i&&"number"!=typeof i?{unwrap:l}:Object.assign(i,{unwrap:l})},this.custom=(t,r)=>{let n=(null==r?void 0:r.id)||th++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},td=t=>t&&"object"==typeof t&&"ok"in t&&"boolean"==typeof t.ok&&"status"in t&&"number"==typeof t.status,tp=Object.assign((t,r)=>{let n=(null==r?void 0:r.id)||th++;return tc.addToast({title:t,...r,id:n}),n},{success:tc.success,info:tc.info,warning:tc.warning,error:tc.error,custom:tc.custom,message:tc.message,promise:tc.promise,dismiss:tc.dismiss,loading:tc.loading},{getHistory:()=>tc.toasts,getToasts:()=>tc.getActiveToasts()});function tf(t){return void 0!==t.label}function tm(...t){return t.filter(Boolean).join(" ")}!function(t){if(!t||"u"<typeof document)return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");let tg=t=>{var r,n,i,s,a,o,l,u,h,c,d,p,f;let{invert:m,toast:g,unstyled:y,interacting:v,setHeights:x,visibleToasts:b,heights:w,index:_,toasts:C,expanded:S,removeToast:E,defaultRichColors:D,closeButton:A,style:k,cancelButtonStyle:T,actionButtonStyle:F,className:M="",descriptionClassName:I="",duration:B,position:P,gap:L,expandByDefault:N,classNames:O,icons:R,closeButtonAriaLabel:V="Close toast"}=t,[z,U]=tt.default.useState(null),[j,G]=tt.default.useState(null),[$,H]=tt.default.useState(!1),[W,q]=tt.default.useState(!1),[Y,X]=tt.default.useState(!1),[K,Z]=tt.default.useState(!1),[Q,J]=tt.default.useState(!1),[ee,et]=tt.default.useState(0),[er,en]=tt.default.useState(0),ei=tt.default.useRef(g.duration||B||4e3),es=tt.default.useRef(null),ea=tt.default.useRef(null),eo=0===_,el=_+1<=b,eu=g.type,eh=!1!==g.dismissible,ec=g.className||"",ed=g.descriptionClassName||"",ep=tt.default.useMemo(()=>w.findIndex(t=>t.toastId===g.id)||0,[w,g.id]),ef=tt.default.useMemo(()=>{var t;return null!=(t=g.closeButton)?t:A},[g.closeButton,A]),em=tt.default.useMemo(()=>g.duration||B||4e3,[g.duration,B]),eg=tt.default.useRef(0),ey=tt.default.useRef(0),ev=tt.default.useRef(0),ex=tt.default.useRef(null),[eb,ew]=P.split("-"),e_=tt.default.useMemo(()=>w.reduce((t,r,n)=>n>=ep?t:t+r.height,0),[w,ep]),eC=(()=>{let[t,r]=tt.default.useState(document.hidden);return tt.default.useEffect(()=>{let t=()=>{r(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),t})(),eS=g.invert||m,eE="loading"===eu;ey.current=tt.default.useMemo(()=>ep*L+e_,[ep,e_]),tt.default.useEffect(()=>{ei.current=em},[em]),tt.default.useEffect(()=>{H(!0)},[]),tt.default.useEffect(()=>{let t=ea.current;if(t){let r=t.getBoundingClientRect().height;return en(r),x(t=>[{toastId:g.id,height:r,position:g.position},...t]),()=>x(t=>t.filter(t=>t.toastId!==g.id))}},[x,g.id]),tt.default.useLayoutEffect(()=>{if(!$)return;let t=ea.current,r=t.style.height;t.style.height="auto";let n=t.getBoundingClientRect().height;t.style.height=r,en(n),x(t=>t.find(t=>t.toastId===g.id)?t.map(t=>t.toastId===g.id?{...t,height:n}:t):[{toastId:g.id,height:n,position:g.position},...t])},[$,g.title,g.description,x,g.id,g.jsx,g.action,g.cancel]);let eD=tt.default.useCallback(()=>{q(!0),et(ey.current),x(t=>t.filter(t=>t.toastId!==g.id)),setTimeout(()=>{E(g)},200)},[g,E,x,ey]);tt.default.useEffect(()=>{let t;if((!g.promise||"loading"!==eu)&&g.duration!==1/0&&"loading"!==g.type){if(S||v||eC){if(ev.current<eg.current){let t=new Date().getTime()-eg.current;ei.current=ei.current-t}ev.current=new Date().getTime()}else ei.current!==1/0&&(eg.current=new Date().getTime(),t=setTimeout(()=>{null==g.onAutoClose||g.onAutoClose.call(g,g),eD()},ei.current));return()=>clearTimeout(t)}},[S,v,g,eu,eC,eD]),tt.default.useEffect(()=>{g.delete&&(eD(),null==g.onDismiss||g.onDismiss.call(g,g))},[eD,g.delete]);let eA=g.icon||(null==R?void 0:R[eu])||(t=>{switch(t){case"success":return ts;case"info":return to;case"warning":return ta;case"error":return tl;default:return null}})(eu);return tt.default.createElement("li",{tabIndex:0,ref:ea,className:tm(M,ec,null==O?void 0:O.toast,null==g||null==(r=g.classNames)?void 0:r.toast,null==O?void 0:O.default,null==O?void 0:O[eu],null==g||null==(n=g.classNames)?void 0:n[eu]),"data-sonner-toast":"","data-rich-colors":null!=(c=g.richColors)?c:D,"data-styled":!(g.jsx||g.unstyled||y),"data-mounted":$,"data-promise":!!g.promise,"data-swiped":Q,"data-removed":W,"data-visible":el,"data-y-position":eb,"data-x-position":ew,"data-index":_,"data-front":eo,"data-swiping":Y,"data-dismissible":eh,"data-type":eu,"data-invert":eS,"data-swipe-out":K,"data-swipe-direction":j,"data-expanded":!!(S||N&&$),"data-testid":g.testId,style:{"--index":_,"--toasts-before":_,"--z-index":C.length-_,"--offset":`${W?ee:ey.current}px`,"--initial-height":N?"auto":`${er}px`,...k,...g.style},onDragEnd:()=>{X(!1),U(null),ex.current=null},onPointerDown:t=>{2===t.button||eE||!eh||(es.current=new Date,et(ey.current),t.target.setPointerCapture(t.pointerId),"BUTTON"!==t.target.tagName&&(X(!0),ex.current={x:t.clientX,y:t.clientY}))},onPointerUp:()=>{var t,r,n,i,s;if(K||!eh)return;ex.current=null;let a=Number((null==(t=ea.current)?void 0:t.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),o=Number((null==(r=ea.current)?void 0:r.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),l=new Date().getTime()-(null==(n=es.current)?void 0:n.getTime()),u="x"===z?a:o,h=Math.abs(u)/l;if(Math.abs(u)>=45||h>.11){et(ey.current),null==g.onDismiss||g.onDismiss.call(g,g),"x"===z?G(a>0?"right":"left"):G(o>0?"down":"up"),eD(),Z(!0);return}null==(i=ea.current)||i.style.setProperty("--swipe-amount-x","0px"),null==(s=ea.current)||s.style.setProperty("--swipe-amount-y","0px"),J(!1),X(!1),U(null)},onPointerMove:r=>{var n,i,s,a;if(!ex.current||!eh||(null==(n=window.getSelection())?void 0:n.toString().length)>0)return;let o=r.clientY-ex.current.y,l=r.clientX-ex.current.x,u=null!=(a=t.swipeDirections)?a:function(t){let[r,n]=t.split("-"),i=[];return r&&i.push(r),n&&i.push(n),i}(P);!z&&(Math.abs(l)>1||Math.abs(o)>1)&&U(Math.abs(l)>Math.abs(o)?"x":"y");let h={x:0,y:0},c=t=>1/(1.5+Math.abs(t)/20);if("y"===z){if(u.includes("top")||u.includes("bottom"))if(u.includes("top")&&o<0||u.includes("bottom")&&o>0)h.y=o;else{let t=o*c(o);h.y=Math.abs(t)<Math.abs(o)?t:o}}else if("x"===z&&(u.includes("left")||u.includes("right")))if(u.includes("left")&&l<0||u.includes("right")&&l>0)h.x=l;else{let t=l*c(l);h.x=Math.abs(t)<Math.abs(l)?t:l}(Math.abs(h.x)>0||Math.abs(h.y)>0)&&J(!0),null==(i=ea.current)||i.style.setProperty("--swipe-amount-x",`${h.x}px`),null==(s=ea.current)||s.style.setProperty("--swipe-amount-y",`${h.y}px`)}},ef&&!g.jsx&&"loading"!==eu?tt.default.createElement("button",{"aria-label":V,"data-disabled":eE,"data-close-button":!0,onClick:eE||!eh?()=>{}:()=>{eD(),null==g.onDismiss||g.onDismiss.call(g,g)},className:tm(null==O?void 0:O.closeButton,null==g||null==(i=g.classNames)?void 0:i.closeButton)},null!=(d=null==R?void 0:R.close)?d:tu):null,(eu||g.icon||g.promise)&&null!==g.icon&&((null==R?void 0:R[eu])!==null||g.icon)?tt.default.createElement("div",{"data-icon":"",className:tm(null==O?void 0:O.icon,null==g||null==(s=g.classNames)?void 0:s.icon)},g.promise||"loading"===g.type&&!g.icon?g.icon||((null==R?void 0:R.loading)?tt.default.createElement("div",{className:tm(null==O?void 0:O.loader,null==g||null==(f=g.classNames)?void 0:f.loader,"sonner-loader"),"data-visible":"loading"===eu},R.loading):tt.default.createElement(ti,{className:tm(null==O?void 0:O.loader,null==g||null==(p=g.classNames)?void 0:p.loader),visible:"loading"===eu})):null,"loading"!==g.type?eA:null):null,tt.default.createElement("div",{"data-content":"",className:tm(null==O?void 0:O.content,null==g||null==(a=g.classNames)?void 0:a.content)},tt.default.createElement("div",{"data-title":"",className:tm(null==O?void 0:O.title,null==g||null==(o=g.classNames)?void 0:o.title)},g.jsx?g.jsx:"function"==typeof g.title?g.title():g.title),g.description?tt.default.createElement("div",{"data-description":"",className:tm(I,ed,null==O?void 0:O.description,null==g||null==(l=g.classNames)?void 0:l.description)},"function"==typeof g.description?g.description():g.description):null),tt.default.isValidElement(g.cancel)?g.cancel:g.cancel&&tf(g.cancel)?tt.default.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||T,onClick:t=>{!tf(g.cancel)||eh&&(null==g.cancel.onClick||g.cancel.onClick.call(g.cancel,t),eD())},className:tm(null==O?void 0:O.cancelButton,null==g||null==(u=g.classNames)?void 0:u.cancelButton)},g.cancel.label):null,tt.default.isValidElement(g.action)?g.action:g.action&&tf(g.action)?tt.default.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||F,onClick:t=>{!tf(g.action)||(null==g.action.onClick||g.action.onClick.call(g.action,t),t.defaultPrevented||eD())},className:tm(null==O?void 0:O.actionButton,null==g||null==(h=g.classNames)?void 0:h.actionButton)},g.action.label):null)};function ty(){if("u"<typeof window||"u"<typeof document)return"ltr";let t=document.documentElement.getAttribute("dir");return"auto"!==t&&t?t:window.getComputedStyle(document.documentElement).direction}e9.Toaster=tt.default.forwardRef(function(t,r){let{id:n,invert:i,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:o,closeButton:l,className:u,offset:h,mobileOffset:c,theme:d="light",richColors:p,duration:f,style:m,visibleToasts:g=3,toastOptions:y,dir:v=ty(),gap:x=14,icons:b,containerAriaLabel:w="Notifications"}=t,[_,C]=tt.default.useState([]),S=tt.default.useMemo(()=>n?_.filter(t=>t.toasterId===n):_.filter(t=>!t.toasterId),[_,n]),E=tt.default.useMemo(()=>Array.from(new Set([s].concat(S.filter(t=>t.position).map(t=>t.position)))),[S,s]),[D,A]=tt.default.useState([]),[k,T]=tt.default.useState(!1),[F,M]=tt.default.useState(!1),[I,B]=tt.default.useState("system"!==d?d:"u">typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),P=tt.default.useRef(null),L=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=tt.default.useRef(null),O=tt.default.useRef(!1),R=tt.default.useCallback(t=>{C(r=>{var n;return(null==(n=r.find(r=>r.id===t.id))?void 0:n.delete)||tc.dismiss(t.id),r.filter(({id:r})=>r!==t.id)})},[]);return tt.default.useEffect(()=>tc.subscribe(t=>{t.dismiss?requestAnimationFrame(()=>{C(r=>r.map(r=>r.id===t.id?{...r,delete:!0}:r))}):setTimeout(()=>{tr.default.flushSync(()=>{C(r=>{let n=r.findIndex(r=>r.id===t.id);return -1!==n?[...r.slice(0,n),{...r[n],...t},...r.slice(n+1)]:[t,...r]})})})}),[_]),tt.default.useEffect(()=>{if("system"!==d)return void B(d);if("system"===d&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),"u"<typeof window)return;let t=window.matchMedia("(prefers-color-scheme: dark)");try{t.addEventListener("change",({matches:t})=>{t?B("dark"):B("light")})}catch(r){t.addListener(({matches:t})=>{try{t?B("dark"):B("light")}catch(t){console.error(t)}})}},[d]),tt.default.useEffect(()=>{_.length<=1&&T(!1)},[_]),tt.default.useEffect(()=>{let t=t=>{var r,n;a.every(r=>t[r]||t.code===r)&&(T(!0),null==(n=P.current)||n.focus()),"Escape"===t.code&&(document.activeElement===P.current||(null==(r=P.current)?void 0:r.contains(document.activeElement)))&&T(!1)};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[a]),tt.default.useEffect(()=>{if(P.current)return()=>{N.current&&(N.current.focus({preventScroll:!0}),N.current=null,O.current=!1)}},[P.current]),tt.default.createElement("section",{ref:r,"aria-label":`${w} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((r,n)=>{var s;let a,[d,w]=r.split("-");return S.length?tt.default.createElement("ol",{key:r,dir:"auto"===v?ty():v,tabIndex:-1,ref:P,className:u,"data-sonner-toaster":!0,"data-sonner-theme":I,"data-y-position":d,"data-x-position":w,style:{"--front-toast-height":`${(null==(s=D[0])?void 0:s.height)||0}px`,"--width":"356px","--gap":`${x}px`,...m,...(a={},[h,c].forEach((t,r)=>{let n=1===r,i=n?"--mobile-offset":"--offset",s=n?"16px":"24px";function o(t){["top","right","bottom","left"].forEach(r=>{a[`${i}-${r}`]="number"==typeof t?`${t}px`:t})}"number"==typeof t||"string"==typeof t?o(t):"object"==typeof t?["top","right","bottom","left"].forEach(r=>{void 0===t[r]?a[`${i}-${r}`]=s:a[`${i}-${r}`]="number"==typeof t[r]?`${t[r]}px`:t[r]}):o(s)}),a)},onBlur:t=>{O.current&&!t.currentTarget.contains(t.relatedTarget)&&(O.current=!1,N.current&&(N.current.focus({preventScroll:!0}),N.current=null))},onFocus:t=>{!(t.target instanceof HTMLElement&&"false"===t.target.dataset.dismissible)&&(O.current||(O.current=!0,N.current=t.relatedTarget))},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{F||T(!1)},onDragEnd:()=>T(!1),onPointerDown:t=>{t.target instanceof HTMLElement&&"false"===t.target.dataset.dismissible||M(!0)},onPointerUp:()=>M(!1)},S.filter(t=>!t.position&&0===n||t.position===r).map((n,s)=>{var a,u;return tt.default.createElement(tg,{key:n.id,icons:b,index:s,toast:n,defaultRichColors:p,duration:null!=(a=null==y?void 0:y.duration)?a:f,className:null==y?void 0:y.className,descriptionClassName:null==y?void 0:y.descriptionClassName,invert:i,visibleToasts:g,closeButton:null!=(u=null==y?void 0:y.closeButton)?u:l,interacting:F,position:r,style:null==y?void 0:y.style,unstyled:null==y?void 0:y.unstyled,classNames:null==y?void 0:y.classNames,cancelButtonStyle:null==y?void 0:y.cancelButtonStyle,actionButtonStyle:null==y?void 0:y.actionButtonStyle,closeButtonAriaLabel:null==y?void 0:y.closeButtonAriaLabel,removeToast:R,toasts:S.filter(t=>t.position==n.position),heights:D.filter(t=>t.position==n.position),setHeights:A,expandByDefault:o,gap:x,expanded:k,swipeDirections:t.swipeDirections})})):null}))}),e9.toast=tp,e9.useSonner=function(){let[t,r]=tt.default.useState([]);return tt.default.useEffect(()=>tc.subscribe(t=>{t.dismiss?setTimeout(()=>{tr.default.flushSync(()=>{r(r=>r.filter(r=>r.id!==t.id))})}):setTimeout(()=>{tr.default.flushSync(()=>{r(r=>{let n=r.findIndex(r=>r.id===t.id);return -1!==n?[...r.slice(0,n),{...r[n],...t},...r.slice(n+1)]:[t,...r]})})})}),[]),{toasts:t}};let tv=({...t})=>{var r;let{theme:n="system"}=null!=(r=d.useContext(e6))?r:e8;return(0,c.jsx)(e9.Toaster,{theme:n,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};(0,p.createRoot)(document.getElementById("root")).render((0,c.jsx)(d.StrictMode,{children:(0,c.jsx)(function(){let{participants:t,winners:r,isRolling:n,currentWinner:i,addParticipant:a,drawWinner:o,decideWinner:l,finalizeWinner:u,setNextWinnerOverride:h,segments:p}=(()=>{let[t,r]=(0,d.useState)(()=>{let t=localStorage.getItem("neon-raffle-participants");return t?JSON.parse(t):[]}),[n,i]=(0,d.useState)([]),[s,a]=(0,d.useState)(!1),[o,l]=(0,d.useState)(null);(0,d.useEffect)(()=>{localStorage.setItem("neon-raffle-participants",JSON.stringify(t))},[t]);let u=(0,d.useCallback)(t=>{r(t.split("\n").map(t=>t.trim()).filter(t=>t.length>0))},[]),h=(0,d.useCallback)(t=>{r(r=>r.filter(r=>r!==t))},[]),c=(0,d.useCallback)(()=>{r([]),i([]),l(null),a(!1)},[]),[p,f]=(0,d.useState)(null),m=(0,d.useMemo)(()=>t.map((t,r)=>{let n=t.match(/^(.*?)\s*[\*x]\s*(\d+)$/i),i=t,s=1;return n&&(i=n[1],s=parseInt(n[2],10)||1),{id:r,originalText:t,name:i,weight:s}}),[t]),g=(0,d.useCallback)(()=>{if(0===m.length)return null;if(a(!0),l(null),p){let t=m.find(t=>t.name===p);if(t)return f(null),t.name}let t=Math.random()*m.reduce((t,r)=>t+r.weight,0);for(let r of m)if((t-=r.weight)<=0)return r.name;return m[m.length-1].name},[m,p]),y=(0,d.useCallback)(t=>{a(!1),l(t),i(r=>[t,...r])},[]);return{participants:t,winners:n,isRolling:s,currentWinner:o,addParticipant:u,removeParticipant:h,drawWinner:(0,d.useCallback)(()=>{let t=g();t&&setTimeout(()=>y(t),3e3)},[g,y]),decideWinner:g,finalizeWinner:y,setNextWinnerOverride:f,reset:c,segments:m}})(),[f,m]=s(d).useState(t.length>0?"play":"config");return(0,c.jsxs)("div",{className:"relative min-h-screen w-full overflow-hidden text-slate-200",children:[(0,c.jsx)(g,{isRolling:n,winner:i}),"play"===f?(0,c.jsx)(e5,{participants:t,segments:p,winners:r,decideWinner:l,finalizeWinner:u,onConfig:()=>m("config")}):(0,c.jsx)("main",{className:"relative z-10 container mx-auto px-4 py-8 min-h-screen flex flex-col items-center justify-center pt-20",children:(0,c.jsxs)("div",{className:"w-full max-w-md flex flex-col gap-6 animate-in zoom-in-95 duration-500",children:[(0,c.jsx)("h1",{className:"text-4xl font-bold text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-400",children:"Raffle Config"}),(0,c.jsx)(e0,{onDraw:()=>m("play"),onUpdateParticipants:a,participantCount:t.length,isRolling:n,participants:t,onSetNextWinner:h}),(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsx)(eH,{size:"lg",className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold text-xl py-6",onClick:()=>m("play"),disabled:0===t.length,children:"ENTER GAME MODE "})})]})}),(0,c.jsx)(tv,{position:"bottom-center",theme:"dark"})]})},{})}));</script>
  

